{"version":3,"file":"ApplicationUtils-72f474e8-v9_0pgEC.js","sources":["../../node_modules/@sankhyalabs/ezui/dist/esm/ApplicationUtils-72f474e8.js"],"sourcesContent":["import { D as DialogType } from './DialogType-54a62731.js';\nimport { i as initI18n } from './index-b623906e.js';\n\n// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nfunction rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nfunction unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nconst randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nconst native = {\n  randomUUID\n};\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nclass ApplicationUtils {\n  static async getDefaultMessageOptions() {\n    if (!this.i18n) {\n      this.i18n = await initI18n();\n    }\n    return {\n      canClose: true,\n      labelCancel: this.i18n(\"app.no\"),\n      labelConfirm: this.i18n(\"app.yes\"),\n      btnConfirmDanger: false\n    };\n  }\n  static async showDialog(title, message, icon = null, confirm, dialogType = DialogType.DEFAULT, options) {\n    if (options) {\n      const defaultMessageOptions = await this.getDefaultMessageOptions();\n      options = Object.assign(Object.assign({}, defaultMessageOptions), options);\n    }\n    return new Promise(resolve => {\n      let dialog = document.createElement(\"ez-dialog\");\n      window.document.body.appendChild(dialog);\n      dialog.show(title, message, dialogType, confirm, icon, options.labelCancel, options.labelConfirm, options.btnConfirmDanger, options.beforeClose)\n        .then(ok => {\n        dialog.remove();\n        return resolve(ok);\n      });\n    });\n  }\n  static async alert(title, message, icon = null, options) {\n    if (!options) {\n      const defaultMessageOptions = await this.getDefaultMessageOptions();\n      options = defaultMessageOptions;\n    }\n    return ApplicationUtils.showDialog(title, message, icon, false, DialogType.WARN, options);\n  }\n  static async error(title, message, icon = null, options) {\n    if (!options) {\n      const defaultMessageOptions = await this.getDefaultMessageOptions();\n      options = defaultMessageOptions;\n    }\n    return ApplicationUtils.showDialog(title, message, icon, false, DialogType.CRITICAL, options);\n  }\n  static async success(title, message, icon = null, options) {\n    if (!options) {\n      const defaultMessageOptions = await this.getDefaultMessageOptions();\n      options = defaultMessageOptions;\n    }\n    return ApplicationUtils.showDialog(title, message, icon, false, DialogType.SUCCESS, options);\n  }\n  static async confirm(title, message, icon = null, dialogType = DialogType.WARN, options) {\n    if (!options) {\n      const defaultMessageOptions = await this.getDefaultMessageOptions();\n      options = defaultMessageOptions;\n    }\n    return ApplicationUtils.showDialog(title, message, icon, true, dialogType, options);\n  }\n  static async message(title, message, icon = null, options) {\n    if (!options) {\n      const defaultMessageOptions = await this.getDefaultMessageOptions();\n      options = defaultMessageOptions;\n    }\n    return ApplicationUtils.showDialog(title, message, icon, false, DialogType.DEFAULT, options);\n  }\n  static async info(message, options) {\n    const defaultMessageOptions = await this.getDefaultMessageOptions();\n    if (options !== defaultMessageOptions) {\n      options = Object.assign(Object.assign({}, defaultMessageOptions), options);\n    }\n    let useIcon = false;\n    let toast = document.querySelector(\"ez-toast\");\n    if (!toast) {\n      toast = document.createElement(\"ez-toast\");\n      const icon = document.createElement(\"ez-icon\");\n      icon.className = \"ez-margin-right--small\";\n      icon.slot = \"icon\";\n      icon.style.setProperty(\"--ez-icon--color\", \"var(--color--success)\");\n      toast.appendChild(icon);\n      window.document.body.appendChild(toast);\n    }\n    if (options.iconName) {\n      const iconElem = toast.querySelector(\"ez-icon\");\n      if (iconElem) {\n        iconElem.iconName = options.iconName;\n        useIcon = true;\n      }\n    }\n    else {\n      useIcon = false;\n    }\n    toast.show(message, 5000, useIcon, options.canClose);\n  }\n  static isModalContent(content) {\n    return content instanceof HTMLElement && content.tagName === 'EZ-MODAL-CONTAINER';\n  }\n  /**\n   * Exibe um popup configurado com os parâmetros informados e retorna um callBack\n   * para removêlo da DOM quando necessário.\n   *\n   * @param popupProps\n   */\n  static async showPopup(popupProps) {\n    var _a, _b;\n    const popup = document.createElement(\"ez-popup\");\n    window.document.body.appendChild(popup);\n    const { content } = popupProps;\n    popup.setAttribute('id', v4());\n    popup.heightMode = (_a = popupProps.size) !== null && _a !== void 0 ? _a : \"auto\";\n    popup.opened = true;\n    if (ApplicationUtils.isModalContent(content)) {\n      popup.appendChild(content);\n      popup.useHeader = false;\n    }\n    else {\n      popup.ezTitle = (_b = popupProps.title) !== null && _b !== void 0 ? _b : \"\";\n      popup.innerHTML = content;\n    }\n    return () => popup.remove();\n  }\n  static async showModal(modalProps) {\n    modalProps = Object.assign(Object.assign({}, ApplicationUtils.defaultModalProps), modalProps);\n    const modal = document.createElement(\"ez-modal\");\n    window.document.body.appendChild(modal);\n    modal.setAttribute('id', v4());\n    modal.modalSize = modalProps.size;\n    modal.align = modalProps.position;\n    modal.heightMode = modalProps.heightMode;\n    modal.closeEsc = modalProps.closeEsc;\n    modal.closeOutsideClick = modalProps.closeOutsideClick;\n    modal.scrim = modalProps.useScrimLight ? 'light' : 'medium';\n    if (modalProps.content instanceof String || typeof modalProps.content === 'string') {\n      modal.innerHTML = modalProps.content;\n    }\n    else {\n      modal.appendChild(modalProps.content);\n    }\n    modal.opened = true;\n    return () => modal.remove();\n  }\n  static showAlerts(props) {\n    const alertListId = 'EzAlertList';\n    let alertList = document.getElementById(alertListId);\n    if (!alertList) {\n      alertList = document.createElement('ez-alert-list');\n      alertList.setAttribute(\"id\", alertListId);\n      window.document.body.appendChild(alertList);\n    }\n    props = Object.assign(Object.assign({}, ApplicationUtils.defaultAlertListProps), props);\n    alertList.itemRightSlotBuilder = props.itemRightSlotBuilder;\n    alertList.enableDragAndDrop = props.enableDragAndDrop;\n    alertList.enableExpand = props.enableExpand;\n    alertList.opened = props.opened;\n    alertList.alerts = props.alerts;\n  }\n}\nApplicationUtils.defaultModalProps = {\n  content: null,\n  position: 'right',\n  size: 'small',\n  heightMode: 'regular',\n  closeOutsideClick: true,\n  closeEsc: true\n};\nApplicationUtils.defaultAlertListProps = {\n  alerts: [],\n  enableDragAndDrop: true,\n  enableExpand: true,\n  itemRightSlotBuilder: null,\n  opened: true\n};\n\nexport { ApplicationUtils as A };\n"],"names":["getRandomValues","rnds8","rng","byteToHex","i","unsafeStringify","arr","offset","randomUUID","native","v4","options","buf","rnds","ApplicationUtils","initI18n","title","message","icon","confirm","dialogType","DialogType","defaultMessageOptions","resolve","dialog","ok","useIcon","toast","iconElem","content","popupProps","_a","_b","popup","modalProps","modal","props","alertListId","alertList"],"mappings":"yFAMA,IAAIA,EACJ,MAAMC,EAAQ,IAAI,WAAW,EAAE,EAC/B,SAASC,GAAM,CAEb,GAAI,CAACF,IAEHA,EAAkB,OAAO,OAAW,KAAe,OAAO,iBAAmB,OAAO,gBAAgB,KAAK,MAAM,EAE3G,CAACA,GACH,MAAM,IAAI,MAAM,0GAA0G,EAI9H,OAAOA,EAAgBC,CAAK,CAC9B,CAOA,MAAME,EAAY,CAAE,EAEpB,QAASC,EAAI,EAAGA,EAAI,IAAK,EAAEA,EACzBD,EAAU,MAAMC,EAAI,KAAO,SAAS,EAAE,EAAE,MAAM,CAAC,CAAC,EAGlD,SAASC,EAAgBC,EAAKC,EAAS,EAAG,CAGxC,OAAOJ,EAAUG,EAAIC,EAAS,CAAC,CAAC,EAAIJ,EAAUG,EAAIC,EAAS,CAAC,CAAC,EAAIJ,EAAUG,EAAIC,EAAS,CAAC,CAAC,EAAIJ,EAAUG,EAAIC,EAAS,CAAC,CAAC,EAAI,IAAMJ,EAAUG,EAAIC,EAAS,CAAC,CAAC,EAAIJ,EAAUG,EAAIC,EAAS,CAAC,CAAC,EAAI,IAAMJ,EAAUG,EAAIC,EAAS,CAAC,CAAC,EAAIJ,EAAUG,EAAIC,EAAS,CAAC,CAAC,EAAI,IAAMJ,EAAUG,EAAIC,EAAS,CAAC,CAAC,EAAIJ,EAAUG,EAAIC,EAAS,CAAC,CAAC,EAAI,IAAMJ,EAAUG,EAAIC,EAAS,EAAE,CAAC,EAAIJ,EAAUG,EAAIC,EAAS,EAAE,CAAC,EAAIJ,EAAUG,EAAIC,EAAS,EAAE,CAAC,EAAIJ,EAAUG,EAAIC,EAAS,EAAE,CAAC,EAAIJ,EAAUG,EAAIC,EAAS,EAAE,CAAC,EAAIJ,EAAUG,EAAIC,EAAS,EAAE,CAAC,CACnf,CAEA,MAAMC,EAAa,OAAO,OAAW,KAAe,OAAO,YAAc,OAAO,WAAW,KAAK,MAAM,EAChGC,EAAS,CACb,WAAAD,CACF,EAEA,SAASE,EAAGC,EAASC,EAAKL,EAAQ,CAChC,GAAIE,EAAO,YAAsB,CAACE,EAChC,OAAOF,EAAO,WAAY,EAG5BE,EAAUA,GAAW,CAAE,EACvB,MAAME,EAAOF,EAAQ,SAAWA,EAAQ,KAAOT,KAE/C,OAAAW,EAAK,CAAC,EAAIA,EAAK,CAAC,EAAI,GAAO,GAC3BA,EAAK,CAAC,EAAIA,EAAK,CAAC,EAAI,GAAO,IAYpBR,EAAgBQ,CAAI,CAC7B,CAEA,MAAMC,CAAiB,CACrB,aAAa,0BAA2B,CACtC,OAAK,KAAK,OACR,KAAK,KAAO,MAAMC,EAAU,GAEvB,CACL,SAAU,GACV,YAAa,KAAK,KAAK,QAAQ,EAC/B,aAAc,KAAK,KAAK,SAAS,EACjC,iBAAkB,EACnB,CACL,CACE,aAAa,WAAWC,EAAOC,EAASC,EAAO,KAAMC,EAASC,EAAaC,EAAW,QAASV,EAAS,CACtG,GAAIA,EAAS,CACX,MAAMW,EAAwB,MAAM,KAAK,yBAA0B,EACnEX,EAAU,OAAO,OAAO,OAAO,OAAO,GAAIW,CAAqB,EAAGX,CAAO,CAC/E,CACI,OAAO,IAAI,QAAQY,GAAW,CAC5B,IAAIC,EAAS,SAAS,cAAc,WAAW,EAC/C,OAAO,SAAS,KAAK,YAAYA,CAAM,EACvCA,EAAO,KAAKR,EAAOC,EAASG,EAAYD,EAASD,EAAMP,EAAQ,YAAaA,EAAQ,aAAcA,EAAQ,iBAAkBA,EAAQ,WAAW,EAC5I,KAAKc,IACND,EAAO,OAAQ,EACRD,EAAQE,CAAE,EAClB,CACP,CAAK,CACL,CACE,aAAa,MAAMT,EAAOC,EAASC,EAAO,KAAMP,EAAS,CACvD,OAAKA,IAEHA,EAD8B,MAAM,KAAK,yBAA0B,GAG9DG,EAAiB,WAAWE,EAAOC,EAASC,EAAM,GAAOG,EAAW,KAAMV,CAAO,CAC5F,CACE,aAAa,MAAMK,EAAOC,EAASC,EAAO,KAAMP,EAAS,CACvD,OAAKA,IAEHA,EAD8B,MAAM,KAAK,yBAA0B,GAG9DG,EAAiB,WAAWE,EAAOC,EAASC,EAAM,GAAOG,EAAW,SAAUV,CAAO,CAChG,CACE,aAAa,QAAQK,EAAOC,EAASC,EAAO,KAAMP,EAAS,CACzD,OAAKA,IAEHA,EAD8B,MAAM,KAAK,yBAA0B,GAG9DG,EAAiB,WAAWE,EAAOC,EAASC,EAAM,GAAOG,EAAW,QAASV,CAAO,CAC/F,CACE,aAAa,QAAQK,EAAOC,EAASC,EAAO,KAAME,EAAaC,EAAW,KAAMV,EAAS,CACvF,OAAKA,IAEHA,EAD8B,MAAM,KAAK,yBAA0B,GAG9DG,EAAiB,WAAWE,EAAOC,EAASC,EAAM,GAAME,EAAYT,CAAO,CACtF,CACE,aAAa,QAAQK,EAAOC,EAASC,EAAO,KAAMP,EAAS,CACzD,OAAKA,IAEHA,EAD8B,MAAM,KAAK,yBAA0B,GAG9DG,EAAiB,WAAWE,EAAOC,EAASC,EAAM,GAAOG,EAAW,QAASV,CAAO,CAC/F,CACE,aAAa,KAAKM,EAASN,EAAS,CAClC,MAAMW,EAAwB,MAAM,KAAK,yBAA0B,EAC/DX,IAAYW,IACdX,EAAU,OAAO,OAAO,OAAO,OAAO,GAAIW,CAAqB,EAAGX,CAAO,GAE3E,IAAIe,EAAU,GACVC,EAAQ,SAAS,cAAc,UAAU,EAC7C,GAAI,CAACA,EAAO,CACVA,EAAQ,SAAS,cAAc,UAAU,EACzC,MAAMT,EAAO,SAAS,cAAc,SAAS,EAC7CA,EAAK,UAAY,yBACjBA,EAAK,KAAO,OACZA,EAAK,MAAM,YAAY,mBAAoB,uBAAuB,EAClES,EAAM,YAAYT,CAAI,EACtB,OAAO,SAAS,KAAK,YAAYS,CAAK,CAC5C,CACI,GAAIhB,EAAQ,SAAU,CACpB,MAAMiB,EAAWD,EAAM,cAAc,SAAS,EAC1CC,IACFA,EAAS,SAAWjB,EAAQ,SAC5Be,EAAU,GAElB,MAEMA,EAAU,GAEZC,EAAM,KAAKV,EAAS,IAAMS,EAASf,EAAQ,QAAQ,CACvD,CACE,OAAO,eAAekB,EAAS,CAC7B,OAAOA,aAAmB,aAAeA,EAAQ,UAAY,oBACjE,CAOE,aAAa,UAAUC,EAAY,CACjC,IAAIC,EAAIC,EACR,MAAMC,EAAQ,SAAS,cAAc,UAAU,EAC/C,OAAO,SAAS,KAAK,YAAYA,CAAK,EACtC,KAAM,CAAE,QAAAJ,CAAO,EAAKC,EACpB,OAAAG,EAAM,aAAa,KAAMvB,GAAI,EAC7BuB,EAAM,YAAcF,EAAKD,EAAW,QAAU,MAAQC,IAAO,OAASA,EAAK,OAC3EE,EAAM,OAAS,GACXnB,EAAiB,eAAee,CAAO,GACzCI,EAAM,YAAYJ,CAAO,EACzBI,EAAM,UAAY,KAGlBA,EAAM,SAAWD,EAAKF,EAAW,SAAW,MAAQE,IAAO,OAASA,EAAK,GACzEC,EAAM,UAAYJ,GAEb,IAAMI,EAAM,OAAQ,CAC/B,CACE,aAAa,UAAUC,EAAY,CACjCA,EAAa,OAAO,OAAO,OAAO,OAAO,CAAA,EAAIpB,EAAiB,iBAAiB,EAAGoB,CAAU,EAC5F,MAAMC,EAAQ,SAAS,cAAc,UAAU,EAC/C,cAAO,SAAS,KAAK,YAAYA,CAAK,EACtCA,EAAM,aAAa,KAAMzB,GAAI,EAC7ByB,EAAM,UAAYD,EAAW,KAC7BC,EAAM,MAAQD,EAAW,SACzBC,EAAM,WAAaD,EAAW,WAC9BC,EAAM,SAAWD,EAAW,SAC5BC,EAAM,kBAAoBD,EAAW,kBACrCC,EAAM,MAAQD,EAAW,cAAgB,QAAU,SAC/CA,EAAW,mBAAmB,QAAU,OAAOA,EAAW,SAAY,SACxEC,EAAM,UAAYD,EAAW,QAG7BC,EAAM,YAAYD,EAAW,OAAO,EAEtCC,EAAM,OAAS,GACR,IAAMA,EAAM,OAAQ,CAC/B,CACE,OAAO,WAAWC,EAAO,CACvB,MAAMC,EAAc,cACpB,IAAIC,EAAY,SAAS,eAAeD,CAAW,EAC9CC,IACHA,EAAY,SAAS,cAAc,eAAe,EAClDA,EAAU,aAAa,KAAMD,CAAW,EACxC,OAAO,SAAS,KAAK,YAAYC,CAAS,GAE5CF,EAAQ,OAAO,OAAO,OAAO,OAAO,CAAA,EAAItB,EAAiB,qBAAqB,EAAGsB,CAAK,EACtFE,EAAU,qBAAuBF,EAAM,qBACvCE,EAAU,kBAAoBF,EAAM,kBACpCE,EAAU,aAAeF,EAAM,aAC/BE,EAAU,OAASF,EAAM,OACzBE,EAAU,OAASF,EAAM,MAC7B,CACA,CACAtB,EAAiB,kBAAoB,CACnC,QAAS,KACT,SAAU,QACV,KAAM,QACN,WAAY,UACZ,kBAAmB,GACnB,SAAU,EACZ,EACAA,EAAiB,sBAAwB,CACvC,OAAQ,CAAE,EACV,kBAAmB,GACnB,aAAc,GACd,qBAAsB,KACtB,OAAQ,EACV","x_google_ignoreList":[0]}
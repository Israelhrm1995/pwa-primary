{"version":3,"file":"configs-button.entry-D0wWEFvL.js","sources":["../../node_modules/@sankhyalabs/sankhyablocks/dist/esm/configs-button.entry.js"],"sourcesContent":["import { r as registerInstance, c as createEvent, h, H as Host } from './index-479e1293.js';\nimport { ObjectUtils } from '@sankhyalabs/core';\nimport { ApplicationUtils } from '@sankhyalabs/ezui/dist/collection/utils';\n\nconst configsButtonCss = \".dropdown-container.sc-configs-button{font-family:'Roboto';font-size:12px;font-weight:400;display:flex;flex-direction:column;color:#2b3a54;width:200px}.main-item.sc-configs-button{padding:12px;font-size:14px;cursor:pointer;transition:all .2s ease-in-out;display:flex;flex-direction:row;gap:8px;align-items:center;justify-content:start}.main-item.sc-configs-button ez-icon.sc-configs-button{--ez-icon--color:#008561}.main-item.sc-configs-button:nth-of-type(1){padding-bottom:6px}.main-item.sc-configs-button:nth-of-type(2){padding-top:6px}.main-item.sc-configs-button:hover{background-color:#FAFCFF}.item-label.sc-configs-button{display:flex}\";\n\nconst ConfigsButton = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.formConfigOptionSelected = createEvent(this, \"formConfigOptionSelected\", 7);\n    this.configOptions = [];\n    this.selectedConfig = undefined;\n    this.hasChanges = false;\n    this.messagesBuilder = undefined;\n  }\n  getMessage(key, params) {\n    return this.messagesBuilder.getMessage(key, params);\n  }\n  async showShareConfigOptions() {\n    if (this._refOptionsPopover && this._refShareConfigBtn) {\n      await this._refOptionsPopover.showUnder(this._refShareConfigBtn);\n    }\n  }\n  async handleSelectOption(option) {\n    if (ObjectUtils.equals(option, this.selectedConfig))\n      return;\n    if (this.hasChanges) {\n      const title = this.getMessage('snkFormConfig.confirm.title');\n      const msg = this.getMessage('snkFormConfig.confirm.cancel');\n      const confirm = await ApplicationUtils.confirm(title, msg);\n      if (!confirm)\n        return;\n    }\n    this.selectedConfig = option;\n    this.formConfigOptionSelected.emit(option);\n    await this._refOptionsPopover.hide();\n  }\n  getButtonLabel() {\n    var _a, _b;\n    return (_b = (_a = this.selectedConfig) === null || _a === void 0 ? void 0 : _a.name) !== null && _b !== void 0 ? _b : this.getMessage('snkFormConfig.configs.buttonLabel');\n  }\n  renderConfigOptions() {\n    return this.configOptions.map((option) => {\n      return (h(\"div\", { class: `main-item`, onClick: async () => await this.handleSelectOption(option) }, h(\"span\", { class: 'item-label' }, \" \", option.name), this.renderCheckIcon(option)));\n    });\n  }\n  renderCheckIcon(option) {\n    if (this.selectedConfig && this.selectedConfig.origin === option.origin)\n      return h(\"ez-icon\", { iconName: \"check\" });\n  }\n  render() {\n    return (h(Host, null, h(\"ez-button\", { ref: ref => this._refShareConfigBtn = ref, label: this.getButtonLabel(), onClick: async () => await this.showShareConfigOptions() }, h(\"ez-icon\", { slot: \"rightIcon\", iconName: \"chevron-down\" })), h(\"ez-popover-plus\", { ref: ref => this._refOptionsPopover = ref, autoClose: true, overlayType: \"none\" }, h(\"div\", { class: 'dropdown-container' }, this.renderConfigOptions()))));\n  }\n};\nConfigsButton.style = configsButtonCss;\n\nexport { ConfigsButton as configs_button };\n"],"names":["configsButtonCss","ConfigsButton","hostRef","registerInstance","createEvent","key","params","option","ObjectUtils","title","msg","ApplicationUtils","_a","_b","h","Host","ref"],"mappings":"mKAIA,MAAMA,EAAmB,ooBAEnBC,EAAgB,KAAM,CAC1B,YAAYC,EAAS,CACnBC,EAAiB,KAAMD,CAAO,EAC9B,KAAK,yBAA2BE,EAAY,KAAM,2BAA4B,CAAC,EAC/E,KAAK,cAAgB,CAAE,EACvB,KAAK,eAAiB,OACtB,KAAK,WAAa,GAClB,KAAK,gBAAkB,MAC3B,CACE,WAAWC,EAAKC,EAAQ,CACtB,OAAO,KAAK,gBAAgB,WAAWD,EAAKC,CAAM,CACtD,CACE,MAAM,wBAAyB,CACzB,KAAK,oBAAsB,KAAK,oBAClC,MAAM,KAAK,mBAAmB,UAAU,KAAK,kBAAkB,CAErE,CACE,MAAM,mBAAmBC,EAAQ,CAC/B,GAAI,CAAAC,EAAY,OAAOD,EAAQ,KAAK,cAAc,EAElD,IAAI,KAAK,WAAY,CACnB,MAAME,EAAQ,KAAK,WAAW,6BAA6B,EACrDC,EAAM,KAAK,WAAW,8BAA8B,EAE1D,GAAI,CADY,MAAMC,EAAiB,QAAQF,EAAOC,CAAG,EAEvD,MACR,CACI,KAAK,eAAiBH,EACtB,KAAK,yBAAyB,KAAKA,CAAM,EACzC,MAAM,KAAK,mBAAmB,KAAM,EACxC,CACE,gBAAiB,CACf,IAAIK,EAAIC,EACR,OAAQA,GAAMD,EAAK,KAAK,kBAAoB,MAAQA,IAAO,OAAS,OAASA,EAAG,QAAU,MAAQC,IAAO,OAASA,EAAK,KAAK,WAAW,mCAAmC,CAC9K,CACE,qBAAsB,CACpB,OAAO,KAAK,cAAc,IAAKN,GACrBO,EAAE,MAAO,CAAE,MAAO,YAAa,QAAS,SAAY,MAAM,KAAK,mBAAmBP,CAAM,CAAC,EAAIO,EAAE,OAAQ,CAAE,MAAO,YAAc,EAAE,IAAKP,EAAO,IAAI,EAAG,KAAK,gBAAgBA,CAAM,CAAC,CACxL,CACL,CACE,gBAAgBA,EAAQ,CACtB,GAAI,KAAK,gBAAkB,KAAK,eAAe,SAAWA,EAAO,OAC/D,OAAOO,EAAE,UAAW,CAAE,SAAU,OAAO,CAAE,CAC/C,CACE,QAAS,CACP,OAAQA,EAAEC,EAAM,KAAMD,EAAE,YAAa,CAAE,IAAKE,GAAO,KAAK,mBAAqBA,EAAK,MAAO,KAAK,eAAc,EAAI,QAAS,SAAY,MAAM,KAAK,uBAAsB,GAAMF,EAAE,UAAW,CAAE,KAAM,YAAa,SAAU,cAAgB,CAAA,CAAC,EAAGA,EAAE,kBAAmB,CAAE,IAAKE,GAAO,KAAK,mBAAqBA,EAAK,UAAW,GAAM,YAAa,MAAM,EAAIF,EAAE,MAAO,CAAE,MAAO,sBAAwB,KAAK,oBAAmB,CAAE,CAAC,CAAC,CACha,CACA,EACAb,EAAc,MAAQD","x_google_ignoreList":[0]}
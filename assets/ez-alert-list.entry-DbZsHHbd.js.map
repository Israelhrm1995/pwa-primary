{"version":3,"file":"ez-alert-list.entry-DbZsHHbd.js","sources":["../../node_modules/@sankhyalabs/ezui/dist/esm/ez-alert-list.entry.js"],"sourcesContent":["import { r as registerInstance, h, H as Host, g as getElement } from './index-baa5e267.js';\nimport { FloatingManager, ElementIDUtils } from '@sankhyalabs/core';\n\nconst ezAlertListCss = \":host {\\n  display: flex;\\n\\n  /* Alert List */\\n  \\n  /*@doc Define a largura da lista minimizado */\\n  --ez-alert-list__container--width: 680px;\\n  /*@doc Define a altura da lista minimizado */\\n  --ez-alert-list__container--height: 220px;\\n  \\n  /*@doc Define a largura da lista maximizada */\\n  --ez-alert-list__container--width--expanded: 920px;\\n  /*@doc Define a altura da lista maximizada */\\n  --ez-alert-list__container--height--expanded: 540px;\\n\\n  /* Title */\\n  /*@doc Define a fonte do título do componente */\\n  --ez-alert-list__title--font-family: var(--font-pattern, \\\"Roboto\\\");\\n  /*@doc Define o tamanho da fonte do título do popup.*/\\n  --ez-alert-list__title--font-size: var(--title--large, 20px);\\n  /*@doc Define a cor da fonte do título do popup.*/\\n  --ez-alert-list__title--color: var(--title--primary, #2b3a54);\\n  /*@doc Define o peso da fonte do título do popup.*/\\n  --ez-alert-list__title--font-weight: var(--text-weight--extra-large, 700);\\n\\n  /* @doc Define a borda inferior do item da lista. */\\n  --ez-list__item--border-bottom: var(--border--small, 1px solid);\\n\\n  /* @doc Define a cor da borda inferior do item da lista. */\\n  --ez-list__item--border-bottom-color: var(--color--strokes, #DCE0E8);\\n\\n  /* @doc Define o tipo da quebra de linha do item da lista. */\\n  --ez-list__item--white-space: break-space;\\n}\\n\\n.alert-list__content {\\n  display: flex;\\n  flex-direction: column;\\n  \\n  gap: var(--space--xs);\\n  margin: var(--space--large, 24px);\\n  width: 100%;\\n}\\n\\n.alert-list__container {\\n  z-index: var(--ez-elevation--8, 8);\\n  display: flex;\\n  height: var(--ez-alert-list__container--height);\\n  width: var(--ez-alert-list__container--width);\\n  border-radius: var(--border--radius-medium);\\n  background-color: var(--background--xlight);\\n  box-shadow: var(--shadow--medium);\\n\\n  &.expanded {\\n    height: var(--ez-alert-list__container--height--expanded);\\n    width: var(--ez-alert-list__container--width--expanded);\\n  }\\n\\n  @media (max-height: 640px) {\\n    max-height: calc(100vh - var(--space--3xl));\\n  }  \\n}\\n\\n.alert-list__header {\\n  width: 100%;\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n}\\n\\n.alert-list__title {\\n  font-family: var(--ez-alert-list__title--font-family);\\n  font-size: var(--ez-alert-list__title--font-size);\\n  font-weight: var(--ez-alert-list__title--font-weight);\\n  color: var(--ez-alert-list__title--color);\\n}\\n\\n.alert-list__header__buttons {\\n  display: flex;\\n  gap: var(--space--xs);\\n}\\n\\n.alert-list__expandable-content {\\n  overflow-y: auto;\\n  scrollbar-width: thin;\\n}\\n\\n\";\n\nconst EzAlertList = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this._container = undefined;\n    this.alerts = [];\n    this.enableDragAndDrop = undefined;\n    this.enableExpand = true;\n    this.itemRightSlotBuilder = undefined;\n    this.opened = true;\n    this.expanded = false;\n  }\n  observeOpened() {\n    if (this.opened) {\n      this.manageOverlay();\n    }\n  }\n  /**\n   * Retorna o id do alerta a partir do título e do índice.\n   */\n  alertId(title, index) {\n    const concatTitle = (title) => { var _a; return (_a = title === null || title === void 0 ? void 0 : title.split(' ').join('-')) !== null && _a !== void 0 ? _a : \"\"; };\n    return `alert-${index}-${concatTitle(title)}`;\n  }\n  /**\n   * Retorna o título do alerta a partir do id.\n   */\n  getAlertTitle(id) {\n    var _a;\n    return (_a = this.alerts.find((alert, index) => this.alertId(alert.title, index) === id)) === null || _a === void 0 ? void 0 : _a.title;\n  }\n  /**\n   * Retorna o link para o titulo do alerta a partir do id.\n   */\n  getLinkActionClick(item) {\n    var _a;\n    const action = (_a = this.alerts.find((alert, index) => this.alertId(alert.title, index) === item.id)) === null || _a === void 0 ? void 0 : _a.onClickLink;\n    if (action)\n      return action;\n    return () => { };\n  }\n  /**\n    * Retorna o texto do título do alerta.\n    */\n  getTitleText(item) {\n    var _a;\n    const title = (_a = this.getAlertTitle(item.id)) !== null && _a !== void 0 ? _a : '';\n    return `${title}${(title && item.label) ? ':' : ''}`;\n  }\n  /**\n   * Gerencia a exibição do conteúdo expandido.\n   */\n  toggleExpandContainer() {\n    if (!this.enableExpand) {\n      return;\n    }\n    this.expanded = !this.expanded;\n    this._container.classList.toggle('expanded', this.expanded);\n    if (this.expanded) {\n      this.updatePosition(this.getBoundingRight(), this.getBoundingBottom());\n    }\n    else {\n      this.updatePosition(`10px`, `10px`);\n    }\n  }\n  /**\n   * Gerencia a exibição do overlay usando FloatingManager do Core.\n   */\n  manageOverlay() {\n    if (this.opened && this._container) {\n      this._overlayId = FloatingManager.float(this._container, this._overlayRef, this.getFloatOptions());\n    }\n    else {\n      if (this._overlayId === undefined)\n        return;\n      FloatingManager.close(this._overlayId);\n      this._overlayId = undefined;\n    }\n  }\n  /**\n   * Atualiza a posição da lista.\n   */\n  updatePosition(right, bottom) {\n    if (this.opened) {\n      FloatingManager.updateFloatPosition(this._container, this._overlayRef, Object.assign(Object.assign({}, this.getFloatOptions()), { right,\n        bottom }));\n    }\n  }\n  ;\n  /**\n   * Retorna valores padrões do componente\n   */\n  getFloatOptions() {\n    return {\n      autoClose: false,\n      isFixed: true,\n      bottom: '10px',\n      right: '10px',\n    };\n  }\n  ;\n  /**\n   * Retorna o valor para o alinhamento horizontal do componente.\n   */\n  getBoundingRight() {\n    const docWidth = document.body.clientWidth;\n    const boxWidth = this._container.getBoundingClientRect().width;\n    return ((docWidth - boxWidth) / 2) + 'px';\n  }\n  /**\n   * Retorna o valor para o alinhamento vertical do componente.\n   */\n  getBoundingBottom() {\n    const docHeight = document.body.clientHeight;\n    const boxHeight = this._container.getBoundingClientRect().height;\n    return ((docHeight - boxHeight) / 2) + 'px';\n  }\n  componentDidLoad() {\n    this.manageOverlay();\n    if (this.opened && this._container) {\n      this._container.focus();\n    }\n  }\n  componentWillLoad() {\n    this.dataElementId = ElementIDUtils.addIDInfo(this._element, 'EzAlertList');\n  }\n  render() {\n    return (h(Host, Object.assign({}, { [ElementIDUtils.DATA_ELEMENT_ID_ATTRIBUTE_NAME]: this.dataElementId }), this.opened ?\n      (h(\"div\", { ref: elem => (this._overlayRef = elem) }, h(\"div\", { class: `alert-list__container ${this.expanded ? 'expanded' : ''}`, ref: elem => (this._container = elem) }, h(\"div\", { class: \"alert-list__content\" }, h(\"div\", { class: \"alert-list__header\" }, h(\"div\", { class: \"alert-list__title\" }, `Avisos (${this.alerts.length})`), h(\"div\", { class: \"alert-list__header__buttons\" }, this.enableExpand && (h(\"ez-button\", { mode: \"icon\", size: \"small\", iconName: \"expand\", onClick: () => this.toggleExpandContainer(), \"data-element-id\": ElementIDUtils.getInternalIDInfo('expandButton'), title: this.expanded ? 'Resumir' : 'Expandir' })), h(\"ez-button\", { mode: \"icon\", size: \"small\", iconName: \"close\", \"data-element-id\": ElementIDUtils.getInternalIDInfo('closeButton'), onClick: () => {\n          this.opened = false;\n        }, title: 'Fechar' }))), h(\"div\", { class: \"alert-list__expandable-content\" }, h(\"ez-list\", { itemSlotBuilder: this.itemRightSlotBuilder, hoverFeedback: true, itemLeftSlotBuilder: item => {\n          return (h(\"a\", { onClick: this.getLinkActionClick(item), style: {\n              fontFamily: \"var(--font-pattern, 'Roboto')\",\n              fontSize: 'var(--text--medium, 14px)',\n              fontWeight: 'var(--text-weight--medium, 400)',\n              color: 'var(--color--primary, #008561)',\n              marginRight: '4px',\n              cursor: 'pointer',\n              display: 'flex',\n              width: 'max-content',\n              textDecoration: 'none'\n            } }, this.getTitleText(item)));\n        }, dataSource: this.alerts.map((alert, index) => {\n          var _a;\n          return {\n            id: this.alertId(alert.title, index),\n            label: (_a = alert.detail) !== null && _a !== void 0 ? _a : \"\",\n          };\n        }) })))))) : null));\n  }\n  get _element() { return getElement(this); }\n  static get watchers() { return {\n    \"_container\": [\"observeOpened\"]\n  }; }\n};\nEzAlertList.style = ezAlertListCss;\n\nexport { EzAlertList as ez_alert_list };\n"],"names":["ezAlertListCss","EzAlertList","hostRef","registerInstance","title","index","_a","id","alert","item","action","FloatingManager","right","bottom","docWidth","boxWidth","docHeight","boxHeight","ElementIDUtils","h","Host","elem","getElement"],"mappings":"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","x_google_ignoreList":[0]}
import{v as s,w as a,y as n,E as r,x as t,z as b}from"./index-CxFxc26b.js";import{A as c}from"./ApplicationUtils-72f474e8-v9_0pgEC.js";import"./DialogType-54a62731-BI65OFfy.js";import"./CheckMode-bdb2ec19-B2adzS2d.js";import"./FormLayout-071d324c-B21b_KW2.js";const d=":host{--ez-collapsible-box--font-size:var(--title--medium, 14px);--ez-collapsible-box--font-family:var(--font-pattern, Arial);--ez-collapsible-box--font-weight:var(--text-weight--large, 600);--ez-collapsible-box--color:var(--title--primary);--ez-collapsible-box--subtitle--font-size:var(--text--medium, 14px);--ez-collapsible-box--subtitle--font-family:var(--font-pattern, 'Roboto');--ez-collapsible-box--subtitle--font-weight:var(--text-weight--medium, 400);--ez-collapsible-box--subtitle--color:var(--text--primary);--ez-collapsible-box--subtitle--margin-bottom:var(--space--medium, 12px);--ez-collapsible-box--focus--color:var(--color--primary-600);--ez-collapsible-box__icon--color:var(--ez-collapsible-box--color);--ez-collapsible-box__header--padding-top:0px;--ez-collapsible-box__header--padding-bottom:0px;--ez-collapsible-box__header--padding-right:0px;--ez-collapsible-box__header--padding-left:0px;display:flex;flex-wrap:wrap;width:100%}ez-icon{--ez-icon--color:inherit}.collapsible-box{display:flex;flex-direction:column;width:100%;overflow:hidden}.collapsable-box--bordered{border:var(--border--small);border-color:var(--color--strokes);border-radius:var(--border--radius-medium);padding:var(--space--xs)}.collapsible-box__header{display:flex;box-sizing:border-box;padding-top:var(--ez-collapsible-box__header--padding-top);padding-bottom:var(--ez-collapsible-box__header--padding-bottom);padding-right:var(--ez-collapsible-box__header--padding-right);padding-left:var(--ez-collapsible-box__header--padding-left)}.collapsible-box__title{position:relative;width:100%;display:flex;box-sizing:border-box;align-items:center;outline:none;border:none;background-color:unset;cursor:pointer;padding:0px;text-align:left;color:var(--ez-collapsible-box--color);--ez-icon--color:var(--ez-collapsible-box__icon--color);margin-bottom:var(--space--medium, 12px)}.collapsible-box__title:focus{color:var(--ez-collapsible-box--focus--color);--ez-icon--color:var(--ez-collapsible-box--focus--color)}.collapsible-box__label{display:flex;white-space:nowrap;overflow:hidden;cursor:pointer;text-overflow:ellipsis;box-sizing:border-box;margin-left:6px;gap:6px;font-family:var(--ez-collapsible-box--font-family);font-size:var(--ez-collapsible-box--font-size);font-weight:var(--ez-collapsible-box--font-weight)}.subtitle-box__label{display:flex;overflow:hidden;text-overflow:ellipsis;box-sizing:border-box;font-family:var(--ez-collapsible-box--subtitle--font-family);font-size:var(--ez-collapsible-box--subtitle--font-size);font-weight:var(--ez-collapsible-box--subtitle--font-weight);color:var(--ez-collapsible-box--subtitle--color);margin-bottom:var(--ez-collapsible-box--subtitle--margin-bottom)}.subtitle-box__content{width:100%}.collapsible-box__label ez-icon{visibility:hidden;transition:2s all ease-in-out}.collapsible-box__label:hover ez-icon{visibility:visible}.collapsible-box__text-edit{margin-left:6px}.collapsible-box__icon{transform:rotate(90deg) translate(0px, 14%);transition:transform var(--transition)}.collapsible-box__icon--collapsed{transform:rotate(0deg) translate(-14%, 0px)}.collapsible-box__title--icon-right{flex-direction:row-reverse}.collapsible-box__title--icon-right .collapsible-box__icon{transform:rotate(90deg) translate(0px, -14%)}.collapsible-box__title--icon-right .collapsible-box__icon--collapsed{transform:rotate(0deg) translate(14%, 0px)}.collapsible-box__title--icon-right .collapsible-box__label{margin-left:0px;margin-right:6px}.collapsible-box__title--left{margin-right:auto}.collapsible-box__title--right{margin-left:auto}.collapsible-box__title--center{margin-left:auto;margin-right:auto}.collapsible-box__title--stretch{justify-content:space-between;width:100%}.collapsible-box__title--no-margin{margin-bottom:0}.collapsible-box__content{display:flex;flex-wrap:wrap;width:100%;height:0px;max-height:0px;opacity:0;overflow:hidden;transition:all var(--transition, 0.5s)}.collapsible-box__content--show{height:100%;max-height:none;opacity:1;overflow:visible;transition:all var(--transition, 0.5s)}.font--x-small{font-size:10px}.font--small{font-size:12px}.font--medium{font-size:14px}.font--large{font-size:16px}.font--x-large{font-size:20px}",p=class{constructor(e){s(this,e),this.ezChange=a(this,"ezChange"),this.ezRemove=a(this,"ezRemove"),this.ezSaveEditLabel=a(this,"ezSaveEditLabel"),this.ezEditLabelMode=a(this,"ezEditLabelMode"),this._activeEditText=!1,this.value=!1,this.boxBordered=!1,this.label=void 0,this.subtitle=void 0,this.headerSize="small",this.iconPlacement="left",this.headerAlign="left",this.removable=!1,this.editable=!1,this.conditionalSave=void 0}async showHide(){this.value=!this.value}async applyFocusTextEdit(){var e;(e=this._refTextEdit)===null||e===void 0||e.applyFocusSelect()}async cancelEdition(){this._activeEditText=!1,this.ezEditLabelMode.emit(this._activeEditText)}observeCollapsedValue(){this.ezChange.emit(this.value)}getHeaderSize(){const e=["xsmall","xlarge"],i=["x-small","small","medium","large","x-large"],l=this.headerSize&&this.headerSize.toLowerCase(),o=e.includes(l)?l.replace("x","x-"):l;return i.includes(o)?o:"small"}removeElement(){this._hostElement&&this._hostElement.remove(),this.ezRemove.emit(this)}editLabel(e){e.preventDefault(),e.stopPropagation(),this._activeEditText=!0,this.ezEditLabelMode.emit(this._activeEditText)}async confirmRemove(e){e.stopPropagation();const i=this.i18n("ez-collapsible-box.confirmRemove",{label:this.label});await c.confirm(this.i18n("app.warning"),i)&&this.removeElement()}saveEditionText(e){const{value:i,newValue:l}=e.detail;if(i===l){this.cancelEdition();return}let o=!0;this.conditionalSave&&(o=this.conditionalSave(l)),this.label!==l&&o&&(this.label=l,this._activeEditText=!1,this.ezSaveEditLabel.emit(e.detail),this.ezEditLabelMode.emit(this._activeEditText))}getStyledLabel(){return this._refLabel==null?void 0:{fontSize:window.getComputedStyle(this._refLabel).getPropertyValue("font-size"),fontWeight:window.getComputedStyle(this._refLabel).getPropertyValue("font-weight"),fontFamily:window.getComputedStyle(this._refLabel).getPropertyValue("font-family")}}async componentWillLoad(){this.i18n=await n()}componentDidLoad(){r.addIDInfo(this._hostElement)}render(){return t("div",{class:`collapsible-box ${this.boxBordered&&"collapsable-box--bordered"}`},t("div",{class:"collapsible-box__header"},t("button",Object.assign({},this._activeEditText?null:{onClick:()=>{this.showHide()}},{class:"collapsible-box__title collapsible-box__title--"+(this.headerAlign||"left")+(this.iconPlacement==="right"?" collapsible-box__title--icon-right":"")+(this.value?" collapsible-box__title--no-margin":"")}),t("ez-icon",{slot:"icon","icon-name":"chevron-right",size:this.getHeaderSize(),class:"collapsible-box__icon collapsible-box__icon--"+this.getHeaderSize()+(this.value?" collapsible-box__icon--collapsed":""),id:"toggleCollapsible"}),this._activeEditText?t("ez-text-edit",{class:"collapsible-box__text-edit",ref:e=>this._refTextEdit=e,value:this.label,styled:this.getStyledLabel(),onSaveEdition:e=>this.saveEditionText(e),onCancelEdition:()=>this.cancelEdition()}):t("label",{class:"collapsible-box__label font--"+this.getHeaderSize(),title:this.label,ref:e=>this._refLabel=e},t("span",null,this.label),this.editable&&t("ez-icon",{slot:"icon","icon-name":"edit",onClick:e=>this.editLabel(e),title:this.i18n("app.edit")}),this.removable&&t("ez-icon",{slot:"icon","icon-name":"delete",onClick:e=>this.confirmRemove(e),title:this.i18n("app.remove")}))),t("slot",{name:"rightSlot"})),t("div",{class:"collapsible-box__content"+(this.value?"":" collapsible-box__content--show")},this.subtitle&&t("div",{class:"subtitle-box__content"},t("label",{class:"subtitle-box__label",title:this.subtitle},t("span",null,this.subtitle))),t("slot",null)))}get _hostElement(){return b(this)}static get watchers(){return{value:["observeCollapsedValue"]}}};p.style=d;export{p as ez_collapsible_box};
//# sourceMappingURL=ez-collapsible-box.entry-3SC4m3PP.js.map

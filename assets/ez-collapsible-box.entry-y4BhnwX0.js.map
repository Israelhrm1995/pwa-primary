{"version":3,"file":"ez-collapsible-box.entry-y4BhnwX0.js","sources":["../../node_modules/@sankhyalabs/ezui/dist/esm/ez-collapsible-box.entry.js"],"sourcesContent":["import { r as registerInstance, c as createEvent, h, g as getElement } from './index-5a720e56.js';\nimport { ElementIDUtils } from '@sankhyalabs/core';\nimport { A as ApplicationUtils } from './ApplicationUtils-72f474e8.js';\nimport './DialogType-54a62731.js';\nimport './CheckMode-bdb2ec19.js';\nimport { i as initI18n } from './index-b623906e.js';\nimport './FormLayout-071d324c.js';\n\nconst ezCollapsibleBoxCss = \":host{--ez-collapsible-box--font-size:var(--title--medium, 14px);--ez-collapsible-box--font-family:var(--font-pattern, Arial);--ez-collapsible-box--font-weight:var(--text-weight--large, 600);--ez-collapsible-box--color:var(--title--primary);--ez-collapsible-box--subtitle--font-size:var(--text--medium, 14px);--ez-collapsible-box--subtitle--font-family:var(--font-pattern, 'Roboto');--ez-collapsible-box--subtitle--font-weight:var(--text-weight--medium, 400);--ez-collapsible-box--subtitle--color:var(--text--primary);--ez-collapsible-box--subtitle--margin-bottom:var(--space--medium, 12px);--ez-collapsible-box--focus--color:var(--color--primary-600);--ez-collapsible-box__icon--color:var(--ez-collapsible-box--color);--ez-collapsible-box__header--padding-top:0px;--ez-collapsible-box__header--padding-bottom:0px;--ez-collapsible-box__header--padding-right:0px;--ez-collapsible-box__header--padding-left:0px;display:flex;flex-wrap:wrap;width:100%}ez-icon{--ez-icon--color:inherit}.collapsible-box{display:flex;flex-direction:column;width:100%;overflow:hidden}.collapsable-box--bordered{border:var(--border--small);border-color:var(--color--strokes);border-radius:var(--border--radius-medium);padding:var(--space--xs)}.collapsible-box__header{display:flex;box-sizing:border-box;padding-top:var(--ez-collapsible-box__header--padding-top);padding-bottom:var(--ez-collapsible-box__header--padding-bottom);padding-right:var(--ez-collapsible-box__header--padding-right);padding-left:var(--ez-collapsible-box__header--padding-left)}.collapsible-box__title{position:relative;width:100%;display:flex;box-sizing:border-box;align-items:center;outline:none;border:none;background-color:unset;cursor:pointer;padding:0px;text-align:left;color:var(--ez-collapsible-box--color);--ez-icon--color:var(--ez-collapsible-box__icon--color);margin-bottom:var(--space--medium, 12px)}.collapsible-box__title:focus{color:var(--ez-collapsible-box--focus--color);--ez-icon--color:var(--ez-collapsible-box--focus--color)}.collapsible-box__label{display:flex;white-space:nowrap;overflow:hidden;cursor:pointer;text-overflow:ellipsis;box-sizing:border-box;margin-left:6px;gap:6px;font-family:var(--ez-collapsible-box--font-family);font-size:var(--ez-collapsible-box--font-size);font-weight:var(--ez-collapsible-box--font-weight)}.subtitle-box__label{display:flex;overflow:hidden;text-overflow:ellipsis;box-sizing:border-box;font-family:var(--ez-collapsible-box--subtitle--font-family);font-size:var(--ez-collapsible-box--subtitle--font-size);font-weight:var(--ez-collapsible-box--subtitle--font-weight);color:var(--ez-collapsible-box--subtitle--color);margin-bottom:var(--ez-collapsible-box--subtitle--margin-bottom)}.subtitle-box__content{width:100%}.collapsible-box__label ez-icon{visibility:hidden;transition:2s all ease-in-out}.collapsible-box__label:hover ez-icon{visibility:visible}.collapsible-box__text-edit{margin-left:6px}.collapsible-box__icon{transform:rotate(90deg) translate(0px, 14%);transition:transform var(--transition)}.collapsible-box__icon--collapsed{transform:rotate(0deg) translate(-14%, 0px)}.collapsible-box__title--icon-right{flex-direction:row-reverse}.collapsible-box__title--icon-right .collapsible-box__icon{transform:rotate(90deg) translate(0px, -14%)}.collapsible-box__title--icon-right .collapsible-box__icon--collapsed{transform:rotate(0deg) translate(14%, 0px)}.collapsible-box__title--icon-right .collapsible-box__label{margin-left:0px;margin-right:6px}.collapsible-box__title--left{margin-right:auto}.collapsible-box__title--right{margin-left:auto}.collapsible-box__title--center{margin-left:auto;margin-right:auto}.collapsible-box__title--stretch{justify-content:space-between;width:100%}.collapsible-box__title--no-margin{margin-bottom:0}.collapsible-box__content{display:flex;flex-wrap:wrap;width:100%;height:0px;max-height:0px;opacity:0;overflow:hidden;transition:all var(--transition, 0.5s)}.collapsible-box__content--show{height:100%;max-height:none;opacity:1;overflow:visible;transition:all var(--transition, 0.5s)}.font--x-small{font-size:10px}.font--small{font-size:12px}.font--medium{font-size:14px}.font--large{font-size:16px}.font--x-large{font-size:20px}\";\n\nconst EzCollapsibleBox = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.ezChange = createEvent(this, \"ezChange\", 7);\n    this.ezRemove = createEvent(this, \"ezRemove\", 7);\n    this.ezSaveEditLabel = createEvent(this, \"ezSaveEditLabel\", 7);\n    this.ezEditLabelMode = createEvent(this, \"ezEditLabelMode\", 7);\n    this._activeEditText = false;\n    this.value = false;\n    this.boxBordered = false;\n    this.label = undefined;\n    this.subtitle = undefined;\n    this.headerSize = \"small\";\n    this.iconPlacement = \"left\";\n    this.headerAlign = \"left\";\n    this.removable = false;\n    this.editable = false;\n    this.conditionalSave = undefined;\n  }\n  /**\n   * Oculta/mostra o conteúdo do ez-collapsible-box.\n   */\n  async showHide() {\n    this.value = !this.value;\n  }\n  /**\n   * Aplica o foco no campo de edição de título.\n   */\n  async applyFocusTextEdit() {\n    var _a;\n    (_a = this._refTextEdit) === null || _a === void 0 ? void 0 : _a.applyFocusSelect();\n  }\n  /**\n   * Cancela a edição de título.\n   */\n  async cancelEdition() {\n    this._activeEditText = false;\n    this.ezEditLabelMode.emit(this._activeEditText);\n  }\n  observeCollapsedValue() {\n    this.ezChange.emit(this.value);\n  }\n  /**\n   * Retorna o tamanho configurado do texto e do ícone.\n   */\n  getHeaderSize() {\n    const sizeAlias = [\"xsmall\", \"xlarge\"];\n    const sizeList = [\"x-small\", \"small\", \"medium\", \"large\", \"x-large\"];\n    const sizeLowerCase = this.headerSize && this.headerSize.toLowerCase();\n    const sizeCustom = sizeAlias.includes(sizeLowerCase) ? sizeLowerCase.replace('x', 'x-') : sizeLowerCase;\n    return sizeList.includes(sizeCustom) ? sizeCustom : \"small\";\n  }\n  removeElement() {\n    this._hostElement && this._hostElement.remove();\n    this.ezRemove.emit(this);\n  }\n  editLabel(evt) {\n    evt.preventDefault();\n    evt.stopPropagation();\n    this._activeEditText = true;\n    this.ezEditLabelMode.emit(this._activeEditText);\n  }\n  async confirmRemove(evt) {\n    evt.stopPropagation();\n    const confirmMessage = this.i18n(\"ez-collapsible-box.confirmRemove\", { label: this.label });\n    const canRemove = await ApplicationUtils.confirm(this.i18n(\"app.warning\"), confirmMessage);\n    if (canRemove) {\n      this.removeElement();\n    }\n  }\n  saveEditionText(editDetails) {\n    const { value, newValue } = editDetails.detail;\n    if (value === newValue) {\n      this.cancelEdition();\n      return;\n    }\n    let canSave = true;\n    if (this.conditionalSave) {\n      canSave = this.conditionalSave(newValue);\n    }\n    if (this.label !== newValue && canSave) {\n      this.label = newValue;\n      this._activeEditText = false;\n      this.ezSaveEditLabel.emit(editDetails.detail);\n      this.ezEditLabelMode.emit(this._activeEditText);\n    }\n  }\n  getStyledLabel() {\n    if (this._refLabel == undefined) {\n      return;\n    }\n    let styledLabel = {\n      fontSize: window.getComputedStyle(this._refLabel).getPropertyValue('font-size'),\n      fontWeight: window.getComputedStyle(this._refLabel).getPropertyValue('font-weight'),\n      fontFamily: window.getComputedStyle(this._refLabel).getPropertyValue('font-family')\n    };\n    return styledLabel;\n  }\n  async componentWillLoad() {\n    this.i18n = await initI18n();\n  }\n  componentDidLoad() {\n    ElementIDUtils.addIDInfo(this._hostElement);\n  }\n  render() {\n    return (h(\"div\", { class: `collapsible-box ${this.boxBordered && 'collapsable-box--bordered'}` }, h(\"div\", { class: \"collapsible-box__header\" }, h(\"button\", Object.assign({}, (!this._activeEditText ? { onClick: () => { this.showHide(); } } : null), { class: \"collapsible-box__title collapsible-box__title--\" + (this.headerAlign || \"left\") +\n        (this.iconPlacement === \"right\" ? \" collapsible-box__title--icon-right\" : \"\") +\n        (this.value ? \" collapsible-box__title--no-margin\" : \"\") }), h(\"ez-icon\", { slot: \"icon\", \"icon-name\": \"chevron-right\", size: this.getHeaderSize(), class: \"collapsible-box__icon collapsible-box__icon--\" + this.getHeaderSize() + (this.value ? \" collapsible-box__icon--collapsed\" : \"\"), id: \"toggleCollapsible\" }), !this._activeEditText ?\n      h(\"label\", { class: \"collapsible-box__label font--\" + this.getHeaderSize(), title: this.label, ref: elem => this._refLabel = elem }, h(\"span\", null, this.label), this.editable &&\n        h(\"ez-icon\", { slot: \"icon\", \"icon-name\": \"edit\", onClick: (evt) => this.editLabel(evt), title: this.i18n(\"app.edit\") }), this.removable &&\n        h(\"ez-icon\", { slot: \"icon\", \"icon-name\": \"delete\", onClick: (evt) => this.confirmRemove(evt), title: this.i18n(\"app.remove\") })) :\n      h(\"ez-text-edit\", { class: \"collapsible-box__text-edit\", ref: ref => this._refTextEdit = ref, value: this.label, styled: this.getStyledLabel(), onSaveEdition: (ev) => this.saveEditionText(ev), onCancelEdition: () => this.cancelEdition() })), h(\"slot\", { name: \"rightSlot\" })), h(\"div\", { class: \"collapsible-box__content\" + (this.value ? \"\" : \" collapsible-box__content--show\") }, this.subtitle &&\n      h(\"div\", { class: \"subtitle-box__content\" }, h(\"label\", { class: \"subtitle-box__label\", title: this.subtitle }, h(\"span\", null, this.subtitle))), h(\"slot\", null))));\n  }\n  get _hostElement() { return getElement(this); }\n  static get watchers() { return {\n    \"value\": [\"observeCollapsedValue\"]\n  }; }\n};\nEzCollapsibleBox.style = ezCollapsibleBoxCss;\n\nexport { EzCollapsibleBox as ez_collapsible_box };\n"],"names":["ezCollapsibleBoxCss","EzCollapsibleBox","hostRef","registerInstance","createEvent","_a","sizeAlias","sizeList","sizeLowerCase","sizeCustom","evt","confirmMessage","ApplicationUtils","editDetails","value","newValue","canSave","initI18n","ElementIDUtils","h","ref","ev","elem","getElement"],"mappings":"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","x_google_ignoreList":[0]}
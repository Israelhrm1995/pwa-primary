{"version":3,"file":"ez-combo-box-list_4.entry-DSxaGxvg.js","sources":["../../node_modules/@sankhyalabs/ezui/dist/esm/ez-combo-box-list_4.entry.js"],"sourcesContent":["import { r as registerInstance, h, H as Host, c as createEvent, g as getElement } from './index-baa5e267.js';\nimport { ElementIDUtils, ObjectUtils, HTMLBuilder, StringUtils, KeyboardManager } from '@sankhyalabs/core';\nimport { C as CustomEditorSource } from './FormLayout-071d324c.js';\nimport { R as RICH_TOOLBAR_FORMAT_TAGS, a as RICH_TOOLBAR_COMMANDS } from './RichToolbarHelper-fd6427df.js';\nimport { p as purify } from './purify-da6317bb.js';\nimport { A as ApplicationUtils } from './ApplicationUtils-eaf91331.js';\nimport './DialogType-54a62731.js';\nimport './CheckMode-bdb2ec19.js';\nimport './_commonjsHelpers-9943807e.js';\n\nconst ezComboBoxListCss = \":host{--ez-combo-box--border-radius:var(--border--radius-medium, 12px);--ez-combo-box--font-size:var(--text--medium, 14px);--ez-combo-box--font-family:var(--font-pattern, Arial);--ez-combo-box--font-weight--large:var(--text-weight--large, 500);--ez-combo-box--font-weight--medium:var(--text-weight--medium, 400);--ez-combo-box--background-color--xlight:var(--background--xlight, #fff);--ez-combo-box--background-medium:var(--background--medium, #f0f3f7);--ez-combo-box--line-height:calc(var(--text--medium, 14px) + 4px);--ez-combo-box__list-title--primary:var(--title--primary, #2B3A54);--ez-combo-box__list-text--primary:var(--text--primary, #626e82);--ez-combo-box__list-height:calc(var(--ez-combo-box--font-size) + var(--ez-combo-box--space--medium) + 4px);--ez-combo-box--space--medium:var(--space--medium, 12px);--ez-combo-box--space--small:var(--space--small, 6px);--ez-combo-box__scrollbar--color-default:var(--scrollbar--default, #626e82);--ez-combo-box__scrollbar--color-background:var(--scrollbar--background, #E5EAF0);--ez-combo-box__scrollbar--color-hover:var(--scrollbar--hover, #2B3A54);--ez-combo-box__scrollbar--color-clicked:var(--scrollbar--clicked, #a2abb9);--ez-combo-box__scrollbar--border-radius:var(--border--radius-small, 6px);--ez-combo-box__scrollbar--width:var(--space--medium, 12px);--ez-combo-box__list-container--padding:var(--space--extra-small, 3px)}.list-container{padding-top:var(--ez-combo-box__list-container--padding)}.list-wrapper{display:flex;flex-direction:column;box-sizing:border-box;width:0;z-index:var(--more-visible, 2);max-height:calc(4*var(--ez-combo-box__list-height) + 2*var(--ez-combo-box--space--small) + 9px);background-color:var(--ez-combo-box--background-color--xlight);border-radius:var(--ez-combo-box--border-radius);box-shadow:var(--shadow--medium, 0 8px 24px 0 rgba(43, 58, 84, 0.10));padding:var(--ez-combo-box--space--small)}.list-options{box-sizing:border-box;width:100%;height:100%;padding:0;margin:0;display:flex;flex-direction:column;scroll-behavior:smooth;overflow:auto;scrollbar-width:thin;gap:3px;scrollbar-color:var(--ez-combo-box__scrollbar--color-clicked) var(--ez-combo-box__scrollbar--color-background)}.list-options::-webkit-scrollbar{background-color:var(--ez-combo-box__scrollbar--color-background);width:var(--ez-combo-box__scrollbar--width);max-width:var(--ez-combo-box__scrollbar--width);min-width:var(--ez-combo-box__scrollbar--width)}.list-options::-webkit-scrollbar-track{background-color:var(--ez-combo-box__scrollbar--color-background);border-radius:var(--ez-combo-box__scrollbar--border-radius)}.list-options::-webkit-scrollbar-thumb{background-color:var(--ez-combo-box__scrollbar--color-default);border-radius:var(--ez-combo-box__scrollbar--border-radius)}.list-options::-webkit-scrollbar-thumb:vertical:hover,.list-options::-webkit-scrollbar-thumb:horizontal:hover{background-color:var(--ez-combo-box__scrollbar--color-hover)}.list-options::-webkit-scrollbar-thumb:vertical:active,.list-options::-webkit-scrollbar-thumb:horizontal:active{background-color:var(--ez-combo-box__scrollbar--color-clicked)}.item{display:flex;align-items:center;width:100%;box-sizing:border-box;list-style-type:none;cursor:pointer;border-radius:var(--ez-combo-box--border-radius-small);padding:var(--ez-combo-box--space--small);min-height:var(--ez-combo-box__list-height);gap:var(--space--small, 6px)}.item__value,.item__label{flex-basis:auto;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:var(--ez-combo-box__list-title--primary);font-family:var(--ez-combo-box--font-family);font-size:var(--ez-combo-box--font-size);line-height:var(--ez-combo-box--line-height)}.item__label{font-weight:var(--ez-combo-box--font-weight--medium)}.item__label--bold{font-weight:var(--ez-combo-box--font-weight--large)}.item__value{text-align:center;color:var(--ez-combo-box__list-text--primary);font-weight:var(--ez-combo-box--font-weight--large)}.item__value--hidden{visibility:hidden;position:absolute;white-space:nowrap;z-index:-1;top:0;left:0}.item__label{text-align:left}.message{text-align:center;display:flex;justify-content:center;align-items:center;list-style-type:none;min-height:var(--ez-combo-box__list-height)}.message__no-result{color:var(--ez-combo-box__list-title--primary);font-family:var(--ez-combo-box--font-family);font-size:var(--ez-combo-box--font-size)}.message__loading{border-radius:50%;width:14px;height:14px;-webkit-animation:spin 1s linear infinite;animation:spin 1s linear infinite;border:3px solid var(--ez-combo-box__list-title--primary);border-top:3px solid transparent}li:hover{background-color:var(--ez-combo-box--background-medium)}.preselected{background-color:var(--background--medium)}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg)}}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}\";\n\nconst EzComboBoxList = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.showLoading = undefined;\n    this.visibleOptions = undefined;\n    this.textEmptyList = \"Nenhum resultado encontrado\";\n    this.showOptionValue = undefined;\n    this.preSelection = undefined;\n    this.maxWidth = undefined;\n    this.width = undefined;\n    this.onOptionSelect = undefined;\n    this.onOptionHover = undefined;\n  }\n  /**\n   * Move a seleção para a próxima opção na lista.\n   */\n  async nextOption() {\n    var _a, _b;\n    if (!((_a = this.visibleOptions) === null || _a === void 0 ? void 0 : _a.length))\n      return;\n    const isAtLastOption = this.preSelection !== undefined && this.preSelection >= this.visibleOptions.length - 1;\n    if (!isAtLastOption) {\n      this.preSelection = this.preSelection === undefined ? 0 : this.preSelection + 1;\n      this.scrollToOption(this.visibleOptions[this.preSelection]);\n      (_b = this.onOptionHover) === null || _b === void 0 ? void 0 : _b.call(this, this.preSelection);\n    }\n  }\n  /**\n   * Move a seleção para a opção anterior na lista, sem ultrapassar o início.\n   */\n  async previousOption() {\n    var _a, _b;\n    if (!((_a = this.visibleOptions) === null || _a === void 0 ? void 0 : _a.length))\n      return;\n    const isAtFirstOption = this.preSelection !== undefined && this.preSelection <= 0;\n    if (!isAtFirstOption) {\n      this.preSelection = this.preSelection === undefined ? this.visibleOptions.length - 1 : this.preSelection - 1;\n      this.scrollToOption(this.visibleOptions[this.preSelection]);\n      (_b = this.onOptionHover) === null || _b === void 0 ? void 0 : _b.call(this, this.preSelection);\n    }\n  }\n  /**\n   * Seleciona a opção atualmente pré-selecionada.\n   */\n  async selectCurrentOption() {\n    if (this.preSelection !== undefined) {\n      this.onOptionSelect(this.visibleOptions[this.preSelection]);\n      this.preSelection = undefined;\n    }\n  }\n  /**\n   * Observa mudanças na propriedade `width` e ajusta a largura da lista.\n   *\n   * @param newValue O novo valor da largura.\n   * @param oldValue O valor anterior da largura.\n   */\n  observeWidth(newValue, oldValue) {\n    if (newValue === oldValue)\n      return;\n    if (!this._listWrapper)\n      return;\n    this._listWrapper.style.width = `${this.width}px`;\n  }\n  /**\n   * Observa mudanças na propriedade `maxWidth` e ajusta a largura máxima da lista.\n   *\n   * @param newValue O novo valor da largura máxima.\n   * @param oldValue O valor anterior da largura máxima.\n   */\n  observeMaxWidth(newValue, oldValue) {\n    if (newValue === oldValue)\n      return;\n    if (!this._listWrapper)\n      return;\n    this._listWrapper.style.maxWidth = this.maxWidth ? `${this.maxWidth}px` : '';\n  }\n  /**\n   * Gerencia a navegação por teclado na lista do combo box.\n   *\n   * - `ArrowDown`: Move para a próxima opção.\n   * - `ArrowUp`: Move para a opção anterior.\n   * - `Enter`: Seleciona a opção atual.\n   * - `Escape`: Limpa a pré-seleção.\n   *\n   * @param event O evento de teclado.\n   */\n  handleKeyDown(event) {\n    switch (event.key) {\n      case \"ArrowDown\":\n        event.preventDefault();\n        event.stopPropagation();\n        this.nextOption();\n        break;\n      case \"ArrowUp\":\n        event.preventDefault();\n        event.stopPropagation();\n        this.previousOption();\n        break;\n      case \"Enter\":\n        this.selectCurrentOption();\n        break;\n      case \"Escape\":\n        this.preSelection = undefined;\n        break;\n    }\n  }\n  buildItem(opt, index) {\n    const widthValue = this.showOptionValue && this.maxWidth > 0 ? `${this.maxWidth}px` : '';\n    opt.label = opt.label || opt.value;\n    return h(\"li\", { tabIndex: 1, class: index === this.preSelection ? \"item preselected\" : \"item\", id: `item_${opt.value}_${index}`, key: `item_${opt.value}_${index}`, onMouseDown: () => this.onOptionSelect(opt), onMouseOver: () => this.preSelection = index }, this.showOptionValue\n      ? h(\"span\", { class: \"item__value\", title: opt.value, style: { width: widthValue, minWidth: widthValue, maxWidth: widthValue } }, opt.value)\n      : undefined, h(\"span\", { class: \"item__label \" + (this.showOptionValue ? \"item__label--bold\" : \"\"), title: opt.label }, opt.label));\n  }\n  scrollToOption(opt) {\n    if (!(opt === null || opt === void 0 ? void 0 : opt.value) || !this._optionsList)\n      return;\n    const index = this.visibleOptions.indexOf(opt);\n    if (index === -1)\n      return;\n    const liElem = this._optionsList.querySelector(`li#item_${CSS.escape(opt.value)}_${CSS.escape(String(index))}`);\n    if (liElem) {\n      liElem.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"nearest\"\n      });\n    }\n  }\n  componentDidLoad() {\n    this._listWrapper.style.width = `${this.width}px`;\n    this._listWrapper.style.maxWidth = this.maxWidth ? `${this.maxWidth}px` : '';\n  }\n  componentDidRender() {\n    var _a;\n    (_a = this._optionsList) === null || _a === void 0 ? void 0 : _a.querySelectorAll(\".item\").forEach((elem) => {\n      ElementIDUtils.addIDInfoIfNotExists(elem, \"itemComboBox\");\n    });\n  }\n  render() {\n    return (h(\"section\", { class: \"list-container\" }, h(\"div\", { class: \"list-wrapper\", ref: elem => this._listWrapper = elem }, h(\"ul\", { class: \"list-options\", ref: elem => this._optionsList = elem }, !this.showLoading && this.visibleOptions.length === 0 && (h(\"div\", { class: \"message\" }, h(\"span\", { class: \"message__no-result\" }, this.textEmptyList))), this.showLoading && (h(\"div\", { class: \"message\" }, h(\"div\", { class: \"message__loading\" }))), this.showOptionValue && (h(\"span\", { class: \"item__value item__value--hidden\" })), !this.showLoading && this.visibleOptions.length > 0 &&\n      this.visibleOptions.map((opt, index) => this.buildItem(opt, index))))));\n  }\n  static get watchers() { return {\n    \"width\": [\"observeWidth\"],\n    \"maxWidth\": [\"observeMaxWidth\"]\n  }; }\n};\nEzComboBoxList.style = ezComboBoxListCss;\n\nconst EzCustomFormInput = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.gui = undefined;\n    this.customEditor = undefined;\n    this.formViewField = undefined;\n    this.value = undefined;\n    this.detailContext = undefined;\n    this.builderFallback = undefined;\n    this.selectedRecord = undefined;\n  }\n  /**\n   * Aplica foco no campo.\n   */\n  async setFocus() {\n    var _a, _b;\n    (_b = (_a = this.gui) === null || _a === void 0 ? void 0 : _a[\"setFocus\"]) === null || _b === void 0 ? void 0 : _b.call(_a);\n  }\n  /**\n   * Remove o foco do campo.\n   */\n  async setBlur() {\n    var _a, _b;\n    (_b = (_a = this.gui) === null || _a === void 0 ? void 0 : _a[\"setBlur\"]) === null || _b === void 0 ? void 0 : _b.call(_a);\n  }\n  /**\n   * Retorna se o conteúdo é inválido.\n   */\n  async isInvalid() {\n    var _a, _b;\n    return ((_b = (_a = this.gui) === null || _a === void 0 ? void 0 : _a[\"isInvalid\"]) === null || _b === void 0 ? void 0 : _b.call(_a)) || false;\n  }\n  watchValue() {\n    this.handleValue(this.gui);\n  }\n  watchCustomEditor() {\n    this.getContent();\n  }\n  watchFormViewField(newValue, oldValue) {\n    if (!ObjectUtils.equals(newValue, oldValue))\n      this.getContent();\n  }\n  watchDetailContext() {\n    this.getContent();\n  }\n  watchBuilderFallback() {\n    this.getContent();\n  }\n  watchSelectedRecord(newValue, oldValue) {\n    const newRecordId = newValue === null || newValue === void 0 ? void 0 : newValue['__record__id__'];\n    const oldRecordId = oldValue === null || oldValue === void 0 ? void 0 : oldValue['__record__id__'];\n    if (newRecordId !== oldRecordId) {\n      this.getContent();\n    }\n  }\n  getContent() {\n    var _a, _b, _c, _d, _e;\n    const fieldProps = new Map();\n    for (const prop in this.formViewField.props) {\n      fieldProps.set(prop, this.formViewField.props[prop]);\n    }\n    const params = {\n      value: this.value,\n      name: this.formViewField.name,\n      currentEditor: this.builderFallback(this.formViewField),\n      setValue: (value) => this.setValue(value),\n      getValue: this.getValue,\n      record: this.selectedRecord,\n      editorMetadata: {\n        label: this.formViewField.label,\n        hidden: ((_a = this.formViewField.props) === null || _a === void 0 ? void 0 : _a.visible) === false,\n        userInterface: this.formViewField.userInterface,\n        options: (_b = this.formViewField.props) === null || _b === void 0 ? void 0 : _b.options,\n        props: this.formViewField.props ? fieldProps : undefined,\n        optionLoader: this.formViewField.optionLoader\n      },\n      source: CustomEditorSource.FORM,\n      detailContext: this.detailContext\n    };\n    let gui = this.customEditor.getEditorElement(params);\n    if (!gui) {\n      gui = this.builderFallback(this.formViewField);\n      this.handleValue(gui);\n      this.gui = gui;\n      return;\n    }\n    if (!(gui instanceof HTMLElement) && typeof gui !== 'string') {\n      this.handleValue(gui);\n      this.gui = gui;\n      return;\n    }\n    if (typeof gui === 'string') {\n      gui = HTMLBuilder.parseElement(gui);\n    }\n    const value = (_e = (_d = (_c = this.value) === null || _c === void 0 ? void 0 : _c.value) !== null && _d !== void 0 ? _d : this.value) !== null && _e !== void 0 ? _e : '';\n    gui.setAttribute('value', value);\n    this.gui = h(\"div\", { key: StringUtils.generateUUID(), ref: el => el && el.appendChild(gui) });\n  }\n  setValue(value) {\n    this.value = value;\n  }\n  getValue() {\n    return this.value;\n  }\n  handleValue(gui) {\n    var _a;\n    //@ts-ignore\n    (_a = gui.$children$) === null || _a === void 0 ? void 0 : _a.forEach((child) => {\n      child.$attrs$.value = this.value;\n    });\n  }\n  componentWillLoad() {\n    this.getContent();\n  }\n  render() {\n    return (h(Host, null, this.gui));\n  }\n  static get watchers() { return {\n    \"value\": [\"watchValue\"],\n    \"customEditor\": [\"watchCustomEditor\"],\n    \"formViewField\": [\"watchFormViewField\"],\n    \"detailContext\": [\"watchDetailContext\"],\n    \"builderFallback\": [\"watchBuilderFallback\"],\n    \"selectedRecord\": [\"watchSelectedRecord\"]\n  }; }\n};\n\nconst ezRichTextCss = \".sc-ez-rich-text-h{display:block;width:100%;font-family:Roboto;--ez-rich-text--box-shadow:0 0 3px 0 #DCE0E8;--ez-rich-text--shadow--outline:var(--shadow--outline) var(--color--strokes)}.editor-container.sc-ez-rich-text{width:100%;overflow:hidden;border-radius:12px;border:1px solid #DCE0E8}ez-text-area.sc-ez-rich-text{--text-area__input--border:1px solid}.preview.sc-ez-rich-text{min-height:20px;padding:12px;resize:both;overflow:auto;max-width:100%;border-top:1px solid #DCE0E8}\";\n\nconst EzRichText = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.ezChange = createEvent(this, \"ezChange\", 7);\n    this.historyStack = [];\n    this.historyIndex = -1;\n    this.previewMode = false;\n    this.showPreview = true;\n    this.value = '';\n    this.label = undefined;\n    this.mode = \"regular\";\n    this.enabled = true;\n    this.rows = 6;\n    this.errorMessage = undefined;\n    this.canShowError = true;\n    this.showConfigs = true;\n    this.showTextFormat = true;\n    this.showUndoRedo = true;\n  }\n  observeValue(newValue, oldValue) {\n    if (ObjectUtils.equals(newValue, oldValue))\n      return;\n    this.ezChange.emit(newValue);\n  }\n  observeErrorMessage(newValue) {\n    if (newValue && this.previewMode) {\n      this.previewMode = false;\n    }\n  }\n  async handleExecuteToolbarCommand(event) {\n    const { command, value } = event.detail;\n    await this.executeCommand(command, value);\n  }\n  /**\n   * Aplica o foco no campo.\n   */\n  async setFocus() {\n    this.handleFocus();\n  }\n  /**\n   * Remove o foco do campo.\n   */\n  async setBlur() {\n    var _a;\n    await ((_a = this.textAreaRef) === null || _a === void 0 ? void 0 : _a.setBlur());\n  }\n  /**\n   * Retorna se o conteúdo é inválido.\n   */\n  async isInvalid() {\n    return typeof this.errorMessage === 'string' && this.errorMessage.trim() !== '';\n  }\n  bindPreview() {\n    if (!this._keyboardManager || !this.showPreview)\n      return;\n    this._keyboardManager\n      .bind('ctrl + p', async () => {\n      await this.togglePreview();\n    }, { description: 'Entra em modo de pré visualização.', element: this.element });\n  }\n  bindConfigs() {\n    if (!this._keyboardManager || !this.showConfigs)\n      return;\n    this._keyboardManager\n      .bind('ctrl + l', async () => {\n      await this.handleFormatSelection(RICH_TOOLBAR_FORMAT_TAGS.LIST);\n    }, { description: 'Aplica estilo de lista ao texto selecionado.', element: this.element })\n      .bind('ctrl + k', async () => {\n      await this.handleLink();\n    }, { description: 'Abre popup de link.', element: this.element })\n      .bind('ctrl + o', async () => {\n      await this.handleImage();\n    }, { description: 'Abre popup de imagem.', element: this.element });\n  }\n  bindTextFormat() {\n    if (!this._keyboardManager || !this.showTextFormat)\n      return;\n    this._keyboardManager\n      .bind('ctrl + b', async () => {\n      await this.handleFormatSelection(RICH_TOOLBAR_FORMAT_TAGS.BOLD);\n    }, { description: 'Aplica estilo negrito ao texto selecionado.', element: this.element })\n      .bind('ctrl + i', async () => {\n      await this.handleFormatSelection(RICH_TOOLBAR_FORMAT_TAGS.ITALIC);\n    }, { description: 'Aplica estilo itálico ao texto selecionado.', element: this.element })\n      .bind('ctrl + u', async () => {\n      await this.handleFormatSelection(RICH_TOOLBAR_FORMAT_TAGS.UNDERLINE);\n    }, { description: 'Aplica estilo underline ao texto selecionado.', element: this.element });\n  }\n  initKeyboardManager() {\n    this._keyboardManager = new KeyboardManager({ propagate: false, element: this.element });\n    this._keyboardManager\n      .bind('ctrl + Enter', async () => {\n      await this.handleFormatSelection(RICH_TOOLBAR_FORMAT_TAGS.BREAK_LINE);\n    }, { description: 'Aplica quebra de linha.', element: this.element })\n      .bind('ctrl + z', async () => {\n      await this.handleUndo();\n    }, { description: 'Desfaz a ultima alteração de texto.', element: this.element })\n      .bind('ctrl + x', async () => {\n      await this.handleRedo();\n    }, { description: 'Refaz a ultima alteração de texto.', element: this.element });\n    this.bindPreview();\n    this.bindConfigs();\n    this.bindTextFormat();\n  }\n  async executeCommand(command, value) {\n    switch (command) {\n      case RICH_TOOLBAR_COMMANDS.FOCUS:\n        this.handleFocus();\n        break;\n      case RICH_TOOLBAR_COMMANDS.PREVIEW:\n        await this.togglePreview();\n        break;\n      case RICH_TOOLBAR_COMMANDS.FORMAT:\n        await this.handleFormatSelection(value);\n        break;\n      case RICH_TOOLBAR_COMMANDS.UNDO:\n        await this.handleUndo();\n        break;\n      case RICH_TOOLBAR_COMMANDS.REDO:\n        await this.handleRedo();\n        break;\n      case RICH_TOOLBAR_COMMANDS.LINK:\n        await this.handleLink();\n        break;\n      case RICH_TOOLBAR_COMMANDS.IMAGE:\n        await this.handleImage();\n        break;\n    }\n  }\n  handleFocus() {\n    this.previewMode = false;\n    requestAnimationFrame(async () => {\n      await this.textAreaRef.setFocus();\n    });\n  }\n  async handleLink() {\n    this.previewMode = false;\n    requestAnimationFrame(async () => {\n      await this.linkBuilderRef.show(this.getSelectedText());\n    });\n  }\n  async handleImage() {\n    this.previewMode = false;\n    await this.imageUploaderRef.show();\n  }\n  async handleRedo() {\n    this.previewMode = false;\n    requestAnimationFrame(async () => {\n      this.redo();\n      await this.textAreaRef.setFocus();\n    });\n  }\n  async handleUndo() {\n    this.previewMode = false;\n    requestAnimationFrame(async () => {\n      this.undo();\n      await this.textAreaRef.setFocus();\n    });\n  }\n  async handleFormatSelection(value) {\n    if (!value)\n      return;\n    this.previewMode = false;\n    requestAnimationFrame(async () => {\n      await this.formatSelection(value);\n      await this.textAreaRef.setFocus();\n    });\n  }\n  async togglePreview() {\n    this.previewMode = !this.previewMode;\n    if (this.previewMode) {\n      await this.textAreaRef.setFocus();\n    }\n  }\n  getSelectedText() {\n    const textarea = this.getTextAreaElement();\n    if (!textarea)\n      return undefined;\n    const selectionStart = textarea.selectionStart;\n    const selectionEnd = textarea.selectionEnd;\n    const currentValue = this.textAreaRef.value || '';\n    return currentValue.substring(selectionStart, selectionEnd);\n  }\n  getTextAreaElement() {\n    const textAreaElement = this.element.querySelector('ez-text-area');\n    return textAreaElement.shadowRoot.querySelector('textarea');\n  }\n  async formatSelection(htmlTag) {\n    if (!this.textAreaRef)\n      return;\n    const formattedHtml = htmlTag.replace('$selection', this.getSelectedText() || '');\n    await this.textAreaRef.appendTextToSelection(formattedHtml);\n    this.value = this.textAreaRef.value;\n    this.addToHistory(this.value);\n  }\n  addToHistory(content) {\n    // Só adiciona ao histórico se for diferente do estado atual\n    if (this.historyIndex >= 0 && content === this.historyStack[this.historyIndex]) {\n      return;\n    }\n    //se o tamanho do histórico chegou ao máximo, faz um splice mantendo os últimos 49 elementos\n    if (this.historyStack.length >= 50) {\n      this.historyStack.splice(0, this.historyStack.length - 49);\n    }\n    //Adiciona novo estado ao histórico\n    this.historyStack.push(content);\n    this.historyIndex = this.historyStack.length - 1;\n  }\n  undo() {\n    if (!this.canExecuteUndo())\n      return;\n    this.historyIndex--;\n    const content = this.historyStack[this.historyIndex];\n    this.value = content;\n    this.textAreaRef.value = content;\n  }\n  canExecuteUndo() {\n    return this.historyIndex > 0;\n  }\n  redo() {\n    if (!this.canExecuteRedo())\n      return;\n    this.historyIndex++;\n    this.getValueFromHistory();\n  }\n  canExecuteRedo() {\n    return this.historyIndex < this.historyStack.length - 1;\n  }\n  getValueFromHistory() {\n    const content = this.historyStack[this.historyIndex];\n    this.value = content;\n    this.textAreaRef.value = content;\n  }\n  handleTextAreaChanged(event) {\n    this.value = event.detail;\n    this.addToHistory(this.value);\n  }\n  async removeShortcuts() {\n    var _a;\n    (_a = this._keyboardManager) === null || _a === void 0 ? void 0 : _a.unbindAllShortcutKeys();\n  }\n  componentDidLoad() {\n    this.initKeyboardManager();\n    this.addToHistory(this.value);\n  }\n  async disconnectedCallback() {\n    await this.removeShortcuts();\n  }\n  getSanitizedValue() {\n    return purify.sanitize(this.value, {\n      ADD_ATTR: ['target', 'rel']\n    });\n  }\n  renderContent() {\n    if (this.previewMode) {\n      return (h(\"div\", { id: 'rich-text-preview-container', class: \"preview\", innerHTML: this.getSanitizedValue() }));\n    }\n    return h(\"ez-text-area\", { ref: (el) => this.textAreaRef = el, label: this.label, value: this.value, enabled: this.enabled, rows: this.rows, mode: this.mode, canShowError: this.canShowError, errorMessage: this.errorMessage, onEzChange: this.handleTextAreaChanged.bind(this) });\n  }\n  render() {\n    return (h(Host, null, h(\"div\", { class: 'editor-container bordered' }, h(\"ez-rich-toolbar\", { isPreviewMode: this.previewMode, showPreview: this.showPreview, showConfigs: this.showConfigs && this.enabled, showTextFormat: this.showTextFormat && this.enabled, showUndoRedo: this.showUndoRedo && this.enabled }), this.renderContent()), h(\"ez-link-builder\", { ref: (el) => this.linkBuilderRef = el }), h(\"ez-simple-image-uploader\", { ref: (el) => this.imageUploaderRef = el })));\n  }\n  get element() { return getElement(this); }\n  static get watchers() { return {\n    \"value\": [\"observeValue\"],\n    \"errorMessage\": [\"observeErrorMessage\"]\n  }; }\n};\nEzRichText.style = ezRichTextCss;\n\nconst ezTextEditCss = \":host{display:flex;align-items:center;gap:5px}.text-edit__form-input{width:auto;--ez-text-input__input--padding:0px}.text-edit__hidden-value{visibility:hidden;position:absolute;white-space:nowrap;z-index:-1;top:0;left:0}\";\n\nconst EzTextEdit = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.saveEdition = createEvent(this, \"saveEdition\", 7);\n    this.cancelEdition = createEvent(this, \"cancelEdition\", 7);\n    this._newValue = undefined;\n    this.value = undefined;\n    this.styled = undefined;\n  }\n  /**\n   * Aplica foco no campo.\n   */\n  async applyFocusSelect() {\n    this.calcSizeInput(this.value, true);\n  }\n  calcSizeInput(value, setSelect = false) {\n    var _a, _b;\n    const textInput = (_b = (_a = this._inputElement) === null || _a === void 0 ? void 0 : _a.shadowRoot) === null || _b === void 0 ? void 0 : _b.querySelector('input');\n    if (textInput != undefined) {\n      const sizeText = this.getWidthValue(value);\n      textInput.style.width = sizeText + 'px';\n      if (setSelect) {\n        setTimeout(() => textInput.select(), 100);\n      }\n    }\n  }\n  getWidthValue(value) {\n    if (this._valueBasis != undefined) {\n      const span = this._valueBasis;\n      if (value != undefined) {\n        const cursorSpace = 2;\n        span.innerHTML = value;\n        return span.clientWidth > 0 ? (span.clientWidth + cursorSpace) : cursorSpace;\n      }\n      else {\n        span.innerHTML = \"\";\n      }\n    }\n    return 0;\n  }\n  setStyledInput() {\n    var _a, _b;\n    let fontSize = \"\";\n    let fontWeight = \"\";\n    let fontFamily = \"\";\n    if (this.styled != undefined) {\n      fontSize = this.styled.fontSize;\n      fontWeight = this.styled.fontWeight;\n      fontFamily = this.styled.fontFamily;\n    }\n    const textInput = (_b = (_a = this._inputElement) === null || _a === void 0 ? void 0 : _a.shadowRoot) === null || _b === void 0 ? void 0 : _b.querySelector('input');\n    if (textInput != undefined) {\n      textInput.style.fontSize = fontSize;\n      textInput.style.fontWeight = fontWeight;\n      textInput.style.fontFamily = fontFamily;\n    }\n    const span = this._valueBasis;\n    if (span != undefined) {\n      span.style.fontSize = fontSize;\n      span.style.fontWeight = fontWeight;\n      span.style.fontFamily = fontFamily;\n    }\n  }\n  handleSaveEdition() {\n    if (!this._newValue) {\n      ApplicationUtils.alert(\"Aviso\", \"Não é possível salvar um campo em branco.\").then(() => {\n        this.setNewValue(this.value, true);\n      });\n      return;\n    }\n    this.saveEdition.emit({ value: this.value, newValue: this._newValue });\n  }\n  handleCancelEdition() {\n    this.cancelEdition.emit();\n  }\n  setNewValue(value, setSelect = false) {\n    this._newValue = value;\n    this.calcSizeInput(this._newValue, setSelect);\n  }\n  componentDidLoad() {\n    this.applyFocusSelect();\n    this.setNewValue(this.value);\n  }\n  componentDidRender() {\n    this.setStyledInput();\n  }\n  render() {\n    ElementIDUtils.addIDInfoIfNotExists(this._element, 'input');\n    return (h(Host, null, h(\"span\", { class: \"text-edit__hidden-value\", ref: elem => this._valueBasis = elem }), h(\"ez-text-input\", { \"data-element-id\": ElementIDUtils.getInternalIDInfo(\"textInput\"), onInput: () => { this.calcSizeInput(this._newValue); }, class: \"text-edit__form-input\", value: this._newValue, ref: (elem) => this._inputElement = elem, mode: \"slim\", onEzChange: (evt) => this.setNewValue(evt === null || evt === void 0 ? void 0 : evt.detail), noBorder: true }), h(\"ez-button\", { class: \"text-edit__icon-check\", mode: \"icon\", iconName: \"check\", size: \"small\", onClick: () => { this.handleSaveEdition(); } }), h(\"ez-button\", { class: \"text-edit__icon-close\", mode: \"icon\", iconName: \"close\", size: \"small\", onClick: () => { this.handleCancelEdition(); } })));\n  }\n  get _element() { return getElement(this); }\n};\nEzTextEdit.style = ezTextEditCss;\n\nexport { EzComboBoxList as ez_combo_box_list, EzCustomFormInput as ez_custom_form_input, EzRichText as ez_rich_text, EzTextEdit as ez_text_edit };\n"],"names":["ezComboBoxListCss","EzComboBoxList","hostRef","registerInstance","_a","_b","newValue","oldValue","event","opt","index","widthValue","h","liElem","elem","ElementIDUtils","EzCustomFormInput","ObjectUtils","newRecordId","oldRecordId","_c","_d","_e","fieldProps","prop","params","value","CustomEditorSource","gui","HTMLBuilder","StringUtils","el","child","Host","ezRichTextCss","EzRichText","createEvent","command","RICH_TOOLBAR_FORMAT_TAGS","KeyboardManager","RICH_TOOLBAR_COMMANDS","textarea","selectionStart","selectionEnd","htmlTag","formattedHtml","content","purify","getElement","ezTextEditCss","EzTextEdit","setSelect","textInput","sizeText","span","fontSize","fontWeight","fontFamily","ApplicationUtils","evt"],"mappings":"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","x_google_ignoreList":[0]}
{"version":3,"file":"ez-double-list.entry-DD4VD86A.js","sources":["../../node_modules/@sankhyalabs/ezui/dist/esm/ez-double-list.entry.js"],"sourcesContent":["import { r as registerInstance, c as createEvent, h, H as Host } from './index-5a720e56.js';\nimport { ObjectUtils } from '@sankhyalabs/core';\nimport { i as isContinuousSequence } from './ezListHelper-00fb9b8d.js';\nimport { i as initI18n } from './index-b623906e.js';\n\nfunction moveItems(selectedItemsList, itemsList, foward) {\n  if (!selectedItemsList.length)\n    return [...itemsList];\n  if (!itemsList.length)\n    return [];\n  const selectedIndexes = getItemsIndex(selectedItemsList, itemsList);\n  const startIndex = getMinValue(selectedIndexes);\n  const endIndex = getMaxValue(selectedIndexes);\n  return moveRange(startIndex, endIndex, foward, itemsList);\n}\nfunction getMinValue(numbers) {\n  if (numbers.length === 0)\n    return 0;\n  return numbers.reduce((min, current) => (current < min ? current : min), numbers[0]);\n}\nfunction getMaxValue(numbers) {\n  if (numbers.length === 0)\n    return 0;\n  return numbers.reduce((max, current) => (current > max ? current : max), numbers[0]);\n}\nfunction getItemsIndex(selectedItemsList, itemsList) {\n  return selectedItemsList.map(selectedId => itemsList.findIndex(original => original.id === selectedId));\n}\nfunction moveRange(startIndex, endIndex, moveForward, listItem) {\n  if (startIndex < 0 || endIndex >= listItem.length || startIndex > endIndex)\n    return listItem;\n  if (moveForward)\n    return moveFoward(endIndex, startIndex, listItem);\n  return moveBackward(startIndex, endIndex, listItem);\n}\nfunction moveBackward(startIndex, endIndex, listItem) {\n  if (startIndex === 0)\n    return listItem;\n  const beforeRange = listItem.slice(0, startIndex - 1);\n  const range = listItem.slice(startIndex, endIndex + 1);\n  const afterRange = listItem.slice(endIndex + 1);\n  const movedItem = listItem[startIndex - 1];\n  return [...beforeRange, ...range, movedItem, ...afterRange];\n}\nfunction moveFoward(endIndex, startIndex, listItem) {\n  if (endIndex === listItem.length - 1)\n    return listItem;\n  const beforeRange = listItem.slice(0, startIndex);\n  const range = listItem.slice(startIndex, endIndex + 1);\n  const afterRange = listItem.slice(endIndex + 1);\n  const movedItem = afterRange.shift();\n  return movedItem\n    ? [...beforeRange, movedItem, ...range, ...afterRange]\n    : listItem;\n}\nfunction transferAll({ from, to, selectedFrom, selectedTo }) {\n  to = [...to.map(i => setItemSelection(i, false)), ...from.map(i => setItemSelection(i, true))];\n  selectedFrom = [];\n  selectedTo = [...from.map(({ id }) => id)];\n  from = [];\n  return { from, to, selectedFrom, selectedTo };\n}\nfunction transferItems({ from, to, selectedFrom, selectedTo, insertIndex = to.length, }) {\n  if (!from.length)\n    return { from, to, selectedFrom, selectedTo };\n  const itemsToTransfer = getItemsToTransfer(to, selectedFrom, from);\n  if (!itemsToTransfer.length)\n    return { from, to, selectedFrom, selectedTo };\n  let updatedTo = to.map(i => setItemSelection(i, false));\n  updatedTo.splice(insertIndex, 0, ...itemsToTransfer.map(i => setItemSelection(i, true)));\n  return {\n    from: from.filter(item => !selectedFrom.includes(item.id)),\n    to: updatedTo,\n    selectedFrom: [],\n    selectedTo: [...selectedFrom],\n  };\n}\nfunction getItemsToTransfer(to, selectedFrom, from) {\n  const toListIds = to.map(item => item.id);\n  //Não deve transferir um item que já existe na lista destino\n  const itemsToTransferId = selectedFrom.filter((id) => !toListIds.includes(id));\n  return from.filter(({ id }) => itemsToTransferId.includes(id));\n}\nfunction setItemSelection(item, select) {\n  return Object.assign(Object.assign({}, item), { selected: select });\n}\n\nconst ezDoubleListCss = \".sc-ez-double-list-h{display:flex;flex-direction:row;gap:8px;align-items:center;font-family:var(--font-pattern, \\\"Roboto\\\");width:100%}@media screen and (max-width: 1366px){.group.sc-ez-double-list{height:350px}}.list__container.sc-ez-double-list{height:100%;width:100%;min-height:150px;overflow:auto;display:flex}.actions__column.sc-ez-double-list{display:flex;flex-direction:column;gap:4px}\";\n\nconst EzDoubleList = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.ezLeftListChanged = createEvent(this, \"ezLeftListChanged\", 7);\n    this.ezRightListChanged = createEvent(this, \"ezRightListChanged\", 7);\n    this.LEFT_LIST_ID = 'LEFT-LIST-ID';\n    this.RIGHT_LIST_ID = 'RIGHT-LIST-ID';\n    this.leftList = [];\n    this.leftTitle = undefined;\n    this.rightList = [];\n    this.entityLabel = 'item';\n    this.entityLabelPlural = 'itens';\n    this.leftListLabel = 'disponíveis';\n    this.rightListLabel = 'selecionados';\n    this.useOnlyRightList = false;\n    this.rightTitle = undefined;\n    this.emptyMessage = undefined;\n    this.slotsListBuilder = undefined;\n    this.leftFilteredList = [];\n    this.rightFilteredList = [];\n    this.selectedLeftList = [];\n    this.selectedRightList = [];\n    this.isFilteringLeft = false;\n    this.isFilteringRight = false;\n  }\n  async resetSelectedLists() {\n    this.selectedLeftList = [];\n    this.selectedRightList = [];\n  }\n  observeLeftList(newValue, oldValue) {\n    if (ObjectUtils.equals(newValue, oldValue))\n      return;\n    this.ezLeftListChanged.emit(newValue);\n  }\n  observeRightList(newValue, oldValue) {\n    if (ObjectUtils.equals(newValue, oldValue))\n      return;\n    this.ezRightListChanged.emit(newValue);\n  }\n  async componentWillLoad() {\n    this.i18n = await initI18n();\n  }\n  async handleChangeLeft({ detail }) {\n    if (!detail.to.getAttribute('id') || detail.to.getAttribute('id') !== this.RIGHT_LIST_ID) {\n      this.leftList = [...this.reorderArray(detail.dataSource, detail.selectItens, detail.newIndex)];\n      return;\n    }\n    detail.selectItens = detail.selectItens.filter(id => this.rightList.every(item => item.id !== id));\n    this.leftList = [...detail.dataSource];\n    this.selectedLeftList = [...detail.selectItens];\n    this.transferToRight(detail === null || detail === void 0 ? void 0 : detail.newIndex);\n  }\n  async handleChangeRight({ detail }) {\n    if (!detail.to.getAttribute('id') || detail.to.getAttribute('id') !== this.LEFT_LIST_ID) {\n      this.rightList = [...this.reorderArray(detail.dataSource, detail.selectItens, detail.newIndex)];\n      return;\n    }\n    detail.selectItens = detail.selectItens.filter(id => this.leftList.every(item => item.id !== id));\n    this.rightList = [...detail.dataSource];\n    this.selectedRightList = [...detail.selectItens];\n    this.transferToLeft(detail === null || detail === void 0 ? void 0 : detail.newIndex);\n  }\n  reorderArray(allItems, itemIdsToMove, insertIndex) {\n    const filteredItems = allItems.filter(i => !itemIdsToMove.includes(i.id));\n    const itemsToMove = allItems.filter(i => itemIdsToMove.includes(i.id));\n    filteredItems.splice(insertIndex, 0, ...itemsToMove);\n    return filteredItems;\n  }\n  enableTransferAllToRight() {\n    return this.leftList.length > 0;\n  }\n  enableTransferAllToLeft() {\n    return this.rightList.length > 0;\n  }\n  enableTransferToRight() {\n    return this.selectedLeftList.length > 0;\n  }\n  enableTransferToLeft() {\n    return this.selectedRightList.length > 0;\n  }\n  enableMoveUp(moveAll) {\n    if (this.isFilteringRight)\n      return false;\n    const selectedIndexes = this.getRightSelectedItemsIndex();\n    return this.selectedRightList.length > 0\n      && !selectedIndexes.includes(0)\n      && (moveAll ? true : isContinuousSequence(selectedIndexes));\n  }\n  enableMoveDown(moveAll) {\n    if (this.isFilteringRight)\n      return false;\n    const selectedIndexes = this.getRightSelectedItemsIndex();\n    const lastIndex = this.rightList.length - 1;\n    return this.selectedRightList.length > 0\n      && !selectedIndexes.includes(lastIndex)\n      && (moveAll ? true : isContinuousSequence(selectedIndexes));\n  }\n  getRightSelectedItemsIndex() {\n    return this.selectedRightList.map(id => this.rightList.findIndex(original => original.id === id));\n  }\n  transferToRight(insertIndex) {\n    const { from, to, selectedFrom, selectedTo } = transferItems(Object.assign(Object.assign({}, this.buildTransferToRightConfig()), { insertIndex: insertIndex !== null && insertIndex !== void 0 ? insertIndex : 0 }));\n    //Eh preciso limpar a lista antes de atualiza-la por conta de um bug no ciclo de vida do sortable.js\n    this.leftList = [];\n    requestAnimationFrame(() => this.leftList = [...from]);\n    this.rightList = [...to];\n    this.selectedLeftList = [...selectedFrom];\n    this.selectedRightList = [...selectedTo];\n  }\n  transferToLeft(insertIndex) {\n    const { from, to, selectedFrom, selectedTo } = transferItems(Object.assign(Object.assign({}, this.buildTransferToLeftConfig()), { insertIndex: insertIndex !== null && insertIndex !== void 0 ? insertIndex : 0 }));\n    //Eh preciso limpar a lista antes de atualiza-la por conta de um bug no ciclo de vida do sortable.js\n    this.rightList = [];\n    requestAnimationFrame(() => this.rightList = [...from]);\n    this.leftList = [...to];\n    this.selectedRightList = [...selectedFrom];\n    this.selectedLeftList = [...selectedTo];\n  }\n  async handleTransferAllToRight() {\n    const { from, to, selectedFrom, selectedTo } = transferAll(this.buildTransferToRightConfig());\n    this.leftList = [...from];\n    this.rightList = [...to];\n    this.selectedLeftList = [...selectedFrom];\n    this.selectedRightList = [...selectedTo];\n    requestAnimationFrame(async () => {\n      await this.clearSelectionAll();\n    });\n  }\n  async handleTransferAllToLeft() {\n    const { from, to, selectedFrom, selectedTo } = transferAll(this.buildTransferToLeftConfig());\n    this.rightList = [...from];\n    this.leftList = [...to];\n    this.selectedRightList = [...selectedFrom];\n    this.selectedLeftList = [...selectedTo];\n    requestAnimationFrame(async () => {\n      await this.clearSelectionAll();\n    });\n  }\n  buildTransferToRightConfig() {\n    return {\n      from: this.leftList,\n      to: this.rightList,\n      selectedFrom: this.selectedLeftList,\n      selectedTo: this.selectedRightList,\n    };\n  }\n  buildTransferToLeftConfig() {\n    return {\n      from: this.rightList,\n      to: this.leftList,\n      selectedFrom: this.selectedRightList,\n      selectedTo: this.selectedLeftList,\n    };\n  }\n  handleMoveUp() {\n    this.rightList = [...moveItems(this.selectedRightList, this.rightList, false)];\n  }\n  handleMoveDown() {\n    this.rightList = [...moveItems(this.selectedRightList, this.rightList, true)];\n  }\n  handleMoveToTop() {\n    const { itemsToKeep, itemsToMove } = this.getItemsToKeepAndToMove();\n    this.rightList = [...itemsToMove, ...itemsToKeep];\n  }\n  handleMoveToBottom() {\n    const { itemsToKeep, itemsToMove } = this.getItemsToKeepAndToMove();\n    this.rightList = [...itemsToKeep, ...itemsToMove];\n  }\n  handleSelectLeftItem({ detail }) {\n    this.selectedLeftList = [...detail.map(({ id }) => id)];\n  }\n  handleSelectRightItem({ detail }) {\n    this.selectedRightList = [...detail.map(({ id }) => id)];\n  }\n  getItemsToKeepAndToMove() {\n    const itemsToKeep = this.rightList.filter(item => !this.selectedRightList.includes(item.id));\n    const itemsToMove = this.rightList.filter(item => this.selectedRightList.includes(item.id));\n    return { itemsToKeep, itemsToMove };\n  }\n  async handleTransferToRight() {\n    this.transferToRight();\n    this.leftFilteredList = [];\n    await this.leftEzListInstance.clearSelection();\n  }\n  async handleTransferToLeft() {\n    this.transferToLeft();\n    this.rightFilteredList = [];\n    await this.rightEzListInstance.clearSelection();\n  }\n  async clearSelectionAll() {\n    await this.rightEzListInstance.clearSelection();\n    await this.leftEzListInstance.clearSelection();\n  }\n  handleChooseLeft() {\n    requestAnimationFrame(async () => {\n      await this.rightEzListInstance.clearSelection();\n    });\n  }\n  handleChooseRight() {\n    if (this.useOnlyRightList)\n      return;\n    requestAnimationFrame(async () => {\n      await this.leftEzListInstance.clearSelection();\n    });\n  }\n  renderList(props) {\n    const { idSortableList, list, isFiltering, filteredList, emptyMessage, slotConfig, callbacks, title } = props;\n    return (h(\"ez-sortable-list\", { ref: callbacks === null || callbacks === void 0 ? void 0 : callbacks.setRef, title: title, idSortableList: idSortableList, emptyMessage: emptyMessage, class: \"ez-size-height--full\", dataSource: isFiltering ? filteredList : list, hoverFeedback: true, enableMultipleSelection: true, removeItensMoved: true, entityLabel: this.entityLabel, entityLabelPlural: this.entityLabelPlural, itemRightSlotBuilder: slotConfig === null || slotConfig === void 0 ? void 0 : slotConfig.itemRightSlotBuilder, itemLeftSlotBuilder: slotConfig === null || slotConfig === void 0 ? void 0 : slotConfig.itemLeftSlotBuilder, onItemsReordered: callbacks === null || callbacks === void 0 ? void 0 : callbacks.onChange.bind(this), onEzSelectItens: callbacks === null || callbacks === void 0 ? void 0 : callbacks.onSelect.bind(this), onEzDoubleClick: callbacks === null || callbacks === void 0 ? void 0 : callbacks.onDoubleClick.bind(this), onEzChoose: callbacks === null || callbacks === void 0 ? void 0 : callbacks.onChoose.bind(this) }));\n  }\n  render() {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n    return (h(Host, null, !this.useOnlyRightList &&\n      h(\"div\", { class: \"list__container\" }, this.leftList && this.renderList({\n        idSortableList: this.LEFT_LIST_ID,\n        list: this.leftList,\n        title: this.leftTitle,\n        isFiltering: this.isFilteringLeft,\n        filteredList: this.leftFilteredList,\n        emptyMessage: !!((_a = this.emptyMessage) === null || _a === void 0 ? void 0 : _a.LEFT_LIST)\n          ? this.emptyMessage.LEFT_LIST\n          : this.i18n(\"ez-double-list.noItemsAvailable\", { entity: this.entityLabel }),\n        slotConfig: {\n          itemRightSlotBuilder: (_c = (_b = this.slotsListBuilder) === null || _b === void 0 ? void 0 : _b.LEFT_LIST) === null || _c === void 0 ? void 0 : _c.itemRightSlotBuilder,\n          itemLeftSlotBuilder: (_e = (_d = this.slotsListBuilder) === null || _d === void 0 ? void 0 : _d.LEFT_LIST) === null || _e === void 0 ? void 0 : _e.itemLeftSlotBuilder,\n        },\n        callbacks: {\n          setRef: (ref) => this.leftEzListInstance = ref,\n          onChange: (evt) => this.handleChangeLeft(evt),\n          onSelect: this.handleSelectLeftItem.bind(this),\n          onDoubleClick: this.handleTransferToRight.bind(this),\n          onChoose: this.handleChooseLeft.bind(this),\n        },\n      })), !this.useOnlyRightList &&\n      h(\"div\", { class: 'actions__column' }, h(\"ez-button\", { mode: \"icon\", iconName: \"dual-chevron-right\", enabled: this.enableTransferAllToRight(), title: this.i18n(\"ez-double-list.moveAllTo\", { list: this.rightListLabel }), size: \"small\", onClick: this.handleTransferAllToRight.bind(this) }), h(\"ez-button\", { mode: \"icon\", iconName: \"chevron-right\", enabled: this.enableTransferToRight(), title: this.i18n(\"ez-double-list.moveTo\", { list: this.rightListLabel }), size: \"small\", onClick: this.handleTransferToRight.bind(this) }), h(\"ez-button\", { mode: \"icon\", iconName: \"chevron-left\", enabled: this.enableTransferToLeft(), title: this.i18n(\"ez-double-list.moveTo\", { list: this.leftListLabel }), size: \"small\", onClick: this.handleTransferToLeft.bind(this) }), h(\"ez-button\", { mode: \"icon\", iconName: \"dual-chevron-left\", enabled: this.enableTransferAllToLeft(), title: this.i18n(\"ez-double-list.moveAllTo\", { list: this.leftListLabel }), size: \"small\", onClick: this.handleTransferAllToLeft.bind(this) })), h(\"div\", { class: \"list__container\" }, this.rightList && this.renderList({\n      idSortableList: this.RIGHT_LIST_ID,\n      list: this.rightList,\n      title: this.rightTitle,\n      isFiltering: this.isFilteringRight,\n      filteredList: this.rightFilteredList,\n      emptyMessage: !!((_f = this.emptyMessage) === null || _f === void 0 ? void 0 : _f.RIGHT_LIST)\n        ? this.emptyMessage.RIGHT_LIST\n        : this.i18n(\"ez-double-list.noItemsSelected\", { entity: this.entityLabel }),\n      slotConfig: {\n        itemRightSlotBuilder: (_h = (_g = this.slotsListBuilder) === null || _g === void 0 ? void 0 : _g.RIGHT_LIST) === null || _h === void 0 ? void 0 : _h.itemRightSlotBuilder,\n        itemLeftSlotBuilder: (_k = (_j = this.slotsListBuilder) === null || _j === void 0 ? void 0 : _j.RIGHT_LIST) === null || _k === void 0 ? void 0 : _k.itemLeftSlotBuilder,\n      },\n      callbacks: {\n        setRef: (ref) => this.rightEzListInstance = ref,\n        onChange: (evt) => this.handleChangeRight(evt),\n        onSelect: this.handleSelectRightItem.bind(this),\n        onDoubleClick: this.handleTransferToLeft.bind(this),\n        onChoose: this.handleChooseRight.bind(this),\n      },\n    })), h(\"div\", { class: 'actions__column' }, h(\"ez-button\", { mode: \"icon\", iconName: \"dual-chevron-up\", enabled: this.enableMoveUp(true), title: this.i18n(\"ez-double-list.moveToFirstPosition\"), size: \"small\", onClick: this.handleMoveToTop.bind(this) }), h(\"ez-button\", { mode: \"icon\", iconName: \"chevron-up\", enabled: this.enableMoveUp(), title: this.i18n(\"ez-double-list.moveUp\"), size: \"small\", onClick: this.handleMoveUp.bind(this) }), h(\"ez-button\", { mode: \"icon\", iconName: \"chevron-down\", enabled: this.enableMoveDown(), title: this.i18n(\"ez-double-list.moveDown\"), size: \"small\", onClick: this.handleMoveDown.bind(this) }), h(\"ez-button\", { mode: \"icon\", iconName: \"dual-chevron-down\", enabled: this.enableMoveDown(true), title: this.i18n(\"ez-double-list.moveToLastPosition\"), size: \"small\", onClick: this.handleMoveToBottom.bind(this) }))));\n  }\n  static get watchers() { return {\n    \"leftList\": [\"observeLeftList\"],\n    \"rightList\": [\"observeRightList\"]\n  }; }\n};\nEzDoubleList.style = ezDoubleListCss;\n\nexport { EzDoubleList as ez_double_list };\n"],"names":["moveItems","selectedItemsList","itemsList","foward","selectedIndexes","getItemsIndex","startIndex","getMinValue","endIndex","getMaxValue","moveRange","numbers","min","current","max","selectedId","original","moveForward","listItem","moveFoward","moveBackward","beforeRange","range","afterRange","movedItem","transferAll","from","to","selectedFrom","selectedTo","i","setItemSelection","id","transferItems","insertIndex","itemsToTransfer","getItemsToTransfer","updatedTo","item","toListIds","itemsToTransferId","select","ezDoubleListCss","EzDoubleList","hostRef","registerInstance","createEvent","newValue","oldValue","ObjectUtils","initI18n","detail","allItems","itemIdsToMove","filteredItems","itemsToMove","moveAll","isContinuousSequence","lastIndex","itemsToKeep","props","idSortableList","list","isFiltering","filteredList","emptyMessage","slotConfig","callbacks","title","h","_a","_b","_c","_d","_e","_f","_g","_h","_j","_k","Host","ref","evt"],"mappings":"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","x_google_ignoreList":[0]}
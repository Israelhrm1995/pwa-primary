import{b as a,d as s,e as i,i as n}from"./index-BH6w_YlO.js";import{E as r}from"./dataUnitInMemoryLoader-CwDmnNwL.js";import{C as h}from"./CSSVarsUtils-acba92d7-BCgqr3Ak.js";const u=":host{display:block;width:100%}",l=class{constructor(e){a(this,e),this.ezChange=s(this,"ezChange"),this.ezSearching=s(this,"ezSearching"),this.ezFocusIn=s(this,"ezFocusIn"),this._searchingText="",this.handleFocus=()=>{this._searchingText===""?this._textInput.value="":this._textInput.value=this._searchingText,this.ezFocusIn.emit()},this.label=void 0,this.value=void 0,this.enabled=!0,this.errorMessage=void 0,this.restrict=void 0,this.mode="regular",this.asyncSearch=!1,this.canShowError=!0,this.autoFocus=!1}observeLabel(){this._textInput&&(this._textInput.label=this.label)}observeErrorMessage(){this._textInput&&(this._textInput.errorMessage=this.errorMessage)}observeValue(e,t){this._textInput&&e!=t&&(this._textInput.value=e,this.ezChange.emit(e))}async setFocus(e){this._textInput.setFocus(e)}async setBlur(){this._textInput.setBlur()}async isInvalid(){return typeof this.errorMessage=="string"&&this.errorMessage.trim()!==""}async setValue(e){!this.asyncSearch||this._textInput==null||(e!==this.value?(this.value=e,this._searchingText=""):this._textInput.value=e)}async endSearch(){!this.asyncSearch||this._textInput==null||this._textInput.value!==this.value&&(this._textInput.value=this.value)}handleChange(e){const t=e.detail;this.errorMessage="",this.asyncSearch?(this._searchingText=t,this.ezSearching.emit(t)):t!==this.value&&(this.value=t)}componentDidLoad(){h.applyVarsTextInput(this._elem,this._textInput),this.autoFocus&&requestAnimationFrame(()=>{this.setFocus({selectText:!0})})}render(){return r.addIDInfoIfNotExists(this._elem,"input"),i("ez-text-input",{"data-element-id":r.getInternalIDInfo("textInput"),ref:e=>this._textInput=e,label:this.label,onEzChange:e=>this.handleChange(e),value:this.value,enabled:this.enabled,errorMessage:this.errorMessage,restrict:this.restrict,mode:this.mode,onFocusin:this.handleFocus,canShowError:this.canShowError},i("ez-icon",{slot:"leftIcon",iconName:"search"}))}get _elem(){return n(this)}static get watchers(){return{label:["observeLabel"],errorMessage:["observeErrorMessage"],value:["observeValue"]}}};l.style=u;export{l as ez_filter_input};
//# sourceMappingURL=ez-filter-input.entry-DcW6Qrzl.js.map

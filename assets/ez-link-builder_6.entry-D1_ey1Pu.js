import{v as n,w as h,y as l,x as t,C as c,R as u}from"./index-C7RI_ets.js";import{a,b as o,R as d}from"./RichToolbarHelper-f3a149c4-CDn90iG8.js";const b=".link-builder-container.sc-ez-link-builder{font-family:'Roboto';color:#2b3a54;display:flex;flex-direction:column;gap:10px;justify-content:space-between}.header.sc-ez-link-builder{display:flex;font-weight:500;font-size:16px}.actions.sc-ez-link-builder{display:flex;justify-content:flex-end;gap:12px;margin-top:12px;width:100%}",z=class{constructor(e){n(this,e),this.executeToolbarCommand=h(this,"executeToolbarCommand"),this.textToShow=void 0,this.link=void 0,this.openInNewGuide=!1}async show(e){this._popupElement.opened=!0,e&&(this.textToShow=e)}async hide(){this._popupElement.opened=!1}async componentWillLoad(){this.i18n=await l()}async handleCancel(){this.clearValues(),this.executeToolbarCommand.emit({command:a.FOCUS}),await this.hide()}clearValues(){this.link="",this.textToShow="",this.openInNewGuide=!1}async handleCreateLink(){const e=`<a href="${this.link}" ${this.openInNewGuide?'target="_blank" rel="noopener noreferrer"':""}>${this.textToShow?this.textToShow:this.link}</a>`;this.executeToolbarCommand.emit({command:a.FORMAT,value:e}),this.clearValues(),await this.hide()}async handleActionPopup(e){if(e.detail==="OK"){await this.handleCreateLink();return}(e.detail==="CANCEL"||e.detail==="CLOSE")&&await this.handleCancel()}getOkButtonStatus(){var e;return!((e=this.link)===null||e===void 0)&&e.trim()?"ENABLED":"DISABLED"}render(){return t("ez-popup",{heightMode:"auto",size:"small",useHeader:!1,ref:e=>this._popupElement=e,onEzClosePopup:()=>this.clearValues()},t("div",null,t("ez-modal-container",{modalTitle:this.i18n("ez-link-builder.addLinkTitle"),modalSubTitle:this.i18n("ez-link-builder.addLinkSubtitle"),okButtonLabel:this.i18n("ez-link-builder.submit"),cancelButtonLabel:this.i18n("app.cancel"),onEzModalAction:this.handleActionPopup.bind(this),okButtonStatus:this.getOkButtonStatus()},t("div",{class:"link-builder-container"},t("ez-text-input",{id:"link_url_input",label:this.i18n("ez-link-builder.urlInputLabel"),value:this.link,onEzChange:e=>this.link=e.detail}),t("ez-text-input",{id:"link_text_input",label:this.i18n("ez-link-builder.textInputLabel"),value:this.textToShow,onEzChange:e=>this.textToShow=e.detail}),t("ez-check",{label:this.i18n("ez-link-builder.openInNewPage"),value:this.openInNewGuide,onEzChange:e=>this.openInNewGuide=e.detail})))))}};z.style=b;const f=".sc-ez-rich-toolbar-h{display:block;width:100%}.taskbar.sc-ez-rich-toolbar{display:flex;padding:8px;border-radius:4px 4px 0 0}.taskbar-group.sc-ez-rich-toolbar{display:flex;margin-right:15px;padding-right:15px;border-right:1px solid #ddd}.taskbar-group.sc-ez-rich-toolbar:last-child{border-right:none}.preview-btn.sc-ez-rich-toolbar{font-family:Roboto;font-size:14px;background:none;display:flex;align-items:center;padding:0 8px;border-radius:4px;cursor:pointer;color:var(--color--secondary, #383c45);transition:0.3s all ease-in-out;width:110px;justify-content:center}.preview-btn.sc-ez-rich-toolbar:hover{background-color:#f5f5f5}",x=class{constructor(e){n(this,e),this.executeToolbarCommand=h(this,"executeToolbarCommand"),this.showPreview=!0,this.isPreviewMode=!1,this.showConfigs=!0,this.showTextFormat=!0,this.showUndoRedo=!0}async componentWillLoad(){this.i18n=await l()}handleActionTriggered(e){this.executeToolbarCommand.emit({command:e.detail.command,value:e.detail.value})}handleClickPreview(){this.executeToolbarCommand.emit({command:a.PREVIEW})}renderArrows(){if(this.showUndoRedo)return t("div",{id:"rich-toolbar-undo-redo",class:"taskbar-group"},t("ez-rich-toolbar-arrows",null))}renderLetters(){if(this.showTextFormat)return t("div",{id:"rich-toolbar-text-format",class:"taskbar-group"},t("ez-rich-toolbar-letters",null))}renderConfigs(){if(this.showConfigs)return t("div",{id:"rich-toolbar-options-configs",class:"taskbar-group"},t("ez-rich-toolbar-configs",null))}renderPreview(){if(this.showPreview)return t("div",{class:"taskbar-group"},t("span",{id:"rich-text-preview-btn",class:"preview-btn",title:this.getPreviewTitle(),onClick:this.handleClickPreview.bind(this)},this.isPreviewMode?this.i18n("ez-rich-text.edit"):this.i18n("ez-rich-text.preview")))}getPreviewTitle(){return this.isPreviewMode?this.i18n("ez-rich-text.title.edit"):this.i18n("ez-rich-text.title.preview")}render(){return t(c,null,t("div",{class:"taskbar"},this.renderPreview(),this.renderArrows(),this.renderLetters(),this.renderConfigs()))}};x.style=f;const w=".sc-ez-rich-toolbar-arrows-h{display:flex;gap:5px}",v=class{constructor(e){n(this,e)}async componentWillLoad(){this.i18n=await l()}render(){return t(c,null,t("ez-rich-toolbar-item",{icon:o.UNDO,command:a.UNDO,title:this.i18n("ez-rich-text.title.undo")}),t("ez-rich-toolbar-item",{icon:o.REDO,command:a.REDO,title:this.i18n("ez-rich-text.title.redo")}))}};v.style=w;const C=".sc-ez-rich-toolbar-configs-h{display:flex;gap:5px}",k=class{constructor(e){n(this,e)}async componentWillLoad(){this.i18n=await l()}render(){return t(c,null,t("ez-rich-toolbar-item",{icon:o.LIST,command:a.FORMAT,value:d.LIST,title:this.i18n("ez-rich-text.title.list")}),t("ez-rich-toolbar-item",{icon:o.IMAGE,command:a.IMAGE,title:this.i18n("ez-rich-text.title.image")}),t("ez-rich-toolbar-item",{icon:o.LINK,command:a.LINK,title:this.i18n("ez-rich-text.title.link")}))}};k.style=C;const y=".sc-ez-rich-toolbar-letters-h{display:flex;gap:5px}",T=class{constructor(e){n(this,e)}async componentWillLoad(){this.i18n=await l()}render(){return t(c,null,t("ez-rich-toolbar-item",{icon:o.BOLD,command:a.FORMAT,value:d.BOLD,title:this.i18n("ez-rich-text.title.bold")}),t("ez-rich-toolbar-item",{icon:o.ITALIC,command:a.FORMAT,value:d.ITALIC,title:this.i18n("ez-rich-text.title.italic")}),t("ez-rich-toolbar-item",{icon:o.UNDERLINE,command:a.FORMAT,value:d.UNDERLINE,title:this.i18n("ez-rich-text.title.underline")}))}};T.style=y;function m(e,i=1){if(e===0)return"0 Bytes";const r=1024,s=i<0?0:i,g=["Bytes","Kilobytes","Megabytes","Gigabytes","Terabytes","Petabytes","Exabytes","Zettabytes","Yottabytes"],p=Math.floor(Math.log(e)/Math.log(r));return parseFloat((e/Math.pow(r,p)).toFixed(s))+" "+g[p]}function E(e){return new Promise((i,r)=>{try{const s=new FileReader;s.onload=()=>{i(s.result)},s.readAsDataURL(e)}catch(s){r(s)}})}const L='.image-uploader-container.sc-ez-simple-image-uploader{font-family:"Roboto";color:#2b3a54;display:flex;flex-direction:column;gap:var(--space--10, 10px);justify-content:space-between;align-items:center;padding-bottom:var(--space--8, 8px)}.header.sc-ez-simple-image-uploader{display:flex;font-weight:500;font-size:var(--font-size--medium, 16px)}.actions.sc-ez-simple-image-uploader{display:flex;justify-content:flex-end;gap:var(--space--12, 12px);margin-top:var(--space--12, 12px);width:100%}.drop-zone-section.sc-ez-simple-image-uploader{width:100%}.drop-zone.sc-ez-simple-image-uploader{display:flex;flex-wrap:wrap;background-color:var(--color--petroleum-70, #F4F6F9);padding:var(--space--6, 6px);width:100%;border-radius:var(--space--12, 12px);box-sizing:border-box;min-height:100px}.clickable.sc-ez-simple-image-uploader{cursor:pointer}.dragging.sc-ez-simple-image-uploader{background-color:var(--color--petroleum-100, #C8CCD3)}.drop-zone-container.sc-ez-simple-image-uploader{width:100%;display:flex;flex-wrap:wrap;justify-content:center;align-items:center;border:2px dashed var(--color-strokes, #DCE0E8);border-radius:6px;box-sizing:border-box}.text-error.sc-ez-simple-image-uploader{font-family:var(--font--pattern, "Roboto");color:var(--color--red-600, #BD0025);font-size:var(--font-size--small, 12px)}.button-close.sc-ez-simple-image-uploader{border:none;background:none;cursor:pointer}',_=class{constructor(e){n(this,e),this.executeToolbarCommand=h(this,"executeToolbarCommand"),this.link=void 0,this.base64=void 0,this.messageError=void 0,this.selectedFile=void 0,this.maxSize=500}async show(){this._popupElement.opened=!0}async hide(){this._popupElement.opened=!1}async componentWillLoad(){this.i18n=await l()}async handleCancel(){this.removeSelectedFile(),this.executeToolbarCommand.emit({command:a.FOCUS}),await this.hide()}removeSelectedFile(e){e==null||e.stopPropagation(),this.link=void 0,this.base64=void 0,this.selectedFile=void 0,this.messageError=void 0}triggerFileSelect(){this.selectedFile||this._fileInput.click()}async handleImage(e){const i=e&&e[0];i&&(i.size<this.maxSize*1e3?(this.selectedFile=i,this.base64=await E(i)):this.messageError=this.i18n("ez-simple-image-uploader.imageTooLarge",{maxSize:m(this.maxSize)}))}getFileList(e){return e instanceof DragEvent?Array.from(e.dataTransfer.files):e.target.files}handleFileChange(e){e.preventDefault(),this.messageError=void 0,this._dropZone.classList.remove("dragging");const i=this.getFileList(e);this.handleImage(i);const r=e.target;r.value=""}handleDragOver(e){e.stopPropagation(),e.preventDefault()}handleDragEnter(e){e.preventDefault(),this._dropZone.classList.add("dragging")}handleDragLeave(e){e.preventDefault(),this._dropZone.contains(e.relatedTarget)||this._dropZone.classList.remove("dragging")}async handleActionPopup(e){e.detail==="OK"?await this.handleCreateImgTag():(e.detail==="CANCEL"||e.detail==="CLOSE")&&await this.handleCancel()}async handleCreateImgTag(){var e;const i=`<img src="${(e=this.base64)!==null&&e!==void 0?e:this.link}" alt="${this.i18n("ez-simple-image-uploader.imageAlt")}" />`;this.executeToolbarCommand.emit({command:a.FORMAT,value:i}),this.removeSelectedFile(),await this.hide()}getOkButtonStatus(){var e;return!this.base64&&!(!((e=this.link)===null||e===void 0)&&e.trim())?"DISABLED":"ENABLED"}render(){return t("ez-popup",{ref:e=>this._popupElement=e,heightMode:"auto",size:"small",useHeader:!1,onEzClosePopup:()=>this.handleCancel()},t("div",null,t("ez-modal-container",{modalTitle:this.i18n("ez-simple-image-uploader.uploadTitle"),modalSubTitle:this.i18n("ez-simple-image-uploader.uploadSubtitle"),okButtonLabel:this.i18n("ez-simple-image-uploader.submit"),cancelButtonLabel:this.i18n("app.cancel"),onEzModalAction:this.handleActionPopup.bind(this),okButtonStatus:this.getOkButtonStatus()},t("div",{class:"image-uploader-container"},t("ez-tooltip",{message:this.i18n("ez-simple-image-uploader.tooltipMessage"),active:!!this.selectedFile},t("ez-text-input",{label:this.i18n("ez-simple-image-uploader.urlInputLabel"),value:this.link,onEzChange:e=>this.link=e.detail,enabled:!this.selectedFile})),t("span",null,this.i18n("ez-simple-image-uploader.orText")),t("section",{class:"drop-zone-section"},t("div",{ref:e=>this._dropZone=e,class:"drop-zone",onDrop:e=>this.handleFileChange(e),onDragOver:e=>this.handleDragOver(e),onDragEnter:e=>this.handleDragEnter(e),onDragLeave:e=>this.handleDragLeave(e)},t("div",{class:{"drop-zone-container":!0,clickable:!this.selectedFile},onClick:()=>this.triggerFileSelect()},this.selectedFile?t(u,null,t("span",{class:"ez-text ez-text--primary ez-text--medium"},this.selectedFile.name," (",m(this.selectedFile.size),")"),t("button",{class:"button-close",onClick:e=>this.removeSelectedFile(e),title:this.i18n("ez-simple-image-uploader.removeFile")},t("ez-icon",{iconName:"close"}))):t(u,null,t("ez-icon",{iconName:"anexo"}),t("span",{class:"ez-text ez-text--primary ez-text--medium"},this.i18n("ez-simple-image-uploader.dragDropText")))),t("input",{ref:e=>this._fileInput=e,type:"file",accept:"image/*",style:{display:"none"},onChange:e=>this.handleFileChange(e)})),!!this.messageError&&t("span",{class:"text-error"},this.messageError))))))}};_.style=L;export{z as ez_link_builder,x as ez_rich_toolbar,v as ez_rich_toolbar_arrows,k as ez_rich_toolbar_configs,T as ez_rich_toolbar_letters,_ as ez_simple_image_uploader};
//# sourceMappingURL=ez-link-builder_6.entry-D1_ey1Pu.js.map

{"version":3,"file":"ez-modal-container.entry-C4HPDLMI.js","sources":["../../node_modules/@sankhyalabs/ezui/dist/esm/ez-modal-container.entry.js"],"sourcesContent":["import { r as registerInstance, c as createEvent, h, H as Host, g as getElement } from './index-5a720e56.js';\nimport { KeyboardManager } from '@sankhyalabs/core';\nimport { i as initI18n } from './index-b623906e.js';\n\nvar ModalAction;\n(function (ModalAction) {\n  ModalAction[\"CLOSE\"] = \"CLOSE\";\n  ModalAction[\"OK\"] = \"OK\";\n  ModalAction[\"CANCEL\"] = \"CANCEL\";\n  ModalAction[\"LOAD\"] = \"LOAD\";\n})(ModalAction || (ModalAction = {}));\nconst ModalAction$1 = ModalAction;\n\nvar ModalButtonStatus;\n(function (ModalButtonStatus) {\n  ModalButtonStatus[\"ENABLED\"] = \"ENABLED\";\n  ModalButtonStatus[\"DISABLED\"] = \"DISABLED\";\n  ModalButtonStatus[\"HIDDEN\"] = \"HIDDEN\";\n})(ModalButtonStatus || (ModalButtonStatus = {}));\nconst ModalButtonStatus$1 = ModalButtonStatus;\n\nconst ezModalContainerCss = \".sc-ez-modal-container-h{--ez-modal-container-overflow-y:auto;--ez-modal-container-overflow-x:hidden;display:grid;grid-template-rows:0 auto 1fr auto 0;width:100%;height:100%}.ez-modal-container__header-container.sc-ez-modal-container{outline:none}.ez-modal-container__header.sc-ez-modal-container{display:flex;flex-wrap:nowrap;flex-direction:row;justify-content:space-between;align-items:start}.ez-modal-container__content.sc-ez-modal-container{overflow-y:var(--ez-modal-container-overflow-y);overflow-x:var(--ez-modal-container-overflow-x);outline:none}.ez-modal-container__content.sc-ez-modal-container::-webkit-scrollbar{width:var(--space--small);min-width:var(--space--small);max-width:var(--space--small)}.ez-modal-container__footer.sc-ez-modal-container{display:flex;flex-direction:row;justify-content:flex-end;gap:var(--space--medium);width:100%;padding-top:var(--space--small, 6px)}.ez-modal-container__title.sc-ez-modal-container{display:grid}.ez-modal-container__close-button.sc-ez-modal-container{cursor:pointer;background-color:transparent;border:none;outline:none;padding:var(--space--6, 6px) 0px}.ez-modal-container__close-icon.sc-ez-modal-container{--icon--color:var(--title--primary, #2B3A54)}.ez-modal-container__focus-ctrl.sc-ez-modal-container{height:0px;background-color:transparent;border:none}\";\n\nconst EzModalContainer = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.ezModalAction = createEvent(this, \"ezModalAction\", 7);\n    this.modalTitle = undefined;\n    this.modalSubTitle = undefined;\n    this.showTitleBar = true;\n    this.cancelButtonLabel = undefined;\n    this.okButtonLabel = undefined;\n    this.cancelButtonStatus = undefined;\n    this.okButtonStatus = undefined;\n    this.showCloseButton = true;\n  }\n  async handleEzModalAction(event) {\n    var _a;\n    if ((event === null || event === void 0 ? void 0 : event.target) && (event === null || event === void 0 ? void 0 : event.target) === ((_a = this._element) === null || _a === void 0 ? void 0 : _a.parentElement)) {\n      this.closeModal();\n    }\n  }\n  cancelIsVisible() {\n    return (this.cancelButtonStatus !== ModalButtonStatus$1.HIDDEN && this.cancelButtonLabel != undefined);\n  }\n  okIsVisible() {\n    return (this.okButtonStatus !== ModalButtonStatus$1.HIDDEN && this.okButtonLabel != undefined);\n  }\n  async componentWillLoad() {\n    this.i18n = await initI18n();\n  }\n  componentDidLoad() {\n    window.requestAnimationFrame(() => {\n      this.ezModalAction.emit(ModalAction$1.LOAD);\n      this._modalRef.focus();\n    });\n    this._keyboardManager = new KeyboardManager({ propagate: false, element: this._element })\n      .bind(\"Enter\", this.ezModalAction.emit.bind(ModalAction$1.OK))\n      .bind(\"Escape\", () => this.closeModal())\n      .bind(\"Esc\", () => this.closeModal());\n  }\n  disconnectedCallback() {\n    var _a;\n    (_a = this._keyboardManager) === null || _a === void 0 ? void 0 : _a.unbindAllShortcutKeys();\n  }\n  closeModal() {\n    this.ezModalAction.emit(\"CLOSE\");\n  }\n  focusLast() {\n    if (this._okButton == undefined) {\n      return;\n    }\n    this._okButton.setFocus();\n  }\n  focusFirst() {\n    this._closeButton.focus();\n  }\n  render() {\n    return (h(Host, null, h(\"button\", { class: \"ez-modal-container__focus-ctrl\", onFocusin: () => this.focusLast() }), h(\"div\", { ref: ref => this._modalRef = ref, tabIndex: -1, class: \"ez-modal-container__header-container\" }, this.showTitleBar && (h(\"div\", { class: \"ez-modal-container__header ez-margin-bottom--medium\" }, h(\"div\", { class: \"ez-col ez-align--middle ez-modal-container__title\" }, h(\"h2\", { class: \"ez-text ez-title--large ez-title--primary ez-text--bold ez-margin-vertical--extra-small\" }, this.modalTitle), this.modalSubTitle && (h(\"div\", { class: \"ez-text ez-text--medium ez-text--primary ez-margin-vertical--extra-small\" }, this.modalSubTitle))), (this.showCloseButton && h(\"button\", { ref: ref => this._closeButton = ref, class: \"ez-modal-container__close-button\", onClick: () => this.ezModalAction.emit(ModalAction$1.CLOSE), \"aria-label\": this.i18n(\"app.close\") }, h(\"ez-icon\", { class: \"ez-modal-container__close-icon\", size: \"medium\", iconName: \"close\" })))))), h(\"div\", { tabIndex: -1, class: \"ez-modal-container__content\" }, h(\"slot\", null)), h(\"div\", { tabIndex: -1, class: \"ez-modal-container__footer\" }, this.cancelIsVisible() && (h(\"ez-button\", { label: this.cancelButtonLabel || this.i18n(\"app.cancel\"), enabled: this.cancelButtonStatus !== ModalButtonStatus$1.DISABLED, onClick: () => this.ezModalAction.emit(ModalAction$1.CANCEL) })), this.okIsVisible() && (h(\"ez-button\", { ref: ref => this._okButton = ref, class: \"ez-button--primary\", label: this.okButtonLabel || this.i18n(\"app.ok\"), enabled: this.okButtonStatus !== ModalButtonStatus$1.DISABLED, onClick: () => this.ezModalAction.emit(ModalAction$1.OK) }))), h(\"button\", { class: \"ez-modal-container__focus-ctrl\", onFocusin: () => this.focusFirst() })));\n  }\n  get _element() { return getElement(this); }\n};\nEzModalContainer.style = ezModalContainerCss;\n\nexport { EzModalContainer as ez_modal_container };\n"],"names":["ModalAction","ModalAction$1","ModalButtonStatus","ModalButtonStatus$1","ezModalContainerCss","EzModalContainer","hostRef","registerInstance","createEvent","event","_a","initI18n","KeyboardManager","h","Host","ref","getElement"],"mappings":"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","x_google_ignoreList":[0]}
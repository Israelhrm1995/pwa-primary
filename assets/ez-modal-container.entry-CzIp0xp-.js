import{b as s,d as c,e as t,k as r,i as d}from"./index-a3IjaFud.js";import"./dataUnitInMemoryLoader-BjgoPaoq.js";import{K as u}from"./index-dokJR7Uh.js";var i;(function(e){e.CLOSE="CLOSE",e.OK="OK",e.CANCEL="CANCEL",e.LOAD="LOAD"})(i||(i={}));const o=i;var l;(function(e){e.ENABLED="ENABLED",e.DISABLED="DISABLED",e.HIDDEN="HIDDEN"})(l||(l={}));const n=l,m=".sc-ez-modal-container-h{--ez-modal-container-overflow-y:auto;--ez-modal-container-overflow-x:hidden;display:grid;grid-template-rows:0 auto 1fr auto 0;width:100%;height:100%}.ez-modal-container__header-container.sc-ez-modal-container{outline:none}.ez-modal-container__header.sc-ez-modal-container{display:flex;flex-wrap:nowrap;flex-direction:row;justify-content:space-between;align-items:start}.ez-modal-container__content.sc-ez-modal-container{overflow-y:var(--ez-modal-container-overflow-y);overflow-x:var(--ez-modal-container-overflow-x);outline:none}.ez-modal-container__content.sc-ez-modal-container::-webkit-scrollbar{width:var(--space--small);min-width:var(--space--small);max-width:var(--space--small)}.ez-modal-container__footer.sc-ez-modal-container{display:flex;flex-direction:row;justify-content:flex-end;gap:var(--space--medium);width:100%;padding-top:var(--space--small, 6px)}.ez-modal-container__title.sc-ez-modal-container{display:grid}.ez-modal-container__close-button.sc-ez-modal-container{cursor:pointer;background-color:transparent;border:none;outline:none;padding:var(--space--6, 6px) 0px}.ez-modal-container__close-icon.sc-ez-modal-container{--icon--color:var(--title--primary, #2B3A54)}.ez-modal-container__focus-ctrl.sc-ez-modal-container{height:0px;background-color:transparent;border:none}",h=class{constructor(e){s(this,e),this.ezModalAction=c(this,"ezModalAction"),this.modalTitle=void 0,this.modalSubTitle=void 0,this.showTitleBar=!0,this.cancelButtonLabel=void 0,this.okButtonLabel=void 0,this.cancelButtonStatus=void 0,this.okButtonStatus=void 0,this.showCloseButton=!0}async handleEzModalAction(e){var a;e!=null&&e.target&&(e==null?void 0:e.target)===((a=this._element)===null||a===void 0?void 0:a.parentElement)&&this.closeModal()}cancelIsVisible(){return this.cancelButtonStatus!==n.HIDDEN&&this.cancelButtonLabel!=null}okIsVisible(){return this.okButtonStatus!==n.HIDDEN&&this.okButtonLabel!=null}componentDidLoad(){window.requestAnimationFrame(()=>{this.ezModalAction.emit(o.LOAD),this._modalRef.focus()}),this._keyboardManager=new u({propagate:!1,element:this._element}).bind("Enter",this.ezModalAction.emit.bind(o.OK)).bind("Escape",()=>this.closeModal()).bind("Esc",()=>this.closeModal())}disconnectedCallback(){var e;(e=this._keyboardManager)===null||e===void 0||e.unbindAllShortcutKeys()}closeModal(){this.ezModalAction.emit("CLOSE")}focusLast(){this._okButton!=null&&this._okButton.setFocus()}focusFirst(){this._closeButton.focus()}render(){return t(r,null,t("button",{class:"ez-modal-container__focus-ctrl",onFocusin:()=>this.focusLast()}),t("div",{ref:e=>this._modalRef=e,tabIndex:-1,class:"ez-modal-container__header-container"},this.showTitleBar&&t("div",{class:"ez-modal-container__header ez-margin-bottom--medium"},t("div",{class:"ez-col ez-align--middle ez-modal-container__title"},t("h2",{class:"ez-text ez-title--large ez-title--primary ez-text--bold ez-margin-vertical--extra-small"},this.modalTitle),this.modalSubTitle&&t("div",{class:"ez-text ez-text--medium ez-text--primary ez-margin-vertical--extra-small"},this.modalSubTitle)),this.showCloseButton&&t("button",{ref:e=>this._closeButton=e,class:"ez-modal-container__close-button",onClick:()=>this.ezModalAction.emit(o.CLOSE)},t("ez-icon",{class:"ez-modal-container__close-icon",size:"medium",iconName:"close"})))),t("div",{tabIndex:-1,class:"ez-modal-container__content"},t("slot",null)),t("div",{tabIndex:-1,class:"ez-modal-container__footer"},this.cancelIsVisible()&&t("ez-button",{label:this.cancelButtonLabel,enabled:this.cancelButtonStatus!==n.DISABLED,onClick:()=>this.ezModalAction.emit(o.CANCEL)}),this.okIsVisible()&&t("ez-button",{ref:e=>this._okButton=e,class:"ez-button--primary",label:this.okButtonLabel,enabled:this.okButtonStatus!==n.DISABLED,onClick:()=>this.ezModalAction.emit(o.OK)})),t("button",{class:"ez-modal-container__focus-ctrl",onFocusin:()=>this.focusFirst()}))}get _element(){return d(this)}};h.style=m;export{h as ez_modal_container};

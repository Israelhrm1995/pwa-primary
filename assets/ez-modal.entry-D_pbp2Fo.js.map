{"version":3,"file":"ez-modal.entry-D_pbp2Fo.js","sources":["../../node_modules/@sankhyalabs/ezui/dist/esm/ez-modal.entry.js"],"sourcesContent":["import { r as registerInstance, c as createEvent, h, H as Host, g as getElement } from './index-baa5e267.js';\nimport { FloatingManager, KeyboardManager } from '@sankhyalabs/core';\n\nconst ezModalCss = \":host{--ez-modal-z-index:var(--elevation--22, 22);--ez-modal-vertical-padding:var(--space--large, 24px);--ez-modal-content-padding:24px;display:block}.modal{position:fixed;display:flex;top:0px;z-index:var(--ez-modal-z-index);left:0px;width:100%;box-sizing:border-box;height:100vh;outline:none}.modal__screen-light{background:rgba(0, 4, 12, 0.1)}.modal__screen-none{background:none}.modal__screen-medium{backdrop-filter:blur(4px);background:rgba(0, 4, 12, 0.4)}.modal__vertical-padding{padding:var(--ez-modal-vertical-padding) 0}@keyframes expand-modal--left{from{transform:translate(-100%)}}@keyframes expand-modal--right{from{transform:translate(100%)}}.modal__container{display:flex;flex-wrap:wrap;height:100%;box-sizing:border-box;width:100%;align-items:flex-start}.modal__container--right{animation:expand-modal--right .2s ease-in-out 1;justify-content:flex-end}.modal__container--left{animation:expand-modal--left .2s ease-in-out 1;justify-content:flex-start}.modal__content{display:flex;flex-wrap:wrap;box-sizing:border-box;max-height:100%;height:100%;overflow-y:auto;background-color:rgb(255, 255, 255);padding:var(--ez-modal-content-padding);box-shadow:rgb(0 38 111 / 12%) 0px 0px 16px 0px}.modal__content--right{border-radius:12px 0px 0px 12px}.modal__content--left{border-radius:0px 12px 12px 0px}.modal__box__container{display:flex;flex-wrap:wrap;background-color:#fff;width:100%;border-radius:12px}.row{width:100%;display:flex;flex-wrap:wrap}.col{display:flex;flex-wrap:wrap;align-self:flex-start;box-sizing:border-box}.col--stretch{align-self:stretch}.col--undefined{width:unset}.col--nowrap{flex-wrap:nowrap}@media screen and (min-width: 320px){.col--sd-1{width:8.33333%}.col--sd-2{width:16.66667%}.col--sd-3{width:25%}.col--sd-4{width:33.33333%}.col--sd-5{width:41.66667%}.col--sd-6{width:50%}.col--sd-7{width:58.33333%}.col--sd-8{width:66.66667%}.col--sd-9{width:75%}.col--sd-10{width:83.33333%}.col--sd-11{width:91.66667%}.col--sd-12{width:100%}}@media screen and (min-width: 480px){.col--pn-1{width:8.33333%}.col--pn-2{width:16.66667%}.col--pn-3{width:25%}.col--pn-4{width:33.33333%}.col--pn-5{width:41.66667%}.col--pn-6{width:50%}.col--pn-7{width:58.33333%}.col--pn-8{width:66.66667%}.col--pn-9{width:75%}.col--pn-10{width:83.33333%}.col--pn-11{width:91.66667%}.col--pn-12{width:100%}}@media screen and (min-width: 768px){.col--tb-1{width:8.33333%}.col--tb-2{width:16.66667%}.col--tb-3{width:25%}.col--tb-4{width:33.33333%}.col--tb-5{width:41.66667%}.col--tb-6{width:50%}.col--tb-7{width:58.33333%}.col--tb-8{width:66.66667%}.col--tb-9{width:75%}.col--tb-10{width:83.33333%}.col--tb-11{width:91.66667%}.col--tb-12{width:100%}}@media screen and (min-width: 992px){.col--md-1{width:8.33333%}.col--md-2{width:16.66667%}.col--md-3{width:25%}.col--md-4{width:33.33333%}.col--md-5{width:41.66667%}.col--md-6{width:50%}.col--md-7{width:58.33333%}.col--md-8{width:66.66667%}.col--md-9{width:75%}.col--md-10{width:83.33333%}.col--md-11{width:91.66667%}.col--md-12{width:100%}}@media screen and (min-width: 1200px){.col--ld-1{width:8.33333%}.col--ld-2{width:16.66667%}.col--ld-3{width:25%}.col--ld-4{width:33.33333%}.col--ld-5{width:41.66667%}.col--ld-6{width:50%}.col--ld-7{width:58.33333%}.col--ld-8{width:66.66667%}.col--ld-9{width:75%}.col--ld-10{width:83.33333%}.col--ld-11{width:91.66667%}.col--ld-12{width:100%}}\";\n\nconst EzModal = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.ezCloseModal = createEvent(this, \"ezCloseModal\", 7);\n    this.ezOpenModal = createEvent(this, \"ezOpenModal\", 7);\n    this.ezModalAction = createEvent(this, \"ezModalAction\", 7);\n    this.modalSize = undefined;\n    this.align = undefined;\n    this.heightMode = \"regular\";\n    this.opened = true;\n    this.closeEsc = false;\n    this.closeOutsideClick = false;\n    this.closeOutsideLeave = false;\n    this.scrim = \"medium\";\n  }\n  observeOpened() {\n    if (this.opened) {\n      this._overlayId = FloatingManager.subscribeOverlayControl(this._modalRef);\n    }\n    else {\n      FloatingManager.unsubscribeOverlayControl(this._modalRef || this._overlayId);\n    }\n  }\n  closeModal() {\n    this.opened = false;\n    this.ezCloseModal.emit(this.opened);\n  }\n  componentDidLoad() {\n    this.observeOpened();\n    this._keyboardManager = new KeyboardManager({ propagate: false, element: this._element, enableShadowDom: true })\n      .bind(\"Enter\", this.ezModalAction.emit.bind(\"OK\"))\n      .bind(\"Escape\", () => this.closeModal())\n      .bind(\"Esc\", () => this.closeModal());\n  }\n  componentDidRender() {\n    this.modalFocus();\n  }\n  disconnectedCallback() {\n    var _a;\n    (_a = this._keyboardManager) === null || _a === void 0 ? void 0 : _a.unbindAllShortcutKeys();\n  }\n  modalFocus() {\n    if (!this.opened) {\n      return;\n    }\n    requestAnimationFrame(() => {\n      const slot = this._element.shadowRoot.querySelector(\"ez-modal-container\");\n      if (this._modalRef && slot === null) {\n        this._modalRef.focus();\n      }\n    });\n  }\n  onMouseDownHandler(event) {\n    if (this.closeOutsideClick && event.target === this._overlay) {\n      this.closeModal();\n    }\n  }\n  onMouseLeaveHandler() {\n    if (this.closeOutsideLeave) {\n      this.closeModal();\n    }\n  }\n  render() {\n    const positionSufix = this.align === \"left\" ? \"left\" : \"right\";\n    const regularVerticalPaddingClass = this.heightMode === \"regular\" ? 'modal__vertical-padding' : '';\n    const modalContentHeightMode = this.heightMode === \"regular\" ? `modal__content--${positionSufix}` : '';\n    const scrimType = `modal__screen-${this.scrim}`;\n    return (h(Host, null, this.opened\n      ?\n        h(\"div\", { ref: ref => this._modalRef = ref, class: `modal ${scrimType} ${regularVerticalPaddingClass}`, onMouseDown: evt => this.onMouseDownHandler(evt), tabIndex: -1 }, h(\"div\", { class: `modal__container modal__container--${positionSufix}`, ref: ref => this._overlay = ref }, h(\"div\", { onMouseLeave: () => this.onMouseLeaveHandler(), class: `modal__content ${modalContentHeightMode} ${this.modalSize}` }, h(\"slot\", null))))\n      :\n        undefined));\n  }\n  get _element() { return getElement(this); }\n  static get watchers() { return {\n    \"opened\": [\"observeOpened\"]\n  }; }\n};\nEzModal.style = ezModalCss;\n\nexport { EzModal as ez_modal };\n"],"names":["ezModalCss","EzModal","hostRef","registerInstance","createEvent","FloatingManager","KeyboardManager","_a","slot","event","positionSufix","regularVerticalPaddingClass","modalContentHeightMode","scrimType","h","Host","ref","evt","getElement"],"mappings":"gKAGA,MAAMA,EAAa,mwGAEbC,EAAU,KAAM,CACpB,YAAYC,EAAS,CACnBC,EAAiB,KAAMD,CAAO,EAC9B,KAAK,aAAeE,EAAY,KAAM,cAAiB,EACvD,KAAK,YAAcA,EAAY,KAAM,aAAgB,EACrD,KAAK,cAAgBA,EAAY,KAAM,eAAkB,EACzD,KAAK,UAAY,OACjB,KAAK,MAAQ,OACb,KAAK,WAAa,UAClB,KAAK,OAAS,GACd,KAAK,SAAW,GAChB,KAAK,kBAAoB,GACzB,KAAK,kBAAoB,GACzB,KAAK,MAAQ,QACjB,CACE,eAAgB,CACV,KAAK,OACP,KAAK,WAAaC,EAAgB,wBAAwB,KAAK,SAAS,EAGxEA,EAAgB,0BAA0B,KAAK,WAAa,KAAK,UAAU,CAEjF,CACE,YAAa,CACX,KAAK,OAAS,GACd,KAAK,aAAa,KAAK,KAAK,MAAM,CACtC,CACE,kBAAmB,CACjB,KAAK,cAAe,EACpB,KAAK,iBAAmB,IAAIC,EAAgB,CAAE,UAAW,GAAO,QAAS,KAAK,SAAU,gBAAiB,EAAM,CAAA,EAC5G,KAAK,QAAS,KAAK,cAAc,KAAK,KAAK,IAAI,CAAC,EAChD,KAAK,SAAU,IAAM,KAAK,WAAY,CAAA,EACtC,KAAK,MAAO,IAAM,KAAK,WAAU,CAAE,CAC1C,CACE,oBAAqB,CACnB,KAAK,WAAY,CACrB,CACE,sBAAuB,CACrB,IAAIC,GACHA,EAAK,KAAK,oBAAsB,MAAQA,IAAO,QAAkBA,EAAG,sBAAuB,CAChG,CACE,YAAa,CACN,KAAK,QAGV,sBAAsB,IAAM,CAC1B,MAAMC,EAAO,KAAK,SAAS,WAAW,cAAc,oBAAoB,EACpE,KAAK,WAAaA,IAAS,MAC7B,KAAK,UAAU,MAAO,CAE9B,CAAK,CACL,CACE,mBAAmBC,EAAO,CACpB,KAAK,mBAAqBA,EAAM,SAAW,KAAK,UAClD,KAAK,WAAY,CAEvB,CACE,qBAAsB,CAChB,KAAK,mBACP,KAAK,WAAY,CAEvB,CACE,QAAS,CACP,MAAMC,EAAgB,KAAK,QAAU,OAAS,OAAS,QACjDC,EAA8B,KAAK,aAAe,UAAY,0BAA4B,GAC1FC,EAAyB,KAAK,aAAe,UAAY,mBAAmBF,CAAa,GAAK,GAC9FG,EAAY,iBAAiB,KAAK,KAAK,GAC7C,OAAQC,EAAEC,EAAM,KAAM,KAAK,OAEvBD,EAAE,MAAO,CAAE,IAAKE,GAAO,KAAK,UAAYA,EAAK,MAAO,SAASH,CAAS,IAAIF,CAA2B,GAAI,YAAaM,GAAO,KAAK,mBAAmBA,CAAG,EAAG,SAAU,EAAE,EAAIH,EAAE,MAAO,CAAE,MAAO,sCAAsCJ,CAAa,GAAI,IAAKM,GAAO,KAAK,SAAWA,CAAG,EAAIF,EAAE,MAAO,CAAE,aAAc,IAAM,KAAK,oBAAqB,EAAE,MAAO,kBAAkBF,CAAsB,IAAI,KAAK,SAAS,EAAI,EAAEE,EAAE,OAAQ,IAAI,CAAC,CAAC,CAAC,EAE1a,MAAS,CACjB,CACE,IAAI,UAAW,CAAE,OAAOI,EAAW,IAAI,CAAE,CACzC,WAAW,UAAW,CAAE,MAAO,CAC7B,OAAU,CAAC,eAAe,CAC9B,CAAI,CACJ,EACAjB,EAAQ,MAAQD","x_google_ignoreList":[0]}
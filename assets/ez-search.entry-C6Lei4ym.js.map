{"version":3,"file":"ez-search.entry-C6Lei4ym.js","sources":["../../node_modules/@sankhyalabs/ezui/dist/esm/ez-search.entry.js"],"sourcesContent":["import { r as registerInstance, c as createEvent, h, H as Host, g as getElement } from './index-baa5e267.js';\nimport { C as CSSVarsUtils } from './CSSVarsUtils-acba92d7.js';\nimport { ObjectUtils, StringUtils, ElementIDUtils } from '@sankhyalabs/core';\nimport { A as ApplicationUtils } from './ApplicationUtils-eaf91331.js';\nimport './DialogType-54a62731.js';\nimport './CheckMode-bdb2ec19.js';\nimport './FormLayout-071d324c.js';\nimport { R as REQUIRED_INFO } from './constants-b036528f.js';\nimport { r as replaceQuotes, a as replaceHighlight } from './searchFormatters-8229207e.js';\n\nconst ezSearchCss = \":host{--ez-search--height:42px;--ez-search--width:100%;--ez-search__icon--width:48px;--ez-search--border-radius:var(--border--radius-medium, 12px);--ez-search--border-radius-small:var(--border--radius-small, 6px);--ez-search--font-size:var(--text--medium, 14px);--ez-search--font-family:var(--font-pattern, Arial);--ez-search--font-weight--large:var(--text-weight--large, 500);--ez-search--font-weight--medium:var(--text-weight--medium, 400);--ez-search--background-color--xlight:var(--background--xlight, #fff);--ez-search--background-medium:var(--background--medium, #f0f3f7);--ez-search--line-height:calc(var(--text--medium, 14px) + 4px);--ez-search__input--background-color:var(--background--medium, #e0e0e0);--ez-search__input--border:var(--border--medium, 2px solid);--ez-search__input--border-color:var(--ez-search__input--background-color);--ez-search__input--focus--border-color:var(--color--primary, #008561);--ez-search__input--disabled--background-color:var(--color--disable-secondary, #F2F5F8);--ez-search__input--disabled--color:var(--text--disable, #AFB6C0);--ez-search__input--error--border-color:#CC2936;--ez-search__btn--color:var(--title--primary, #2B3A54);--ez-search__btn-disabled--color:var(--text--disable, #AFB6C0);--ez-search__btn-hover--color:var(--color--primary, #4e4e4e);--ez-search__label--color:var(--title--primary, #2B3A54);--ez-search--space--medium:var(--space--medium, 12px);--ez-search--space--small:var(--space--small, 6px);display:flex;flex-wrap:wrap;position:relative;width:var(--ez-search--width)}ez-icon{--ez-icon--color:inherit;font-weight:var(--text-weight--large, 600)}.suppressed-search-input{--ez-text-input__input--border-color:var(--color--strokes, #dce0e8);--ez-text-input__input--disabled--background-color:var(--background--xlight, #fff);--ez-text-input__input--disabled--color:var(--title--primary, #2B3A54)}.btn{outline:none;border:none;background:none;cursor:pointer;color:var(--ez-search__btn--color)}.btn:disabled{cursor:not-allowed;color:var(--ez-search__btn-disabled--color)}.btn:disabled:hover{cursor:not-allowed;color:var(--ez-search__btn-disabled--color)}.btn:hover{color:var(--ez-search__btn-hover--color)}.btn__close{visibility:hidden}ez-text-input:hover .btn__close,ez-text-input:focus .btn__close{visibility:visible}\";\n\nconst EzSearch = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.ezChange = createEvent(this, \"ezChange\", 7);\n    this._changeDeboucingTimeout = null;\n    this._limitCharsToSearch = 3;\n    this._deboucingTime = 300;\n    this._maxWidthValue = 0;\n    this._tabPressed = false;\n    this._textEmptyList = \"Nenhum resultado encontrado\";\n    this._textEmptySearch = \"Nenhum resultado de {0} encontrado\";\n    this._startHighlightTag = \"<span class='card-item__highlight'>\";\n    this._endHighlightTag = \"</span>\";\n    this._preSelection = undefined;\n    this._visibleOptions = undefined;\n    this._startLoading = false;\n    this._showLoading = true;\n    this._showLoadingDescription = false;\n    this._criteria = undefined;\n    this.value = undefined;\n    this.label = undefined;\n    this.enabled = true;\n    this.errorMessage = undefined;\n    this.optionLoader = undefined;\n    this.contextProperties = undefined;\n    this.showSelectedValue = true;\n    this.showOptionValue = true;\n    this.suppressEmptyOption = false;\n    this.stopPropagateEnterKeyEvent = false;\n    this.mode = \"regular\";\n    this.canShowError = true;\n    this.hideErrorOnFocusOut = true;\n    this.listOptionsPosition = undefined;\n    this.isTextSearch = false;\n    this.ignoreLimitCharsToSearch = false;\n    this.options = undefined;\n    this.suppressSearch = false;\n    this.ensureClearButtonVisible = false;\n    this.suppressPreLoad = true;\n    this.autoFocus = false;\n    this.alternativePlaceholder = undefined;\n  }\n  observeErrorMessage() {\n    var _a;\n    if (this._textInput) {\n      this._textInput.errorMessage = this.errorMessage;\n      if (!((_a = this.errorMessage) === null || _a === void 0 ? void 0 : _a.trim()) && this.errorMessage) {\n        this.setInputValue();\n      }\n    }\n  }\n  getValue(val) {\n    return typeof val === 'object' ? val === null || val === void 0 ? void 0 : val.value : val;\n  }\n  validateNewValue(newValue, oldValue) {\n    const parsedNewValue = this.getValue(newValue);\n    const parsedOldValue = this.getValue(oldValue);\n    const newValueIsValid = parsedNewValue !== \"[object Object]\";\n    const valuesIsDifferent = parsedNewValue !== parsedOldValue;\n    if (newValueIsValid && valuesIsDifferent) {\n      return true;\n    }\n    return false;\n  }\n  async observeValue(newValue, oldValue) {\n    if (this._textInput && this.validateNewValue(newValue, oldValue)) {\n      if (typeof newValue === \"string\") {\n        await this.handleValueAsString(newValue);\n        return;\n      }\n      const newValueSelected = this.getSelectedOption(newValue);\n      const currentValue = this.getSelectedOption(this._currentValue);\n      if (this.isDifferentValues(currentValue, newValueSelected)) {\n        this._currentValue = newValueSelected;\n        this.setInputValue();\n        const valueEmitted = newValueSelected !== null && newValueSelected !== void 0 ? newValueSelected : undefined;\n        this.ezChange.emit(valueEmitted);\n      }\n      this.resetOptions();\n    }\n  }\n  observeOptions(newOptions, oldOptions) {\n    if (!newOptions.length && this.suppressPreLoad)\n      return;\n    if ((newOptions === null || newOptions === void 0 ? void 0 : newOptions.join('')) === (oldOptions === null || oldOptions === void 0 ? void 0 : oldOptions.join('')))\n      return;\n    this.loadOptions(SearchMode.PRELOAD);\n  }\n  /*\n  * Retorna uma promise com o valor da opção selecionada,\n  * que será resolvida quando o backend devolver este dado.\n  */\n  async getValueAsync() {\n    if (!this._showLoading) {\n      return new Promise(resolve => resolve(this.value));\n    }\n    return new Promise(resolve => {\n      let id = setInterval(() => {\n        if (!this._showLoading) {\n          clearInterval(id);\n          resolve(this.value);\n        }\n      }, 100);\n    });\n  }\n  /**\n   * Aplica o foco no campo.\n   */\n  async setFocus(options) {\n    if (this._textInput) {\n      this._textInput.setFocus(options);\n    }\n  }\n  /**\n   * Remove o foco do campo.\n   */\n  async setBlur() {\n    if (this._textInput) {\n      this._textInput.setBlur();\n    }\n  }\n  /**\n   * Retorna se o conteúdo é inválido.\n   */\n  async isInvalid() {\n    return typeof this.errorMessage === \"string\" && this.errorMessage.trim() !== \"\";\n  }\n  /**\n   * Limpa o valor do campo de pesquisa\n   */\n  async clearValue() {\n    this.clearSearch();\n  }\n  async handleValueAsString(value) {\n    if (this.getSelectedOption(value)) {\n      this.setInputValue();\n      return;\n    }\n    await this.loadDescriptionValue(value);\n    if (!this._currentValue) {\n      return;\n    }\n    this.setInputValue();\n    this.ezChange.emit(this.value);\n    this._currentValue = this.value;\n  }\n  isDifferentValues(firstValue, secondValue) {\n    return ObjectUtils.objectToString(firstValue || {}) !== ObjectUtils.objectToString(secondValue || {});\n  }\n  getFormattedText(currentValue) {\n    if (currentValue == undefined) {\n      return;\n    }\n    let text = (!this.showSelectedValue || currentValue.value == undefined) ? currentValue.label : currentValue.label ? `${currentValue.value} - ${currentValue.label}` : currentValue.value;\n    text = text === null || text === void 0 ? void 0 : text.replace(new RegExp(this._startHighlightTag, 'g'), '').replace(new RegExp(this._endHighlightTag, 'g'), '');\n    return text;\n  }\n  getText() {\n    const currentValue = this.getSelectedOption(this._currentValue);\n    const text = this.getFormattedText(currentValue);\n    return replaceQuotes(text);\n  }\n  getSelectedOption(value) {\n    if (typeof value === \"string\" || value instanceof String) {\n      return this._visibleOptions.find(o => o.value === value);\n    }\n    if (value) {\n      return Object.assign(Object.assign({}, value), { value: replaceHighlight(value === null || value === void 0 ? void 0 : value.value), label: replaceHighlight(value === null || value === void 0 ? void 0 : value.label) });\n    }\n    return value;\n  }\n  updateVisibleOptions() {\n    let opts = this._source || [];\n    if (this.suppressEmptyOption) {\n      this._visibleOptions = opts;\n    }\n    else {\n      this._visibleOptions = [{ value: undefined, label: \"\" }].concat(opts);\n    }\n    this._maxWidthValue = this.getMaxWidthValue();\n  }\n  getMaxWidthValue() {\n    var _a;\n    const arrValues = [];\n    (_a = this._visibleOptions) === null || _a === void 0 ? void 0 : _a.forEach(opt => {\n      const widthValue = this.getWidthValue(opt.value);\n      if (!arrValues.includes(widthValue)) {\n        arrValues.push(widthValue);\n      }\n    });\n    return arrValues.length > 1 ? Math.max(...arrValues) : 0;\n  }\n  getWidthValue(value) {\n    if (this._itemValueBasis != undefined) {\n      const span = this._itemValueBasis;\n      if (value != undefined) {\n        span.innerHTML = value;\n        return span.clientWidth > 0 ? (span.clientWidth + 2) : 0;\n      }\n      else {\n        span.innerHTML = \"\";\n      }\n    }\n    return 0;\n  }\n  showOptions() {\n    if (!this.enabled)\n      return;\n    if (this.isOptionsVisible()) {\n      return;\n    }\n    this._ezPopOverPlusElement.showUnder(this._textInput);\n  }\n  hideOptions() {\n    this._ezPopOverPlusElement.hide();\n  }\n  isOptionsVisible() {\n    return this._ezPopOverPlusElement.opened;\n  }\n  selectCurrentOption() {\n    if (this._preSelection !== undefined) {\n      this.selectOption(this._visibleOptions[this._preSelection]);\n      this._preSelection = undefined;\n    }\n    else {\n      this.controlListWithOnlyOne();\n    }\n  }\n  updateSource(source) {\n    this._startLoading = false;\n    if (source instanceof Promise) {\n      this._showLoading = true;\n      this._showLoadingDescription = true;\n      source.then(result => {\n        this.updateSource(result);\n      }).finally(() => {\n        this._showLoading = false;\n        this._showLoadingDescription = false;\n      });\n      this.updateVisibleOptions();\n    }\n    else {\n      this._showLoading = false;\n      if (Array.isArray(source)) {\n        this._source = source;\n        this.updateVisibleOptions();\n        if (this._tabPressed) {\n          this._tabPressed = false;\n          this.controlEmptySearch(false);\n        }\n      }\n      else {\n        this.selectOption(source);\n      }\n    }\n  }\n  clearSource() {\n    this._source = [];\n    this.updateVisibleOptions();\n  }\n  selectOption(newOption, focusOnInput = true) {\n    var _a, _b;\n    const currentValue = this.getSelectedOption(this.value);\n    const newOptionsReplaced = Object.assign(Object.assign({}, newOption), { value: replaceHighlight(newOption === null || newOption === void 0 ? void 0 : newOption.value), label: replaceHighlight(newOption === null || newOption === void 0 ? void 0 : newOption.label) });\n    const newOptionsFormatted = Object.assign(Object.assign({}, newOptionsReplaced), { value: replaceQuotes(newOptionsReplaced === null || newOptionsReplaced === void 0 ? void 0 : newOptionsReplaced.value), label: replaceQuotes(newOptionsReplaced === null || newOptionsReplaced === void 0 ? void 0 : newOptionsReplaced.label) });\n    if ((((_a = currentValue === null || currentValue === void 0 ? void 0 : currentValue.value) === null || _a === void 0 ? void 0 : _a.toString()) !== ((_b = newOptionsFormatted === null || newOptionsFormatted === void 0 ? void 0 : newOptionsFormatted.value) === null || _b === void 0 ? void 0 : _b.toString()))\n      || (currentValue == undefined && newOptionsFormatted != undefined && \"value\" in newOptionsFormatted)) {\n      const adjustedOpt = !(newOptionsFormatted === null || newOptionsFormatted === void 0 ? void 0 : newOptionsFormatted.value) ? undefined : newOptionsFormatted;\n      this.value = adjustedOpt;\n      this._currentValue = adjustedOpt;\n    }\n    else {\n      this.setInputValue();\n      this.resetOptions();\n    }\n    this._visibleOptions = [];\n    this.clearSource();\n    if (focusOnInput) {\n      setTimeout(() => {\n        this.setFocus();\n      }, 0);\n    }\n  }\n  loadOptions(mode, argument = \"\") {\n    this._criteria = argument;\n    this._startLoading = true;\n    if (this.optionLoader) {\n      const searchArgument = { mode, argument };\n      this.updateSource(this.optionLoader(searchArgument, this.contextProperties));\n    }\n    else {\n      this.updateSource(this.options);\n    }\n  }\n  cancelPreselection() {\n    if (!this._textInput.value && this._currentValue && this._source.length > 0) {\n      this.selectOption(undefined);\n    }\n    else {\n      window.setTimeout(() => {\n        this.setInputValue();\n      }, this._deboucingTime);\n    }\n    this.resetOptions();\n  }\n  setInputValue(clearError = true) {\n    const textValue = this.getText();\n    if ((this._textInput.value || '') !== textValue) {\n      this._textInput.value = textValue;\n      if (clearError) {\n        this.errorMessage = null;\n      }\n    }\n  }\n  clearSearch() {\n    this.value = null;\n    this._currentValue = null;\n  }\n  controlListWithOnlyOne(focusOnInput = true) {\n    var _a, _b;\n    const source = (_a = this._visibleOptions) === null || _a === void 0 ? void 0 : _a.filter((opt) => opt.label !== \"\" && opt.value != undefined);\n    if ((source === null || source === void 0 ? void 0 : source.length) > 0) {\n      const startHighlight = new RegExp(this._startHighlightTag, 'g');\n      const endHighlight = new RegExp(this._endHighlightTag, 'g');\n      let title = StringUtils.decodeHtmlEntities(source[0].label);\n      const option = {\n        value: (_b = source[0].value) === null || _b === void 0 ? void 0 : _b.replace(startHighlight, '').replace(endHighlight, ''),\n        label: title === null || title === void 0 ? void 0 : title.replace(startHighlight, '').replace(endHighlight, '')\n      };\n      this.selectOption(option, focusOnInput);\n    }\n  }\n  controlEmptySearch(focusOnInput = true) {\n    var _a;\n    if (!((_a = this._visibleOptions) === null || _a === void 0 ? void 0 : _a.length)) {\n      this.clearSearch();\n      ApplicationUtils.info(this._textEmptyList);\n    }\n    else {\n      this.controlListWithOnlyOne(focusOnInput);\n    }\n  }\n  async loadDescriptionValue(argument) {\n    var _a, _b;\n    if (argument == undefined) {\n      return;\n    }\n    if (((_a = this.options) === null || _a === void 0 ? void 0 : _a.length) > 0) {\n      this.loadOptionValue(argument);\n      return;\n    }\n    const searchArgument = {\n      mode: SearchMode.PREDICTIVE,\n      argument\n    };\n    const source = await ((_b = this.optionLoader) === null || _b === void 0 ? void 0 : _b.call(this, searchArgument, this.contextProperties));\n    if (source == undefined) {\n      return;\n    }\n    if (source instanceof Promise) {\n      source.then((result) => {\n        this.setDescriptionValue(result);\n      });\n    }\n    else {\n      this.setDescriptionValue(source);\n    }\n  }\n  setDescriptionValue(source) {\n    const value = (source === null || source === void 0 ? void 0 : source[0]) || source;\n    if (value == undefined || !Object.keys(value).length) {\n      this.showNoResultMessage();\n      return;\n    }\n    this._currentValue = value ? Object.assign(Object.assign({}, value), { value: replaceHighlight(value.value), label: replaceHighlight(value.label) }) : value;\n    this.value = this._currentValue;\n    this.setTextInputValue();\n  }\n  setTextInputValue() {\n    if (this._textInput && (this._textInput.value === null || this._textInput.value === undefined)) {\n      if (this.value === undefined || this.value === null)\n        return;\n      const textValue = (typeof this.value === 'string') ? this.value : this.getFormattedText(this.value);\n      this._textInput.value = replaceQuotes(textValue);\n    }\n  }\n  loadOptionValue(argument) {\n    var _a;\n    const source = (_a = this.options) === null || _a === void 0 ? void 0 : _a.find((opt) => opt.value === argument);\n    if (source != undefined) {\n      this.selectOption(source);\n    }\n    else {\n      this.showNoResultMessage();\n    }\n  }\n  async showNoResultMessage() {\n    this.clearSearch();\n    ApplicationUtils.info(this._textEmptySearch.replace(\"{0}\", this.getFieldLabel()));\n  }\n  getFieldLabel() {\n    var _a;\n    return (_a = this.label) === null || _a === void 0 ? void 0 : _a.replace(REQUIRED_INFO, \"\").toUpperCase();\n  }\n  resetOptions() {\n    this.hideOptions();\n    this._criteria = undefined;\n    this._preSelection = undefined;\n    this.updateVisibleOptions();\n  }\n  async handleInitialValue() {\n    const valueIsValid = !!this.getValue(this.value);\n    if (!valueIsValid) {\n      return;\n    }\n    if (typeof this.value === \"string\") {\n      await this.handleValueAsString(this.value);\n      return;\n    }\n    let text = this.getFormattedText(this.value);\n    text = replaceQuotes(text);\n    this._textInput.value = text;\n  }\n  //---------------------------------------------\n  // Lifecycle web component\n  //---------------------------------------------\n  componentWillLoad() {\n    if (this.options === undefined) {\n      this.options = [];\n      const optionsTags = this.el.querySelectorAll(\"option\");\n      if (optionsTags) {\n        optionsTags.forEach(e => {\n          let label = e.innerText;\n          let value = e.getAttribute(\"value\");\n          let details = e.getAttribute(\"details\");\n          if (!value) {\n            value = label;\n          }\n          this.options.push({ label, value, details });\n          e.hidden = true;\n        });\n      }\n    }\n    this.updateSource([]);\n  }\n  componentDidRender() {\n    var _a;\n    (_a = this._optionsList) === null || _a === void 0 ? void 0 : _a.querySelectorAll(\".item\").forEach((elem) => {\n      ElementIDUtils.addIDInfoIfNotExists(elem, \"itemSearch\");\n    });\n  }\n  async componentDidLoad() {\n    this._currentValue = this.value;\n    CSSVarsUtils.applyVarsTextInput(this.el, this._textInput);\n    this._resizeObserver = new ResizeObserver((entries) => {\n      window.requestAnimationFrame(() => {\n        if (!Array.isArray(entries) || !entries.length)\n          return;\n      });\n    });\n    this._intersectionObserver = new IntersectionObserver((entries) => {\n      entries.forEach(entry => {\n        if (!entry.isIntersecting && this._ezPopOverPlusElement) {\n          this._ezPopOverPlusElement.hide();\n        }\n      });\n    }, { threshold: 0.1 });\n    if (this._textInput) {\n      this._intersectionObserver.observe(this._textInput);\n    }\n    await this.handleInitialValue();\n    if (this.autoFocus) {\n      requestAnimationFrame(() => {\n        this.setFocus({ selectText: true });\n      });\n    }\n  }\n  disconnectedCallback() {\n    var _a, _b;\n    (_a = this._resizeObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\n    (_b = this._intersectionObserver) === null || _b === void 0 ? void 0 : _b.disconnect();\n  }\n  //---------------------------------------------\n  // Event handlers\n  //---------------------------------------------\n  handlerIconClick() {\n    this.loadOptions(SearchMode.ADVANCED);\n  }\n  buildNumberArgument(argument) {\n    if (this.isTextSearch) {\n      return NaN;\n    }\n    return Number(argument || undefined);\n  }\n  onTextInputChangeHandler(event) {\n    var _a;\n    this.clearDeboucingTimeout();\n    if (this._startLoading) {\n      this._changeDeboucingTimeout = window.setTimeout(() => {\n        this.onTextInputChangeHandler(event);\n      }, this._deboucingTime);\n      return;\n    }\n    const argument = (_a = event.target.value) === null || _a === void 0 ? void 0 : _a.trim();\n    const argumentNumber = this.buildNumberArgument(argument);\n    if (!this._criteria) {\n      this._textInput.value = event.data || argument;\n    }\n    this._criteria = argument;\n    if (argument) {\n      this._showLoading = false;\n      this.clearSource();\n      if (this.ignoreLimitCharsToSearch || !isNaN(argumentNumber) || argument.length >= this._limitCharsToSearch) {\n        this._showLoading = true;\n        this._changeDeboucingTimeout = window.setTimeout(() => {\n          this.loadOptions(SearchMode.PREDICTIVE, isNaN(argumentNumber) ? argument : argumentNumber.toString());\n        }, this._deboucingTime);\n        this.showOptions();\n      }\n      else {\n        this.hideOptions();\n      }\n    }\n    else {\n      this.hideOptions();\n      this._showLoading = false;\n      this.clearSource();\n    }\n  }\n  clearDeboucingTimeout() {\n    if (this._changeDeboucingTimeout) {\n      window.clearTimeout(this._changeDeboucingTimeout);\n      this._changeDeboucingTimeout = null;\n    }\n  }\n  async keyDownHandler(event) {\n    this._tabPressed = false;\n    if (event.ctrlKey) {\n      if (event.key === \"f\" || event.key === \"F\") {\n        this.loadOptions(SearchMode.ADVANCED);\n        //ATENÇÃO: Ctrl + F tem ação específica nos browsers\n        //nesse caso, como vamos abrir o popup de busca avançada,\n        //não é interessante deixar o evento propagar;\n        event.stopPropagation();\n        event.stopImmediatePropagation();\n        event.preventDefault();\n      }\n    }\n    switch (event.key) {\n      case \"ArrowDown\":\n        event.stopPropagation();\n        if (this.canShowListOptions()) {\n          event.preventDefault();\n        }\n        if (!this.isOptionsVisible()) {\n          this.showOptions();\n        }\n        await this._searchList.nextOption();\n        break;\n      case \"ArrowUp\":\n        event.stopPropagation();\n        if (this.canShowListOptions()) {\n          event.preventDefault();\n        }\n        await this._searchList.previousOption();\n        break;\n      case \"Enter\":\n        this.handleEventPropagation(event);\n        this.selectCurrentOption();\n        break;\n      case \"Escape\":\n        this.cancelPreselection();\n        break;\n      case \"Tab\":\n        this._tabPressed = true;\n        this.controlListWithOnlyOne(false);\n        break;\n    }\n    //ATENÇÃO: Existe a necessidade de propagar o evento de teclado.\n    //Por exemplo, quando o usuário dá um Enter, além de selecionar\n    //um valor, também significa que a ateração finalizou,\n    //e o contexto pode reagir (fechar um popup por exemplo).\n    //event.stopPropagation();\n  }\n  //O evento deve ter sua propagação interrompida, apenas se a lista de opções estiver sendo exibida.\n  handleEventPropagation(event) {\n    if (this._ezPopOverPlusElement.opened && this.stopPropagateEnterKeyEvent) {\n      event.stopPropagation();\n    }\n  }\n  onTextInputFocusOutHandler() {\n    if (this.hideErrorOnFocusOut)\n      this.cancelPreselection();\n  }\n  canShowListOptions() {\n    return !this._showLoading && this._visibleOptions.length > 0;\n  }\n  canShowLoadSpinDescription() {\n    return this._showLoadingDescription && !this._ezPopOverPlusElement.opened;\n  }\n  onChangePreSelection(value) {\n    this._preSelection = value;\n  }\n  render() {\n    var _a;\n    ElementIDUtils.addIDInfoIfNotExists(this.el, 'input');\n    return (h(Host, null, h(\"ez-text-input\", { \"data-element-id\": ElementIDUtils.getInternalIDInfo(\"textInput\"), class: this.suppressSearch ? \"suppressed-search-input\" : \"\", ref: elem => this._textInput = elem, \"data-slave-mode\": \"true\", enabled: this.enabled && !this.suppressSearch, onInput: event => this.onTextInputChangeHandler(event), onFocusout: () => this.onTextInputFocusOutHandler(), onKeyDown: event => this.keyDownHandler(event), label: this.label, canShowError: this.canShowError, errorMessage: this.errorMessage, mode: this.mode, alternativePlaceholder: this.alternativePlaceholder }, h(\"button\", { class: \"btn\", slot: \"leftIcon\", disabled: !this.enabled, tabindex: -1, onClick: () => this.handlerIconClick() }, this.canShowLoadSpinDescription() ? h(\"div\", { class: \"message__loading\" }) : h(\"ez-icon\", { iconName: \"search\" })), (((_a = this._textInput) === null || _a === void 0 ? void 0 : _a.value) && (this._criteria || this.value) || this.ensureClearButtonVisible)\n      ? h(\"button\", { class: \"btn btn__close\", slot: \"rightIcon\", disabled: !this.enabled, tabindex: -1, onClick: () => this.clearSearch() }, h(\"ez-icon\", { iconName: \"close\" }))\n      : undefined), h(\"ez-popover-plus\", { ref: elem => this._ezPopOverPlusElement = elem, autoClose: false, overlayType: \"none\", useAnchorSize: true, anchorElement: [this._textInput, this.el] }, h(\"search-list\", { ref: (ref) => this._searchList = ref, showLoading: this._showLoading, visibleOptions: this._visibleOptions, textEmptyList: this._textEmptyList, canShowListOptions: this.canShowListOptions(), value: this.value, showOptionValue: this.showOptionValue, preSelection: this._preSelection, onChangeValue: ({ detail }) => this.selectOption(detail), onChangePreSelection: ({ detail }) => this.onChangePreSelection(detail) }))));\n  }\n  get el() { return getElement(this); }\n  static get watchers() { return {\n    \"errorMessage\": [\"observeErrorMessage\"],\n    \"value\": [\"observeValue\"],\n    \"options\": [\"observeOptions\"]\n  }; }\n};\nvar SearchMode;\n(function (SearchMode) {\n  SearchMode[\"ADVANCED\"] = \"ADVANCED\";\n  SearchMode[\"PRELOAD\"] = \"PRELOAD\";\n  SearchMode[\"PREDICTIVE\"] = \"PREDICTIVE\";\n})(SearchMode || (SearchMode = {}));\nEzSearch.style = ezSearchCss;\n\nexport { EzSearch as ez_search };\n"],"names":["ezSearchCss","EzSearch","hostRef","registerInstance","createEvent","_a","val","newValue","oldValue","parsedNewValue","parsedOldValue","newValueSelected","currentValue","valueEmitted","newOptions","oldOptions","SearchMode","resolve","id","options","value","firstValue","secondValue","ObjectUtils","text","replaceQuotes","o","replaceHighlight","opts","arrValues","opt","widthValue","span","source","result","newOption","focusOnInput","_b","newOptionsReplaced","newOptionsFormatted","adjustedOpt","mode","argument","searchArgument","clearError","textValue","startHighlight","endHighlight","title","StringUtils","option","ApplicationUtils","REQUIRED_INFO","optionsTags","e","label","details","elem","ElementIDUtils","CSSVarsUtils","entries","entry","event","argumentNumber","h","Host","ref","detail","getElement"],"mappings":"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","x_google_ignoreList":[0]}
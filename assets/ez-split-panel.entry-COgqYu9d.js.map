{"version":3,"file":"ez-split-panel.entry-COgqYu9d.js","sources":["../../node_modules/@sankhyalabs/ezui/dist/esm/ez-split-panel.entry.js"],"sourcesContent":["import { r as registerInstance, c as createEvent, h, H as Host, g as getElement } from './index-baa5e267.js';\nimport { StringUtils } from '@sankhyalabs/core';\n\nvar numeric = function (value, unit) { return Number(value.slice(0, -1 * unit.length)); };\n\nvar parseValue = function (value) {\n    if (value.endsWith('px'))\n        { return { value: value, type: 'px', numeric: numeric(value, 'px') } }\n    if (value.endsWith('fr'))\n        { return { value: value, type: 'fr', numeric: numeric(value, 'fr') } }\n    if (value.endsWith('%'))\n        { return { value: value, type: '%', numeric: numeric(value, '%') } }\n    if (value === 'auto') { return { value: value, type: 'auto' } }\n    return null\n};\n\nvar parse = function (rule) { return rule.split(' ').map(parseValue); };\n\nvar getSizeAtTrack = function (index, tracks, gap, end) {\n    if ( gap === void 0 ) { gap = 0; }\n    if ( end === void 0 ) { end = false; }\n\n    var newIndex = end ? index + 1 : index;\n    var trackSum = tracks\n        .slice(0, newIndex)\n        .reduce(function (accum, value) { return accum + value.numeric; }, 0);\n    var gapSum = gap ? index * gap : 0;\n\n    return trackSum + gapSum\n};\n\nvar getStyles = function (rule, ownRules, matchedRules) { return ownRules.concat( matchedRules)\n        .map(function (r) { return r.style[rule]; })\n        .filter(function (style) { return style !== undefined && style !== ''; }); };\n\nvar getGapValue = function (unit, size) {\n    if (size.endsWith(unit)) {\n        return Number(size.slice(0, -1 * unit.length))\n    }\n    return null\n};\n\nvar firstNonZero = function (tracks) {\n    // eslint-disable-next-line no-plusplus\n    for (var i = 0; i < tracks.length; i++) {\n        if (tracks[i].numeric > 0) {\n            return i\n        }\n    }\n    return null\n};\n\nvar NOOP = function () { return false; };\n\nvar defaultWriteStyle = function (element, gridTemplateProp, style) {\n    // eslint-disable-next-line no-param-reassign\n    element.style[gridTemplateProp] = style;\n};\n\nvar getOption = function (options, propName, def) {\n    var value = options[propName];\n    if (value !== undefined) {\n        return value\n    }\n    return def\n};\n\nfunction getMatchedCSSRules (el) {\n        var ref;\n\n        return (ref = [])\n        .concat.apply(\n            ref, Array.from(el.ownerDocument.styleSheets).map(function (s) {\n                var rules = [];\n\n                try {\n                    rules = Array.from(s.cssRules || []);\n                } catch (e) {\n                    // Ignore results on security error\n                }\n\n                return rules\n            })\n        )\n        .filter(function (r) {\n            var matches = false;\n            try {\n                matches = el.matches(r.selectorText);\n            } catch (e) {\n                // Ignore matching erros\n            }\n\n            return matches\n        });\n}\n\nvar gridTemplatePropColumns = 'grid-template-columns';\nvar gridTemplatePropRows = 'grid-template-rows';\n\nvar Gutter = function Gutter(direction, options, parentOptions) {\n    this.direction = direction;\n    this.element = options.element;\n    this.track = options.track;\n\n    if (direction === 'column') {\n        this.gridTemplateProp = gridTemplatePropColumns;\n        this.gridGapProp = 'grid-column-gap';\n        this.cursor = getOption(\n            parentOptions,\n            'columnCursor',\n            getOption(parentOptions, 'cursor', 'col-resize')\n        );\n        this.snapOffset = getOption(\n            parentOptions,\n            'columnSnapOffset',\n            getOption(parentOptions, 'snapOffset', 30)\n        );\n        this.dragInterval = getOption(\n            parentOptions,\n            'columnDragInterval',\n            getOption(parentOptions, 'dragInterval', 1)\n        );\n        this.clientAxis = 'clientX';\n        this.optionStyle = getOption(parentOptions, 'gridTemplateColumns');\n    } else if (direction === 'row') {\n        this.gridTemplateProp = gridTemplatePropRows;\n        this.gridGapProp = 'grid-row-gap';\n        this.cursor = getOption(\n            parentOptions,\n            'rowCursor',\n            getOption(parentOptions, 'cursor', 'row-resize')\n        );\n        this.snapOffset = getOption(\n            parentOptions,\n            'rowSnapOffset',\n            getOption(parentOptions, 'snapOffset', 30)\n        );\n        this.dragInterval = getOption(\n            parentOptions,\n            'rowDragInterval',\n            getOption(parentOptions, 'dragInterval', 1)\n        );\n        this.clientAxis = 'clientY';\n        this.optionStyle = getOption(parentOptions, 'gridTemplateRows');\n    }\n\n    this.onDragStart = getOption(parentOptions, 'onDragStart', NOOP);\n    this.onDragEnd = getOption(parentOptions, 'onDragEnd', NOOP);\n    this.onDrag = getOption(parentOptions, 'onDrag', NOOP);\n    this.writeStyle = getOption(\n        parentOptions,\n        'writeStyle',\n        defaultWriteStyle\n    );\n\n    this.startDragging = this.startDragging.bind(this);\n    this.stopDragging = this.stopDragging.bind(this);\n    this.drag = this.drag.bind(this);\n\n    this.minSizeStart = options.minSizeStart;\n    this.minSizeEnd = options.minSizeEnd;\n\n    if (options.element) {\n        this.element.addEventListener('mousedown', this.startDragging);\n        this.element.addEventListener('touchstart', this.startDragging);\n    }\n};\n\nGutter.prototype.getDimensions = function getDimensions () {\n    var ref = this.grid.getBoundingClientRect();\n        var width = ref.width;\n        var height = ref.height;\n        var top = ref.top;\n        var bottom = ref.bottom;\n        var left = ref.left;\n        var right = ref.right;\n\n    if (this.direction === 'column') {\n        this.start = top;\n        this.end = bottom;\n        this.size = height;\n    } else if (this.direction === 'row') {\n        this.start = left;\n        this.end = right;\n        this.size = width;\n    }\n};\n\nGutter.prototype.getSizeAtTrack = function getSizeAtTrack$1 (track, end) {\n    return getSizeAtTrack(\n        track,\n        this.computedPixels,\n        this.computedGapPixels,\n        end\n    )\n};\n\nGutter.prototype.getSizeOfTrack = function getSizeOfTrack (track) {\n    return this.computedPixels[track].numeric\n};\n\nGutter.prototype.getRawTracks = function getRawTracks () {\n    var tracks = getStyles(\n        this.gridTemplateProp,\n        [this.grid],\n        getMatchedCSSRules(this.grid)\n    );\n    if (!tracks.length) {\n        if (this.optionStyle) { return this.optionStyle }\n\n        throw Error('Unable to determine grid template tracks from styles.')\n    }\n    return tracks[0]\n};\n\nGutter.prototype.getGap = function getGap () {\n    var gap = getStyles(\n        this.gridGapProp,\n        [this.grid],\n        getMatchedCSSRules(this.grid)\n    );\n    if (!gap.length) {\n        return null\n    }\n    return gap[0]\n};\n\nGutter.prototype.getRawComputedTracks = function getRawComputedTracks () {\n    return window.getComputedStyle(this.grid)[this.gridTemplateProp]\n};\n\nGutter.prototype.getRawComputedGap = function getRawComputedGap () {\n    return window.getComputedStyle(this.grid)[this.gridGapProp]\n};\n\nGutter.prototype.setTracks = function setTracks (raw) {\n    this.tracks = raw.split(' ');\n    this.trackValues = parse(raw);\n};\n\nGutter.prototype.setComputedTracks = function setComputedTracks (raw) {\n    this.computedTracks = raw.split(' ');\n    this.computedPixels = parse(raw);\n};\n\nGutter.prototype.setGap = function setGap (raw) {\n    this.gap = raw;\n};\n\nGutter.prototype.setComputedGap = function setComputedGap (raw) {\n    this.computedGap = raw;\n    this.computedGapPixels = getGapValue('px', this.computedGap) || 0;\n};\n\nGutter.prototype.getMousePosition = function getMousePosition (e) {\n    if ('touches' in e) { return e.touches[0][this.clientAxis] }\n    return e[this.clientAxis]\n};\n\nGutter.prototype.startDragging = function startDragging (e) {\n    if ('button' in e && e.button !== 0) {\n        return\n    }\n\n    // Don't actually drag the element. We emulate that in the drag function.\n    e.preventDefault();\n\n    if (this.element) {\n        this.grid = this.element.parentNode;\n    } else {\n        this.grid = e.target.parentNode;\n    }\n\n    this.getDimensions();\n    this.setTracks(this.getRawTracks());\n    this.setComputedTracks(this.getRawComputedTracks());\n    this.setGap(this.getGap());\n    this.setComputedGap(this.getRawComputedGap());\n\n    var trackPercentage = this.trackValues.filter(\n        function (track) { return track.type === '%'; }\n    );\n    var trackFr = this.trackValues.filter(function (track) { return track.type === 'fr'; });\n\n    this.totalFrs = trackFr.length;\n\n    if (this.totalFrs) {\n        var track = firstNonZero(trackFr);\n\n        if (track !== null) {\n            this.frToPixels =\n                this.computedPixels[track].numeric / trackFr[track].numeric;\n        }\n    }\n\n    if (trackPercentage.length) {\n        var track$1 = firstNonZero(trackPercentage);\n\n        if (track$1 !== null) {\n            this.percentageToPixels =\n                this.computedPixels[track$1].numeric /\n                trackPercentage[track$1].numeric;\n        }\n    }\n\n    // get start of gutter track\n    var gutterStart = this.getSizeAtTrack(this.track, false) + this.start;\n    this.dragStartOffset = this.getMousePosition(e) - gutterStart;\n\n    this.aTrack = this.track - 1;\n\n    if (this.track < this.tracks.length - 1) {\n        this.bTrack = this.track + 1;\n    } else {\n        throw Error(\n            (\"Invalid track index: \" + (this.track) + \". Track must be between two other tracks and only \" + (this.tracks.length) + \" tracks were found.\")\n        )\n    }\n\n    this.aTrackStart = this.getSizeAtTrack(this.aTrack, false) + this.start;\n    this.bTrackEnd = this.getSizeAtTrack(this.bTrack, true) + this.start;\n\n    // Set the dragging property of the pair object.\n    this.dragging = true;\n\n    // All the binding. `window` gets the stop events in case we drag out of the elements.\n    window.addEventListener('mouseup', this.stopDragging);\n    window.addEventListener('touchend', this.stopDragging);\n    window.addEventListener('touchcancel', this.stopDragging);\n    window.addEventListener('mousemove', this.drag);\n    window.addEventListener('touchmove', this.drag);\n\n    // Disable selection. Disable!\n    this.grid.addEventListener('selectstart', NOOP);\n    this.grid.addEventListener('dragstart', NOOP);\n\n    this.grid.style.userSelect = 'none';\n    this.grid.style.webkitUserSelect = 'none';\n    this.grid.style.MozUserSelect = 'none';\n    this.grid.style.pointerEvents = 'none';\n\n    // Set the cursor at multiple levels\n    this.grid.style.cursor = this.cursor;\n    window.document.body.style.cursor = this.cursor;\n\n    this.onDragStart(this.direction, this.track);\n};\n\nGutter.prototype.stopDragging = function stopDragging () {\n    this.dragging = false;\n\n    // Remove the stored event listeners. This is why we store them.\n    this.cleanup();\n\n    this.onDragEnd(this.direction, this.track);\n\n    if (this.needsDestroy) {\n        if (this.element) {\n            this.element.removeEventListener(\n                'mousedown',\n                this.startDragging\n            );\n            this.element.removeEventListener(\n                'touchstart',\n                this.startDragging\n            );\n        }\n        this.destroyCb();\n        this.needsDestroy = false;\n        this.destroyCb = null;\n    }\n};\n\nGutter.prototype.drag = function drag (e) {\n    var mousePosition = this.getMousePosition(e);\n\n    var gutterSize = this.getSizeOfTrack(this.track);\n    var minMousePosition =\n        this.aTrackStart +\n        this.minSizeStart +\n        this.dragStartOffset +\n        this.computedGapPixels;\n    var maxMousePosition =\n        this.bTrackEnd -\n        this.minSizeEnd -\n        this.computedGapPixels -\n        (gutterSize - this.dragStartOffset);\n    var minMousePositionOffset = minMousePosition + this.snapOffset;\n    var maxMousePositionOffset = maxMousePosition - this.snapOffset;\n\n    if (mousePosition < minMousePositionOffset) {\n        mousePosition = minMousePosition;\n    }\n\n    if (mousePosition > maxMousePositionOffset) {\n        mousePosition = maxMousePosition;\n    }\n\n    if (mousePosition < minMousePosition) {\n        mousePosition = minMousePosition;\n    } else if (mousePosition > maxMousePosition) {\n        mousePosition = maxMousePosition;\n    }\n\n    var aTrackSize =\n        mousePosition -\n        this.aTrackStart -\n        this.dragStartOffset -\n        this.computedGapPixels;\n    var bTrackSize =\n        this.bTrackEnd -\n        mousePosition +\n        this.dragStartOffset -\n        gutterSize -\n        this.computedGapPixels;\n\n    if (this.dragInterval > 1) {\n        var aTrackSizeIntervaled =\n            Math.round(aTrackSize / this.dragInterval) * this.dragInterval;\n        bTrackSize -= aTrackSizeIntervaled - aTrackSize;\n        aTrackSize = aTrackSizeIntervaled;\n    }\n\n    if (aTrackSize < this.minSizeStart) {\n        aTrackSize = this.minSizeStart;\n    }\n\n    if (bTrackSize < this.minSizeEnd) {\n        bTrackSize = this.minSizeEnd;\n    }\n\n    if (this.trackValues[this.aTrack].type === 'px') {\n        this.tracks[this.aTrack] = aTrackSize + \"px\";\n    } else if (this.trackValues[this.aTrack].type === 'fr') {\n        if (this.totalFrs === 1) {\n            this.tracks[this.aTrack] = '1fr';\n        } else {\n            var targetFr = aTrackSize / this.frToPixels;\n            this.tracks[this.aTrack] = targetFr + \"fr\";\n        }\n    } else if (this.trackValues[this.aTrack].type === '%') {\n        var targetPercentage = aTrackSize / this.percentageToPixels;\n        this.tracks[this.aTrack] = targetPercentage + \"%\";\n    }\n\n    if (this.trackValues[this.bTrack].type === 'px') {\n        this.tracks[this.bTrack] = bTrackSize + \"px\";\n    } else if (this.trackValues[this.bTrack].type === 'fr') {\n        if (this.totalFrs === 1) {\n            this.tracks[this.bTrack] = '1fr';\n        } else {\n            var targetFr$1 = bTrackSize / this.frToPixels;\n            this.tracks[this.bTrack] = targetFr$1 + \"fr\";\n        }\n    } else if (this.trackValues[this.bTrack].type === '%') {\n        var targetPercentage$1 = bTrackSize / this.percentageToPixels;\n        this.tracks[this.bTrack] = targetPercentage$1 + \"%\";\n    }\n\n    var style = this.tracks.join(' ');\n    this.writeStyle(this.grid, this.gridTemplateProp, style);\n    this.onDrag(this.direction, this.track, style);\n};\n\nGutter.prototype.cleanup = function cleanup () {\n    window.removeEventListener('mouseup', this.stopDragging);\n    window.removeEventListener('touchend', this.stopDragging);\n    window.removeEventListener('touchcancel', this.stopDragging);\n    window.removeEventListener('mousemove', this.drag);\n    window.removeEventListener('touchmove', this.drag);\n\n    if (this.grid) {\n        this.grid.removeEventListener('selectstart', NOOP);\n        this.grid.removeEventListener('dragstart', NOOP);\n\n        this.grid.style.userSelect = '';\n        this.grid.style.webkitUserSelect = '';\n        this.grid.style.MozUserSelect = '';\n        this.grid.style.pointerEvents = '';\n\n        this.grid.style.cursor = '';\n    }\n\n    window.document.body.style.cursor = '';\n};\n\nGutter.prototype.destroy = function destroy (immediate, cb) {\n        if ( immediate === void 0 ) immediate = true;\n\n    if (immediate || this.dragging === false) {\n        this.cleanup();\n        if (this.element) {\n            this.element.removeEventListener(\n                'mousedown',\n                this.startDragging\n            );\n            this.element.removeEventListener(\n                'touchstart',\n                this.startDragging\n            );\n        }\n\n        if (cb) {\n            cb();\n        }\n    } else {\n        this.needsDestroy = true;\n        if (cb) {\n            this.destroyCb = cb;\n        }\n    }\n};\n\nvar getTrackOption = function (options, track, defaultValue) {\n    if (track in options) {\n        return options[track]\n    }\n\n    return defaultValue\n};\n\nvar createGutter = function (direction, options) { return function (gutterOptions) {\n    if (gutterOptions.track < 1) {\n        throw Error(\n            (\"Invalid track index: \" + (gutterOptions.track) + \". Track must be between two other tracks.\")\n        )\n    }\n\n    var trackMinSizes =\n        direction === 'column'\n            ? options.columnMinSizes || {}\n            : options.rowMinSizes || {};\n    var trackMinSize = direction === 'column' ? 'columnMinSize' : 'rowMinSize';\n\n    return new Gutter(\n        direction,\n        Object.assign({}, {minSizeStart: getTrackOption(\n                trackMinSizes,\n                gutterOptions.track - 1,\n                getOption(\n                    options,\n                    trackMinSize,\n                    getOption(options, 'minSize', 0)\n                )\n            ),\n            minSizeEnd: getTrackOption(\n                trackMinSizes,\n                gutterOptions.track + 1,\n                getOption(\n                    options,\n                    trackMinSize,\n                    getOption(options, 'minSize', 0)\n                )\n            )},\n            gutterOptions),\n        options\n    )\n}; };\n\nvar Grid = function Grid(options) {\n    var this$1 = this;\n\n    this.columnGutters = {};\n    this.rowGutters = {};\n\n    this.options = Object.assign({}, {columnGutters: options.columnGutters || [],\n        rowGutters: options.rowGutters || [],\n        columnMinSizes: options.columnMinSizes || {},\n        rowMinSizes: options.rowMinSizes || {}},\n        options);\n\n    this.options.columnGutters.forEach(function (gutterOptions) {\n        this$1.columnGutters[gutterOptions.track] = createGutter(\n            'column',\n            this$1.options\n        )(gutterOptions);\n    });\n\n    this.options.rowGutters.forEach(function (gutterOptions) {\n        this$1.rowGutters[gutterOptions.track] = createGutter(\n            'row',\n            this$1.options\n        )(gutterOptions);\n    });\n};\n\nGrid.prototype.addColumnGutter = function addColumnGutter (element, track) {\n    if (this.columnGutters[track]) {\n        this.columnGutters[track].destroy();\n    }\n\n    this.columnGutters[track] = createGutter(\n        'column',\n        this.options\n    )({\n        element: element,\n        track: track,\n    });\n};\n\nGrid.prototype.addRowGutter = function addRowGutter (element, track) {\n    if (this.rowGutters[track]) {\n        this.rowGutters[track].destroy();\n    }\n\n    this.rowGutters[track] = createGutter(\n        'row',\n        this.options\n    )({\n        element: element,\n        track: track,\n    });\n};\n\nGrid.prototype.removeColumnGutter = function removeColumnGutter (track, immediate) {\n        var this$1 = this;\n        if ( immediate === void 0 ) immediate = true;\n\n    if (this.columnGutters[track]) {\n        this.columnGutters[track].destroy(immediate, function () {\n            delete this$1.columnGutters[track];\n        });\n    }\n};\n\nGrid.prototype.removeRowGutter = function removeRowGutter (track, immediate) {\n        var this$1 = this;\n        if ( immediate === void 0 ) immediate = true;\n\n    if (this.rowGutters[track]) {\n        this.rowGutters[track].destroy(immediate, function () {\n            delete this$1.rowGutters[track];\n        });\n    }\n};\n\nGrid.prototype.handleDragStart = function handleDragStart (e, direction, track) {\n    if (direction === 'column') {\n        if (this.columnGutters[track]) {\n            this.columnGutters[track].destroy();\n        }\n\n        this.columnGutters[track] = createGutter(\n            'column',\n            this.options\n        )({\n            track: track,\n        });\n        this.columnGutters[track].startDragging(e);\n    } else if (direction === 'row') {\n        if (this.rowGutters[track]) {\n            this.rowGutters[track].destroy();\n        }\n\n        this.rowGutters[track] = createGutter(\n            'row',\n            this.options\n        )({\n            track: track,\n        });\n        this.rowGutters[track].startDragging(e);\n    }\n};\n\nGrid.prototype.destroy = function destroy (immediate) {\n        var this$1 = this;\n        if ( immediate === void 0 ) immediate = true;\n\n    Object.keys(this.columnGutters).forEach(function (track) { return this$1.columnGutters[track].destroy(immediate, function () {\n            delete this$1.columnGutters[track];\n        }); }\n    );\n    Object.keys(this.rowGutters).forEach(function (track) { return this$1.rowGutters[track].destroy(immediate, function () {\n            delete this$1.rowGutters[track];\n        }); }\n    );\n};\n\nfunction index (options) { return new Grid(options); }\n\nconst ezSplitPanelCss = \".ez-split-gutter{cursor:grab;background-color:transparent;max-width:100%}.ez-split-gutter__row{cursor:ns-resize}.ez-split-gutter__column{cursor:ew-resize}.structural__panel{background:none;box-shadow:none;outline:none;padding:0;margin:0;border:0}\";\n\nconst SplitPanel = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.resizeEnd = createEvent(this, \"resizeEnd\", 7);\n    this._items = [];\n    this._buildInProgress = false;\n    this.direction = 'column';\n    this.anchorToExpand = false;\n    this.structural = false;\n  }\n  rebuildLayout() {\n    Array.from(this._element.querySelectorAll(\".ez-split-gutter\")).reverse().forEach(el => {\n      el.remove();\n    });\n    Array.from(this._element.getElementsByTagName(\"EzSplitPanel\")).reverse().forEach(el => {\n      el['rebuildLayout']();\n    });\n    this.buildItems();\n    this.initSplit();\n  }\n  buildItems() {\n    this._panelID = StringUtils.generateUUID();\n    this._element.dataset.panelId = this._panelID;\n    this._element.dataset.uniqueId = \"EzSplitPanel\";\n    let itemsElements = Array.from(this._element.children);\n    this._items = itemsElements.filter(child => { var _a; return ((_a = child.tagName) === null || _a === void 0 ? void 0 : _a.toUpperCase()) === 'EZ-SPLIT-ITEM'; });\n    let trackCount = 1;\n    this._items.forEach((item, index) => {\n      item.dataset.trackNumber = trackCount.toString();\n      if (this._items.length > 1 && index != this._items.length - 1) {\n        this.addItemGutter(item);\n      }\n      trackCount += 2;\n    });\n  }\n  componentDidLoad() {\n    this.buildItems();\n    this.initSplit();\n    this._mutationObserver = new MutationObserver((mutationsList) => {\n      for (const mutation of mutationsList) {\n        if (mutation.type === 'childList' && !this._buildInProgress) {\n          this._buildInProgress = true;\n          window.requestAnimationFrame(() => {\n            this.rebuildLayout();\n          });\n          window.requestAnimationFrame(() => this._buildInProgress = false);\n          break;\n        }\n      }\n    });\n    // Configure o observer para observar mudanças nos filhos\n    this._mutationObserver.observe(this._element, { childList: true, subtree: false });\n  }\n  disconnectedCallback() {\n    //disconect o _mutationObserver\n    if (this._mutationObserver != undefined) {\n      this._mutationObserver.disconnect();\n    }\n  }\n  initSplit() {\n    if (!this._items.length) {\n      return;\n    }\n    this._element.style[this.direction === 'row' ? 'grid-template-rows' : 'grid-template-columns'] = this.getGridTemplate();\n    this.removeGuttersMargin();\n    index(this.getGutters());\n  }\n  handlePanelDragEnd() {\n    const items = this._items.map(item => ({\n      id: item.id,\n      height: item.clientHeight,\n      width: item.clientWidth,\n    }));\n    this.resizeEnd.emit({ panelId: this._element.id, items });\n  }\n  getGutters() {\n    const gutters = {\n      columnGutters: [],\n      rowGutters: [],\n      onDragEnd: () => this.handlePanelDragEnd()\n    };\n    if (!this._items.length) {\n      return gutters;\n    }\n    const proToChange = this.direction === 'row' ? 'rowGutters' : 'columnGutters';\n    this._items.forEach((item, index) => {\n      if (index === this._items.length - 1)\n        return;\n      let gutterTrack = item.dataset.trackNumber;\n      if (index === this._items.length - 1) {\n        gutterTrack = this._items.length.toString();\n      }\n      gutters[proToChange].push({\n        track: Number(gutterTrack),\n        element: this._element.querySelector(`ez-split-panel[data-panel-id=\"${this._panelID}\"] > [data-item-track=\"${item.dataset.trackNumber}\"]`),\n      });\n    });\n    return gutters;\n  }\n  addItemGutter(item) {\n    const gutter = document.createElement('div');\n    gutter.classList.add('ez-split-gutter');\n    gutter.classList.add(this.direction);\n    if (this.direction === 'row') {\n      gutter.classList.add('ez-split-gutter__row');\n    }\n    else {\n      gutter.classList.add('ez-split-gutter__column');\n    }\n    gutter.dataset.itemTrack = `${item.dataset.trackNumber}`;\n    gutter.dataset.trackNumber = (Number(item.dataset.trackNumber) + 1).toString();\n    item.parentNode.insertBefore(gutter, item.nextSibling);\n  }\n  getElementStyle() {\n    const style = {\n      display: 'grid',\n      height: '100%',\n      width: '100%',\n      position: this.anchorToExpand ? 'relative' : 'unset',\n    };\n    return style;\n  }\n  calcFreeSpacePercentage() {\n    const inUseSpacePercentage = this._items.reduce((accumulator, currentValue) => {\n      var _a;\n      return accumulator + (((_a = currentValue.size) === null || _a === void 0 ? void 0 : _a.includes('%')) ? Number(currentValue.size.replace(\"%\", \"\")) : 0);\n    }, 0);\n    const itemsWithoutSizeAmount = this._items.filter((item) => item.size === undefined).length;\n    if (!itemsWithoutSizeAmount || !inUseSpacePercentage) {\n      return null;\n    }\n    const freeSpacePercentage = ((100 - inUseSpacePercentage) / itemsWithoutSizeAmount);\n    return freeSpacePercentage;\n  }\n  getGridTemplate() {\n    let template = '';\n    const freeSpacePercentage = this.calcFreeSpacePercentage();\n    this._items.forEach((col, index) => {\n      let size = col.size || '1fr';\n      if (!col.size && freeSpacePercentage) {\n        size = `${freeSpacePercentage}%`;\n      }\n      if (index === this._items.length - 1) {\n        template += ` ${size}`;\n        return;\n      }\n      if (index === 0) {\n        template += `${size} 5px`;\n        return;\n      }\n      template += ` ${size} 5px`;\n    });\n    return template;\n  }\n  removeGuttersMargin() {\n    if (this._items.length <= 1)\n      return;\n    if (this.direction == \"column\") {\n      this.removeGuttersMarginColumn();\n      return;\n    }\n    if (this.direction == \"row\") {\n      this.removeGuttersMarginRow();\n      return;\n    }\n  }\n  removeGuttersMarginColumn() {\n    this._items.forEach((item, index) => {\n      if (index == 0) {\n        item.style.marginRight = \"0\";\n        return;\n      }\n      if (index === this._items.length - 1) {\n        item.style.marginLeft = \"0\";\n        return;\n      }\n      item.style.marginRight = \"0\";\n      item.style.marginLeft = \"0\";\n      return;\n    });\n  }\n  removeGuttersMarginRow() {\n    if (this._items.length <= 1)\n      return;\n    this._items.forEach((item, index) => {\n      if (index == 0) {\n        item.style.marginBottom = \"0\";\n        return;\n      }\n      if (index === this._items.length - 1) {\n        item.style.marginTop = \"0\";\n        return;\n      }\n      item.style.marginBottom = \"0\";\n      item.style.marginTop = \"0\";\n      return;\n    });\n  }\n  render() {\n    return h(Host, { class: `${this.structural ? 'structural__panel' : 'content__panel'}`, style: this.getElementStyle() });\n  }\n  get _element() { return getElement(this); }\n};\nSplitPanel.style = ezSplitPanelCss;\n\nexport { SplitPanel as ez_split_panel };\n"],"names":["numeric","value","unit","parseValue","parse","rule","getSizeAtTrack","index","tracks","gap","end","newIndex","trackSum","accum","gapSum","getStyles","ownRules","matchedRules","r","style","getGapValue","size","firstNonZero","i","NOOP","defaultWriteStyle","element","gridTemplateProp","getOption","options","propName","def","getMatchedCSSRules","el","ref","s","rules","matches","gridTemplatePropColumns","gridTemplatePropRows","Gutter","direction","parentOptions","width","height","top","bottom","left","right","track","raw","e","trackPercentage","trackFr","track$1","gutterStart","mousePosition","gutterSize","minMousePosition","maxMousePosition","minMousePositionOffset","maxMousePositionOffset","aTrackSize","bTrackSize","aTrackSizeIntervaled","targetFr","targetPercentage","targetFr$1","targetPercentage$1","immediate","cb","getTrackOption","defaultValue","createGutter","gutterOptions","trackMinSizes","trackMinSize","Grid","this$1","ezSplitPanelCss","SplitPanel","hostRef","registerInstance","createEvent","StringUtils","itemsElements","child","_a","trackCount","item","mutationsList","mutation","items","gutters","proToChange","gutterTrack","gutter","inUseSpacePercentage","accumulator","currentValue","itemsWithoutSizeAmount","template","freeSpacePercentage","col","h","Host","getElement"],"mappings":"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","x_google_ignoreList":[0]}
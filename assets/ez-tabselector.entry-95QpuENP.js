import{b as h,d as b,e as o,k as f,i as u}from"./index-CHxCopeG.js";import{E as l,S as d}from"./dataUnitInMemoryLoader-CwDmnNwL.js";const p=`@keyframes activate{0%{clip-path:inset(calc(100% - 3px) 50% 0px 50%)}100%{clip-path:inset(calc(100% - 3px) 0px 0px 0px)}}:host{display:flex;position:relative;width:100%;overflow:hidden;--tabselector--backward-icon:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="16px" width="10px"><path d="M 9.7808475,13.860393 3.9204526,8.0000004 9.7808475,2.0624965 7.9301965,0.28895552 0.21915255,8.0000004 7.9301965,15.711044 Z"/></svg>');--tabselector--forward-icon:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="16px" width="10px"><path d="M 0.21915251,13.860393 6.0795475,8.0000007 0.21915251,2.0624968 2.0698036,0.28895588 9.7808475,8.0000007 2.0698036,15.711044 Z"/></svg>')}.scroll{display:flex;width:100%;scroll-behavior:smooth;overflow-x:auto;scrollbar-width:none}.scroll.startHidden{-webkit-mask-image:linear-gradient(90deg, transparent 20px, #000 48px)}.scroll.middle{-webkit-mask-image:linear-gradient(90deg, transparent 20px, #000 48px, #000 calc(100% - 48px), transparent calc(100% - 20px))}.scroll.endHidden{-webkit-mask-image:linear-gradient(90deg, #000 calc(100% - 48px), transparent calc(100% - 20px))}.tab{display:flex;border:none;background-color:unset;min-width:100px;max-width:260px;cursor:pointer;padding:6px 12px;align-items:center;justify-content:center;color:var(--text--primary, #626e82);font-family:var(--font-pattern, "Roboto");font-size:var(--title--small, 14px);flex-shrink:0}.tab:focus,.forward-button,.backward-button{outline:none}.is-active{position:relative;color:var(--color--primary, #008561)}.is-active::after{content:"";position:absolute;width:100%;height:100%;background-color:var(--color--primary, #008561);clip-path:inset(calc(100% - 3px) 0px 0px 0px);animation:activate 0.25s ease-in-out}.is-focused{border:1px dashed var(--color--primary, #000000c5)}.tab-label{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;text-shadow:var(--text-shadow);margin-bottom:var(--space--extra-small, 3px)}.forward-button,.backward-button{position:absolute;z-index:1;display:flex;box-sizing:border-box;padding:0px;top:0px;right:0px;width:16px;height:100%;border:none;background-color:unset;cursor:pointer;justify-content:center;align-items:center}.backward-button{left:0px}.forward-button::after,.backward-button::after{content:'';display:flex;background-color:var(--text--primary, #008561);width:10px;height:16px}.forward-button::after{-webkit-mask-image:var(--tabselector--forward-icon);mask-image:var(--tabselector--forward-icon)}.backward-button::after{-webkit-mask-image:var(--tabselector--backward-icon);mask-image:var(--tabselector--backward-icon)}.forward-button:hover::after,.backward-button:hover::after{background-color:var(--color--primary, #4e4e4e)}.hidden{display:none}.scroll::-webkit-scrollbar{display:none}.left-icon{padding-right:var(--space--small)}.right-icon{padding-left:var(--space--small)}`,x=class{constructor(e){h(this,e),this.ezChange=b(this,"ezChange"),this.setFocusedParam=t=>{if(t.key==="Enter"){const s=this._processedTabs[this._focusedIndex];this.handleTabClick(s),t.preventDefault(),this.setFocusedTab(s.index)}else if(t.key==="ArrowLeft"||t.key==="ArrowRight"){let s;if(t.key==="ArrowLeft")s=!1;else if(t.key==="ArrowRight")s=!0;else return;this._focusedIndex===void 0?s===!1?this._focusedIndex=this.selectedIndex!==void 0?this.selectedIndex-1:void 0:this._focusedIndex=this.selectedIndex!==void 0?this.selectedIndex+1:void 0:s===!1?this._focusedIndex=this._focusedIndex-1:this._focusedIndex=this._focusedIndex+1,this._focusedIndex<0?this._focusedIndex=0:this._focusedIndex>this._processedTabs.length-1&&(this._focusedIndex=this._processedTabs.length-1),this.setFocusedBtn(!0,this._focusedIndex),this.setFocusedTab(this._focusedIndex)}else if(t.key==="Tab"||t.key==="Escape"){const s=this._processedTabs[this.selectedIndex];this._focusedIndex=void 0,this.handleTabClick(s),t.preventDefault(),this.setFocusedTab(this.selectedIndex)}},this._processedTabs=void 0,this.selectedIndex=void 0,this.selectedTab=void 0,this.tabs=void 0}observeTabs(e,t){if(e&&typeof e!="string"){this._processedTabs=e;return}e!==t&&this.processesTabs()}async goToTab(e,t=!1){const s=this._processedTabs.find(i=>i.index===e);this.handleTabClick(s,!t)}handleTabClick(e,t=!0){this.selectedIndex=e.index,this._focusedIndex=void 0,this.selectedTab=e.tabKey,t&&this.ezChange.emit(e),this.setFocusedBtn(!1,e.index)}componentWillLoad(){this.processesTabs()}processesTabs(){this.tabs&&(Array.isArray(this.tabs)?this._processedTabs=[...this.tabs]:(this._processedTabs=[],this.tabs.split(",").forEach(e=>{e=e.trim(),this._processedTabs.push({label:e,tabKey:e,index:this._processedTabs.length}),this.buildElementIdTab(this._processedTabs)}))),this._hostElem.querySelectorAll("ez-tab").forEach(e=>{const t=e.getAttribute("tabKey"),s=e.getAttribute("label"),i=e.getAttribute("leftIcon"),n=e.getAttribute("rightIcon"),r={label:s,tabKey:t,leftIcon:i,rightIcon:n,index:this._processedTabs.length},a=e.firstChild;a&&(a.setAttribute("slot","tab"+r.index),this._hostElem.appendChild(a)),this._processedTabs.push(r),this.buildElementIdTab(this._processedTabs)})}componentDidRender(){this.updateScroll()}componentDidLoad(){l.addIDInfo(this._hostElem,"itemsSelector"),this._hostElem.shadowRoot.querySelectorAll('button[name="tab-button"]').forEach(e=>{var t;const s=(t=e.querySelector("span.tab-label"))===null||t===void 0?void 0:t.innerText,i={id:`${d.toCamelCase(s)}`};l.addIDInfo(e,"itemSelector",i)})}handleSlotChange(e){const s=e.target.assignedElements()[0];s&&(s.style.marginLeft="6px")}scrollBackward(){const e=this._scrollContainer;e&&(e.scrollLeft-=e.clientWidth)}scrollFoward(){const e=this._scrollContainer;if(e){let t=null;e.querySelectorAll(".tab").forEach(s=>{s.getBoundingClientRect().right<e.clientWidth&&(t=s)}),e.scrollLeft=t.offsetLeft+t.offsetWidth}}updateScroll(){const e=this._scrollContainer;if(e){const{scrollWidth:t,clientWidth:s,scrollLeft:i}=e,n=t-s-Math.ceil(i);this._startHidden=e.scrollLeft>0,this._endHidden=n>0,this._startHidden?this._backwardButton.classList.remove("hidden"):this._backwardButton.classList.add("hidden"),this._endHidden?this._forwardButton.classList.remove("hidden"):this._forwardButton.classList.add("hidden");const r=["","startHidden","endHidden","middle"],a=r[Number(this._startHidden)|Number(this._endHidden)<<1];r.forEach(c=>{c!==a&&e.classList.contains(c)&&e.classList.remove(c)}),a&&!e.classList.contains(a)&&e.classList.add(a)}}domScrollHandler(){window.clearTimeout(this._scrollCallBack),this._scrollCallBack=window.setTimeout(()=>{this.updateScroll()},200)}setFocusedTab(e){window.clearTimeout(this._scrollCallBackTest),this._scrollCallBackTest=window.setTimeout(()=>{this._scrollContainer.querySelector(`#tab${e}`).scrollIntoView()},200)}setFocusedBtn(e,t){this._scrollContainer.querySelectorAll(".tab").forEach(i=>{i.classList.remove("is-focused"),i.id==="tab"+t&&e&&i.classList.add("is-focused")})}buildElementIdTab(e){e.forEach(t=>{if(!t.hasOwnProperty(l.DATA_ELEMENT_ID_ATTRIBUTE_NAME)){const i=`${this._hostElem.getAttribute(l.DATA_ELEMENT_ID_ATTRIBUTE_NAME)}_${d.toCamelCase(t.tabKey)}`;t[l.DATA_ELEMENT_ID_ATTRIBUTE_NAME]=i}})}render(){return o(f,null,o("button",{class:"backward-button",ref:e=>this._backwardButton=e,onClick:()=>this.scrollBackward()}),o("div",{class:"scroll",ref:e=>this._scrollContainer=e,onScroll:()=>this.domScrollHandler(),onKeyDown:e=>this.setFocusedParam(e)},this._processedTabs.map((e,t)=>{const s="tab"+t,i=t===this.selectedIndex||this.selectedTab&&e.tabKey===this.selectedTab;return i&&(this.selectedTab=e.tabKey,this.selectedIndex=t),o("button",{id:s,name:"tab-button",class:`tab${i?" is-active":""}`,onClick:()=>this.handleTabClick(e)},e.leftIcon&&o("ez-icon",{iconName:e.leftIcon,class:"left-icon"}),o("span",{class:"tab-label",title:e.label},e.label),e.rightIcon&&o("ez-icon",{iconName:e.rightIcon,class:"right-icon"}),o("slot",{name:s,onSlotchange:n=>{this.handleSlotChange(n)}}))})),o("button",{class:"forward-button",ref:e=>this._forwardButton=e,onClick:()=>this.scrollFoward()}))}get _hostElem(){return u(this)}static get watchers(){return{tabs:["observeTabs"]}}};x.style=p;export{x as ez_tabselector};
//# sourceMappingURL=ez-tabselector.entry-95QpuENP.js.map

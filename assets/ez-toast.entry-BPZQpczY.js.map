{"version":3,"file":"ez-toast.entry-BPZQpczY.js","sources":["../../node_modules/@sankhyalabs/ezui/dist/esm/ez-toast.entry.js"],"sourcesContent":["import { r as registerInstance, f as forceUpdate, h, H as Host, g as getElement } from './index-baa5e267.js';\nimport { ElementIDUtils } from '@sankhyalabs/core';\n\nconst ezToastCss = \":host{--ez-toast__btn__close__image:url('data:image/svg+xml;utf8,<svg width=\\\"12\\\" height=\\\"12\\\" viewBox=\\\"0 0 12 12\\\" xmlns=\\\"http://www.w3.org/2000/svg%22%3E<path d=\\\"M 7.0060773,5.995511 11.461972,1.5397722 c 0.132856,-0.1328413 0.207547,-0.3130253 0.207547,-0.5009046 0,-0.18786999 -0.07469,-0.3680541 -0.207547,-0.5009048 -0.132857,-0.13284126 -0.31302,-0.20748126 -0.500927,-0.20748126 -0.187812,0 -0.36807,0.07464 -0.500926,0.20748126 L 6.0042244,4.9937015 1.5482921,0.5379628 C 1.4154357,0.40512154 1.2352533,0.33048154 1.0473657,0.33048154 c -0.18787813,0 -0.36807,0.07464 -0.50092647,0.20748126 -0.13285646,0.1328507 -0.20749026,0.31303481 -0.20749026,0.5009048 0,0.1878793 0.0746338,0.3680633 0.20749026,0.5009046 L 5.0023715,5.995511 0.54643923,10.452213 c -0.0676086,0.06534 -0.12151598,0.14352 -0.15859681,0.229916 -0.0370714,0.08639 -0.0565645,0.1794 -0.0573369,0.27335 -7.724e-4,0.09404 0.0171873,0.187331 0.0528423,0.274293 0.0356455,0.08705 0.0882688,0.166087 0.15479148,0.23256 0.0665321,0.06648 0.14562277,0.11897 0.2326735,0.154567 0.0870507,0.0356 0.18031463,0.05344 0.2743433,0.05259 0.094029,-8.5e-4 0.1869528,-0.02049 0.2733331,-0.0576 0.08639,-0.0372 0.1645078,-0.09121 0.2298029,-0.158817 L 6.0042244,6.9973204 10.460119,11.453078 c 0.132856,0.132851 0.313114,0.207444 0.500926,0.207444 0.187907,0 0.36807,-0.07459 0.500927,-0.207444 0.132856,-0.13285 0.207547,-0.313006 0.207547,-0.500904 0,-0.187898 -0.07469,-0.368054 -0.207547,-0.500905 z\\\"/></svg>');--ez-toast__container--z-index:var(--elevation--100, 100);--ez-toast__container--background-color:var(--color--secondary, #383c45);--ez-toast__container--left:var(--space--large, 24px);--ez-toast__container--bottom:var(--space--large, 24px);--ez-toast__container--width:400px;--ez-toast__icon--padding-left:var(--space--small, 6px)}.toast__container{position:fixed;display:flex;box-sizing:border-box;border-radius:6px;align-items:center;padding:12px;visibility:hidden;width:var(--ez-toast__container--width);left:var(--ez-toast__container--left);bottom:var(--ez-toast__container--bottom);z-index:var(--ez-toast__container--z-index);background-color:var(--ez-toast__container--background-color)}.message__container{text-shadow:0 0 0 #353535, 0 0 1px transparent;color:#FFFFFF;font-size:14px;width:90%;overflow:hidden;hyphens:auto;height:auto;-webkit-box-orient:vertical;-webkit-line-clamp:4;display:-webkit-box;text-overflow:ellipsis;font-family:var(--font-pattern, \\\"Roboto\\\")}.message__container--icon{width:80%;padding-left:var(--ez-toast__icon--padding-left)}.btn-close{margin-top:3px;display:flex;justify-content:flex-end;align-self:flex-start;padding:0;outline:none;width:10%;border:none;background-color:unset;cursor:pointer}.btn-close::after{content:'';display:flex;background-color:#FFFFFF;width:12px;height:12px;-webkit-mask-image:var(--ez-toast__btn__close__image);mask-image:var(--ez-toast__btn__close__image)}.toast__container--opened{animation:fadein 0.5s, fadeout 0.5s 3s;visibility:visible}@-webkit-keyframes fadein{from{opacity:0;left:calc(var(--ez-toast__container--left) * -1)}to{opacity:1;left:var(--ez-toast__container--left)}}@keyframes fadein{from{opacity:0;left:calc(var(--ez-toast__container--left) * -1)}to{opacity:1;left:var(--ez-toast__container--left)}}@-webkit-keyframes fadeout{from{opacity:1;left:var(--ez-toast__container--left)}to{bottom:0;opacity:0}}@keyframes fadeout{from{opacity:1;left:var(--ez-toast__container--left)}to{bottom:0;opacity:0}}\";\n\nconst EzToast = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this._nextMessages = [];\n    this._currentMessageInfo = { message: \"\", fadeTime: undefined, useIcon: undefined };\n    this._toastOpenedClass = \"toast__container--opened\";\n    this._lastTimeOut = undefined;\n    this._lang = \"pt\"; // Controla qual idioma será usado para definir a regras de hifenização.\n    this.message = undefined;\n    this.fadeTime = 5000;\n    this.useIcon = false;\n    this.canClose = true;\n  }\n  /**\n   * Exibe o ez-toast.\n   */\n  async show(message, fadeTime, useIcon, canClose) {\n    const isClosable = (canClose !== undefined) ? canClose : this.canClose;\n    return new Promise(resolve => {\n      var _a;\n      if ((_a = this.container) === null || _a === void 0 ? void 0 : _a.classList.contains(this._toastOpenedClass)) {\n        if (this.isRepeatedMessage(message)) {\n          return;\n        }\n        this._nextMessages.push({ message, fadeTime, useIcon, canClose: isClosable, callBack: resolve });\n      }\n      else {\n        this._currentMessageInfo.message = message || this.message;\n        this._currentMessageInfo.fadeTime = fadeTime || this.fadeTime;\n        this._currentMessageInfo.useIcon = useIcon || this.useIcon;\n        this._currentMessageInfo.callBack = resolve;\n        if (isClosable) {\n          this._currentMessageInfo.canClose = isClosable;\n        }\n        forceUpdate(this);\n        this.displayToast();\n        this._lastTimeOut = setTimeout(() => {\n          this.hideToast();\n        }, this._currentMessageInfo.fadeTime + 400);\n      }\n    });\n  }\n  hideToast() {\n    this.makeToastInvisible();\n    if (this._nextMessages.length > 0) {\n      if (this._currentMessageInfo.callBack) {\n        this._currentMessageInfo.callBack(true);\n      }\n      setTimeout(() => {\n        let newMessageInfo = this._nextMessages.shift();\n        this.show(newMessageInfo.message, newMessageInfo.fadeTime, newMessageInfo.useIcon);\n      });\n    }\n    if (this._currentMessageInfo.callBack) {\n      this._currentMessageInfo.callBack(true);\n    }\n  }\n  isRepeatedMessage(message) {\n    var _a, _b;\n    return ((_a = this._nextMessages) === null || _a === void 0 ? void 0 : _a.some((info) => info.message === message))\n      || ((_b = this._currentMessageInfo) === null || _b === void 0 ? void 0 : _b.message) === message;\n  }\n  makeToastInvisible() {\n    this.container.classList.remove(this._toastOpenedClass);\n    this.container.style.animation = `none`;\n    if (this._lastTimeOut)\n      clearTimeout(this._lastTimeOut);\n  }\n  displayToast() {\n    this.container.classList.add(this._toastOpenedClass);\n    this.container.style.animation = `fadein 0.5s, fadeout 0.5s ${this.fadeTime / 1000}s`;\n  }\n  buildDataElementId() {\n    var _a, _b;\n    const dataElementId = ElementIDUtils.addIDInfo(this._element);\n    const attribute = ElementIDUtils.DATA_ELEMENT_ID_ATTRIBUTE_NAME;\n    (_a = this._elemBtnClose) === null || _a === void 0 ? void 0 : _a.setAttribute(attribute, `${dataElementId}_buttonClose`);\n    (_b = this._elemText) === null || _b === void 0 ? void 0 : _b.setAttribute(attribute, `${dataElementId}_title`);\n  }\n  componentDidLoad() {\n    this.buildDataElementId();\n  }\n  render() {\n    return (h(Host, null, h(\"div\", { ref: (el) => this.container = el, class: \"toast__container\" }, this._currentMessageInfo.useIcon &&\n      h(\"slot\", { name: \"icon\" }), h(\"div\", { lang: this._lang, ref: (el) => this._elemText = el, class: this._currentMessageInfo.useIcon ? \"message__container message__container--icon\" : \"message__container\", title: this._currentMessageInfo.message, innerHTML: this._currentMessageInfo.message }), this._currentMessageInfo.canClose &&\n      h(\"button\", { class: \"btn-close\", onClick: () => { this.hideToast(); }, ref: (el) => this._elemBtnClose = el }))));\n  }\n  get _element() { return getElement(this); }\n};\nEzToast.style = ezToastCss;\n\nexport { EzToast as ez_toast };\n"],"names":["ezToastCss","EzToast","hostRef","registerInstance","message","fadeTime","useIcon","canClose","isClosable","resolve","_a","forceUpdate","newMessageInfo","_b","info","dataElementId","ElementIDUtils","attribute","h","Host","el","getElement"],"mappings":"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","x_google_ignoreList":[0]}
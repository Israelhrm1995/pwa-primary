import{b as h,e as i,k as p,i as d}from"./index-DA6RLjux.js";import{c as m,o as g,f as u,s as f,a as v}from"./floating-ui.dom.esm-5d3da819-CCUDAfoI.js";import{E}from"./dataUnitInMemoryLoader-BjgoPaoq.js";const b=":host{--triangle-size:8px;width:100%}.tooltip{position:absolute;z-index:var(--elevation--24);padding:var(--space--extra-small, 3px) var(--space--small, 6px);border-radius:var(--border--radius-small);box-sizing:border-box;font-family:var(--font-pattern	, 'Roboto', sans-serif);font-size:var(--text--small, 12px);font-weight:var(--text-weight--medium, 400);text-align:center;width:max-content;display:none}.arrow{position:absolute;width:var(--triangle-size);height:var(--triangle-size);transform:rotate(45deg)}.default-tooltip{background:var(--title--primary, #2b3a54);color:var(--color--inverted)}.default-tooltip .arrow{background:var(--title--primary, #2b3a54)}.error-tooltip{background:var(--color-alert--error-800, #BD0025);color:var(--color--error-200, #F7E0E5)}.error-tooltip .arrow{background:var(--color-alert--error-800, #BD0025)}.success-tooltip{background:var(--color--success, #00cb94);color:var(--color--success-200, #EBFFFA)}.success-tooltip .arrow{background:var(--color--success, #00cb94)}.warning-tooltip{background:var(--color--warning, #f2d410);color:var(--color--warning-200, #FDF8D8)}.warning-tooltip .arrow{background:var(--color--warning, #f2d410)}",w=class{constructor(t){h(this,t),this._opened=!1,this.message=void 0,this.anchoringElement=void 0,this.placement="bottom",this.gapOptions={horizontalGap:0,verticalGap:0},this.type="default",this.debouncingTime=500,this.active=!0,this.maxWidth=200,this.useAnchorSize=!1}watchAnchoringElement(t,e){t&&(this.setEvents(t),this.removeEvents(e))}watchMessage(t){if(!t){this.closeTooltip();return}this.updatePosition()}openTooltip(){this.message&&this.active&&(this._debouncingTimeout&&clearTimeout(this._debouncingTimeout),this._debouncingTimeout=setTimeout(()=>{this._opened=!0,this._tooltipElement.style.display="block",this.updatePosition()},this.debouncingTime))}closeTooltip(){clearTimeout(this._debouncingTimeout),this._tooltipElement.style.display="none",this._opened=!1}async updatePosition(t=this.anchoringElement){if(!(!t||!this._opened)){if(this.useAnchorSize){const e=t.getBoundingClientRect().width;this._tooltipElement.style.width=`${e}px`}await m(t,this._tooltipElement,{placement:this.placement,middleware:[g(5),u(),f(),v({element:this._arrowElement})]}).then(({x:e,y:o,placement:s,middlewareData:r})=>{const a=s.includes("bottom")?o+this.gapOptions.verticalGap:o-this.gapOptions.verticalGap,l=s.includes("start")?e+this.gapOptions.horizontalGap:e-this.gapOptions.horizontalGap;if(Object.assign(this._tooltipElement.style,{top:`${a}px`,left:`${l}px`}),r.arrow){const{x:c}=r.arrow,n=s.includes("bottom");Object.assign(this._arrowElement.style,{left:`${c}px`,top:n?`${-this._arrowElement.offsetHeight/2}px`:"",bottom:n?"":`${-this._arrowElement.offsetHeight/2}px`})}})}}handleSlotChange(t){const o=t.target.assignedElements()[0];this.anchoringElement=o}setEvents(t=this.anchoringElement){t&&(t.addEventListener("mouseenter",()=>{this.openTooltip()}),t.addEventListener("mouseleave",()=>{this.closeTooltip()}))}removeEvents(t=this.anchoringElement){t&&(t.removeEventListener("mouseenter",()=>{this.openTooltip()}),t.removeEventListener("mouseleave",()=>{this.closeTooltip()}))}componentDidLoad(){this.setEvents()}render(){return i(p,null,i("div",Object.assign({ref:t=>this._tooltipElement=t},{inert:!0},{class:{tooltip:!0,[`${this.type}-tooltip`]:!0},style:{maxWidth:this.maxWidth&&!this.useAnchorSize?`${this.maxWidth}px`:void 0},role:"tooltip","data-element-id":E.getInternalIDInfo("tooltip")}),this.message,i("div",{ref:t=>this._arrowElement=t,class:"arrow"})),i("slot",{onSlotchange:t=>{this.handleSlotChange(t)}}))}get _element(){return d(this)}static get watchers(){return{anchoringElement:["watchAnchoringElement"],message:["watchMessage"]}}};w.style=b;export{w as ez_tooltip};

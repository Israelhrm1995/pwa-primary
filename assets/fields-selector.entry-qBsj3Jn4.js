import{r as d,c as n,h as t,H as r,g as c}from"./index-CHe-Tgi3.js";import{S as h}from"./sortable.esm-842f85a3-C83syoBY.js";import{I as o}from"./FormConfigHelper-49fe72ca-CenmSOwG.js";import{g as f}from"./dataUnitInMemoryLoader-CwDmnNwL.js";import"./constants-7b422de0-BRz2gykn.js";const m=".sc-fields-selector-h{width:33.33333%;display:flex;box-shadow:var(--shadow--small, 0 0 16px rgba(0, 38, 111, 0.07));border-radius:var(--border--radius-medium, 6px);height:var(--snk-form-config-container-height);max-width:260px}.fields-label.sc-fields-selector{display:block;font-size:16px;font-weight:500;width:100%}.fields-count.sc-fields-selector{display:block;color:#AFB6C0;font-size:14px;padding:12px 0;font-weight:400;width:100%}.fields-container.sc-fields-selector{display:flex;flex-direction:column;gap:12px;height:calc(100vh - 220px);width:100%}.ghost.sc-fields-selector{opacity:.5;background:#c8fbe2}.filter-input.sc-fields-selector{padding-right:var(--space--2xs, 8px)}",p=class{constructor(e){d(this,e),this.fieldListChanged=n(this,"fieldListChanged",7),this.availableFields=[],this.dataUnit=void 0,this.filterTerm=""}onAddField(e){const i=e.newIndex,s=e.item.fieldConfig,l=this.addItemInPosition(i,s);this.fieldListChanged.emit(l)}addItemInPosition(e,i){return[...this.availableFields.slice(0,e),i,...this.availableFields.slice(e)]}onRemoveField(e){const i=e.item,a=i.fieldConfig.name,s=[...this.availableFields.filter(l=>l.name!==a)];this.fieldListChanged.emit(s),requestAnimationFrame(()=>i.remove())}renderFields(){return f.applyStringFilter(this.filterTerm,this.availableFields).map(i=>t("field-item",{key:i.name,dataUnit:this.dataUnit,fieldConfig:i}))}getCountText(){return this.availableFields.length?this.availableFields.length===1?"1 campo disponível":`${this.availableFields.length} campos disponíveis`:"Nenhum campo disponível"}initializeDraggableContainer(){new h(this.el.querySelector(`#${o}`),{group:"fields",direction:"vertical",ghostClass:"ghost",animation:15,onAdd:e=>this.onAddField(e),onRemove:e=>this.onRemoveField(e)})}componentDidRender(){this.initializeDraggableContainer()}render(){return t(r,{class:"ez-col ez-col--sd-4 ez-col--tb-4 ez-padding--medium"},t("span",{class:"fields-label ez-padding-bottom--small"},"Campos disponíveis"),t("ez-filter-input",{class:"filter-input",slot:"content",mode:"slim",label:"Buscar campo",onEzChange:e=>this.filterTerm=e.detail}),t("span",{class:"fields-count"},this.getCountText()),t("ez-scroller",{direction:"vertical",activeShadow:!0},t("div",{id:o,class:"fields-container"},this.renderFields())))}get el(){return c(this)}};p.style=m;export{p as fields_selector};
//# sourceMappingURL=fields-selector.entry-qBsj3Jn4.js.map

import{r as l,c as e,h as r,g as c}from"./index-BCuik2gT.js";import"./dataUnitInMemoryLoader-CwDmnNwL.js";import{A as u}from"./ApplicationContext-B_qAnYBt.js";import{V as i}from"./constants-7b422de0-BRz2gykn.js";import{A as n}from"./AuthorizationConfig-dcbd207a-CB05oqv_.js";const f='.sc-snk-configurator-h{--snk-configurator__button-close--padding-left:var(--space--medium, 12px);--snk-configurator__title--color:var(--title--primary, #2B3A54);--snk-configurator__title--font-family:var(--font-pattern, "Roboto");--snk-configurator__title--font-size:var(--title--large, 20px);--snk-configurator__title--font-weight:var(--text-weight--extra-large, 700);--snk-configurator__subtitle--color:var(--title--primary, #2B3A54);--snk-configurator__subtitle--font-family:var(--font-pattern, "Roboto");--snk-configurator__subtitle--font-size:var(--text--medium, 14px);--snk-configurator__subtitle--font-weight:var(--text-weight--large, 600);--snk-configurator__scrollbar--color-default:var(--scrollbar--default, #626e82);--snk-configurator__scrollbar--color-background:var(--scrollbar--background, #E5EAF0);--snk-configurator__scrollbar--color-hover:var(--scrollbar--hover, #2B3A54);--snk-configurator__scrollbar--color-clicked:var(--scrollbar--clicked, #a2abb9);--snk-configurator__scrollbar--border-radius:var(--border--radius-small, 6px);--snk-configurator__scrollbar--width:var(--space--small, 6px)}.snk-configurator.sc-snk-configurator{display:grid;grid-template-rows:auto 1fr auto;max-height:100%;width:100%}.snk-configurator__collsable-box-action.sc-snk-configurator{width:100%}.snk-configurator__action-buttons.sc-snk-configurator{display:flex;flex-direction:row;justify-content:flex-end;gap:var(--space--medium)}.snk-configurator__outline.sc-snk-configurator{display:flex;flex-direction:column;gap:var(--space--small);margin-top:var(--space--small);margin-bottom:var(--space--large)}@media screen and (min-width: 480px){.snk-configurator.sc-snk-configurator{width:359px;max-width:359px}}.snk-configurator__button-config.sc-snk-configurator{--ez-button--min-width:100%}.snk-configurator__header.sc-snk-configurator{display:flex;justify-content:space-between;align-items:center;width:100%}.snk-configurator__title.sc-snk-configurator{display:flex;margin:0;line-height:normal;letter-spacing:0em;text-align:left;color:var(--snk-configurator__title--color);font-size:var(--snk-configurator__title--font-size);font-family:var(--snk-configurator__title--font-family);font-weight:var(--snk-configurator__title--font-weight)}.snk-configurator__subtitle.sc-snk-configurator{display:flex;margin:0;padding-top:var(--space--medium);padding-bottom:var(--space--small);color:var(--snk-configurator__subtitle--color);font-size:var(--snk-configurator__subtitle--font-size);font-family:var(--snk-configurator__subtitle--font-family);font-weight:var(--snk-configurator__subtitle--font-weight)}.snk-configurator__button-close.sc-snk-configurator{padding-left:var(--snk-configurator__button-close--padding-left)}.snk-configurator__main.sc-snk-configurator{overflow-y:auto;scrollbar-width:thin;margin:var(--space--medium) 0;scrollbar-color:var(--snk-configurator__scrollbar--color-clicked) var(--snk-configurator__scrollbar--color-background)}.snk-configurator__main.sc-snk-configurator::-webkit-scrollbar{background-color:var(--snk-configurator__scrollbar--color-background);width:var(--snk-configurator__scrollbar--width);max-width:var(--snk-configurator__scrollbar--width);min-width:var(--snk-configurator__scrollbar--width)}.snk-configurator__main.sc-snk-configurator::-webkit-scrollbar-track{background-color:var(--snk-configurator__scrollbar--color-background);border-radius:var(--snk-configurator__scrollbar--border-radius)}.snk-configurator__main.sc-snk-configurator::-webkit-scrollbar-thumb{background-color:var(--snk-configurator__scrollbar--color-default);border-radius:var(--snk-configurator__scrollbar--border-radius)}.snk-configurator__main.sc-snk-configurator::-webkit-scrollbar-thumb:vertical:hover,.snk-configurator__main.sc-snk-configurator::-webkit-scrollbar-thumb:horizontal:hover{background-color:var(--snk-configurator__scrollbar--color-hover)}.snk-configurator__main.sc-snk-configurator::-webkit-scrollbar-thumb:vertical:active,.snk-configurator__main.sc-snk-configurator::-webkit-scrollbar-thumb:horizontal:active{background-color:var(--snk-configurator__scrollbar--color-clicked)}',g=class{constructor(o){l(this,o),this.configSelected=e(this,"configSelected",7),this.openConfig=e(this,"openConfig",7),this.save=e(this,"save",7),this.cancel=e(this,"cancel",7),this._opened=!1,this._permissions=void 0,this.showActionButtons=!1,this.configName=void 0,this.resourceID=void 0,this.viewMode=i.GRID,this.customContainerId=void 0,this.layoutFormConfig=!1,this.messagesBuilder=void 0}async open(){this._opened=!0,this.configSelected.emit(this.getViewModeValue()),this.modal.heightMode="full"}async close(){this.closeConfig()}closeConfig(){this._opened=!1}onViewModeChanged(o){const t=o==null?void 0:o.detail;this.viewMode=t,this.configSelected.emit(this.viewMode)}onClickOpenConfig(){this.openConfig.emit(this.viewMode)}isAllowed(o){return n[o]?this._permissions?this._permissions.isSup||this._permissions[o]:!1:!0}enableModeConfig(){return!(!this.isAllowed(n.CONFIG_GRID)||!this.isAllowed(n.CONFIG))}getViewModeValue(){return this._permissions!=null&&(this.isAllowed(n.CONFIG_GRID)?this.isAllowed(n.CONFIG)||(this.viewMode=i.GRID):this.viewMode=i.FORM),this.viewMode}getMessage(o){var t;return(t=this.messagesBuilder)===null||t===void 0?void 0:t.getMessage(o,{})}handleSave(){this.layoutFormConfig&&this._snkLayoutFormConfig.save(),this.save.emit()}componentWillLoad(){this._application=u.getContextValue("__SNK__APPLICATION__"),this._application?this._application.getAllAccess(this.resourceID).then(o=>this._permissions=o):this._permissions={}}componentDidRender(){if(!this.customContainerId)return;const o=document.querySelector(`#${this.customContainerId}`),t=o==null?void 0:o.querySelector("#SnkConfigContainerSlot");if(!t)return;const a=t.firstElementChild;if(!a)return;const s=this._element.querySelector("#slotContainer");s==null||s.appendChild(a)}render(){return r("ez-modal",{ref:o=>this.modal=o,opened:this._opened,"close-esc":!1,"close-outside-click":!1,"modal-size":"small",scrim:"light",onEzCloseModal:()=>this.closeConfig()},r("div",{class:"snk-configurator"},r("div",{class:"snk-configurator__header"},r("label",{class:"snk-configurator__title"},this.getMessage("snkConfigurator.titleConfigurations")),r("div",{class:"snk-configurator__button-close"},r("ez-button",{mode:"icon",iconName:"close",size:"medium",onClick:()=>this.closeConfig()}))),r("div",{class:"snk-configurator__main"},r("ez-collapsible-box",{boxBordered:!0,label:"Modo de visualização ",headerSize:"medium",class:"snk-configurator__collapsable-box"},r("ez-radio-button",{value:this.getViewModeValue().toString(),onEzChange:o=>this.onViewModeChanged(o),enabled:this.enableModeConfig()},r("ez-radio-button-option",{label:this.getMessage("snkConfigurator.labelGrid"),value:i.GRID}),r("ez-radio-button-option",{label:this.getMessage("snkConfigurator.labelForm"),value:i.FORM})),r("div",{class:"snk-configurator__collsable-box-action"},r("ez-button",{label:this.viewMode===i.GRID?this.getMessage("snkConfigurator.labelConfigGrid"):this.getMessage("snkConfigurator.labelConfigForm"),class:"snk-configurator__button-config ez-button--secondary",onClick:()=>this.onClickOpenConfig(),id:"openConfigurator"}))),this.layoutFormConfig&&r("ez-collapsible-box",{boxBordered:!0,value:!0,label:"Layout do formulário",headerSize:"medium",class:"snk-configurator__collapsable-box  ez-margin-top--medium"},r("div",{class:"ez-flex ez-flex--column ez-size-width--full"},r("snk-layout-form-config",{ref:o=>this._snkLayoutFormConfig=o}))),r("div",{id:"slotContainer",class:"snk-configurator__outline"})),this.showActionButtons&&r("div",{class:"snk-configurator__action-buttons"},r("ez-button",{label:"Cancelar",onClick:()=>this.cancel.emit()}),r("ez-button",{label:"Salvar",onClick:()=>this.handleSave(),class:"ez-button--primary"}))))}get _element(){return c(this)}};g.style=f;export{g as snk_configurator};
//# sourceMappingURL=snk-configurator.entry-O7xkSNW2.js.map

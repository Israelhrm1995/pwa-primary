import{r as _,c as u,h as U,H as D,g as M}from"./index-BCuik2gT.js";import{A as o,O as g,m as p,B as C,S as R}from"./dataUnitInMemoryLoader-CwDmnNwL.js";import{A as y}from"./ApplicationContext-B_qAnYBt.js";import{A as h,D as b}from"./FormLayout-CTCTPPNq.js";import{O as c,S as E}from"./SnkMessageBuilder-c8b452b6-DZvXAfb9.js";import{g as f,a as S}from"./dataunit-fetcher-1b78797a-B5AebLgP.js";import{g as w}from"./GetSelectedRecordsIDsInfo-9fa41508-Dkcln7_7.js";import"./DataFetcher-db08cad0-YRT7v6X1.js";import"./PrintUtils-3e4ff0f5-Dyc0ptsy.js";import"./constants-CKEKe-xZ.js";import"./ResourceIDUtils-a114189a-DSWFS9XU.js";const v="__NO_TAB_NAME__",A="__main";async function N({title:t,labelBtnConfirm:e,labelBtnCancel:i,message:a,changingFields:n}){return new Promise(s=>{const r=B(t,s),d=L();d.appendChild(T(a)),d.appendChild(k(n));const l=F();l.appendChild(x(r,i,s)),l.appendChild(W(r,e,s)),d.appendChild(l),r.appendChild(d),document.body.appendChild(r)})}function O(t){const e=new Map;return t.forEach(i=>{var a;const n=(a=i.tabName)!==null&&a!==void 0?a:v;e.has(n)||e.set(n,[]),e.get(n).push(i)}),e}function I(t){switch(t){case v:return"";case A:return"Principal";default:return t}}function P(t,e){const i=document.createElement("span");i.innerText=I(t),i.style.display="block",i.style.fontWeight="var(--text-weight--large, 500)",i.style.fontSize="var(--text--medium, 14px)",i.style.marginBottom="var(--space--small, 6px)";const a=document.createElement("div");return a.style.padding="var(--space--medium, 12px) 0",a.style.borderTop="1px solid var(--color--disable-secondary, #f2f5f8)",a.appendChild(i),e.forEach(n=>{const s=document.createElement("span");s.innerHTML=`${n.label}: <span style="color: var(--text--primary, #626e82)">${n.value}</span>`,s.style.display="block",s.style.marginBottom="var(--space--extra-small, 3px)",a.appendChild(s)}),a}function k(t){const e=document.createElement("div");return e.style.flexDirection="column",e.style.display="flex",e.style.overflow="auto",e.style.maxHeight="300px",O(t).forEach((a,n)=>{e.appendChild(P(n,a))}),e}function T(t){const e=document.createElement("p");return e.textContent=t,e.style.fontSize="var(--text--medium, 14px)",e}function L(){const t=document.createElement("div");return t.style.display="flex",t.style.flexDirection="column",t.style.fontFamily="var(--font-pattern, Roboto)",t.style.fontSize="var(--text--medium, 14px)",t}function F(){const t=document.createElement("div");return t.style.display="flex",t.style.flexDirection="row",t.style.justifyContent="flex-end",t.style.gap="5px",t}function B(t,e){const i=document.createElement("ez-popup");return i.opened=!0,i.size="small",i.ezTitle=t,i.heightMode="auto",i.addEventListener("ezClosePopup",()=>{document.body.removeChild(i),e(!1)},{once:!0}),i.addEventListener("ezPopupAction",()=>{document.body.removeChild(i),e(!1)},{once:!0}),i}function W(t,e,i){const a=document.createElement("ez-button");return a.label=e,a.size="medium",a.classList.add("ez-button--primary"),a.onclick=()=>{document.body.removeChild(t),i(!0)},a}function x(t,e,i){const a=document.createElement("ez-button");return a.label=e,a.size="medium",a.onclick=()=>{document.body.removeChild(t),i(!1)},a}const Z=class{constructor(t){_(this,t),this.dataStateChange=u(this,"dataStateChange",3),this.dataUnitReady=u(this,"dataUnitReady",3),this.messagesBuilderUpdated=u(this,"messagesBuilderUpdated",3),this.dataUnitFieldsHidded=u(this,"dataUnitFieldsHidded",7),this.insertionMode=u(this,"insertionMode",3),this.cancelEdition=u(this,"cancelEdition",3),this._onDataUnitResolve=[],this._openedAlert=!1,this._fieldsWithRmp=[],this._fieldsWithRmPrecision=[],this._metadataByRow=new Map,this._rowMetadataCache=new Map,this._formFieldsConfig=[],this.REGEX_DATAUNIT_NAME=/dd:\/\/(.+?)\//,this._dataUnitObserver=async e=>{const i=await this.buildDataState(e.type);switch(this.dataState=i,this.messagesBuilder.currentOperation=this.getMessageOperation(),e.type){case o.DATA_SAVED:await this.handleDataSaved(e);break;case o.RECORDS_ADDED:case o.RECORDS_COPIED:this.insertionMode.emit();break;case o.EDITION_CANCELED:this.cancelEdition.emit();break;case o.RECORDS_REMOVED:this.handleRecordsRemoved(e);break;case o.METADATA_LOADED:this.fillFieldsWithRmp(this.dataUnit.metadata),this.fillFieldsWithRmPrecision(this.dataUnit.metadata);break}},this.fieldsToLink=[],this.dataState=void 0,this.messagesBuilder=void 0,this.dataUnitName=void 0,this.entityName=void 0,this.pageSize=150,this.dataUnit=void 0,this.beforeSave=void 0,this.afterSave=void 0,this.useCancelConfirm=!0,this.ignoreSaveMessage=void 0,this.configName=void 0,this.resourceID=void 0,this.domainMessagesBuilder=void 0}observePageSize(){this.dataUnit&&(this.dataUnit.pageSize=this.pageSize)}observeDataUnitName(t,e){e!=t&&(this.dataUnit?this._application.updateDataunitCache(e,this.dataUnitName,this.dataUnit):this.loadDataUnit())}observeEntityName(t,e){e!=t&&(this.dataUnit=void 0,this.entityName=t,this.loadDataUnit())}observeDataState(t,e){g.objectToString(e)!=g.objectToString(t)&&this.dataStateChange.emit(t)}observeDataUnit(){this.handlerLinkFields(),this.dataUnitReady.emit(this.dataUnit)}observeMessagesBuilder(t){t&&this.messagesBuilderUpdated.emit(t)}onMasterFormConfigChange({detail:t}){var e;this._formFieldsConfig=(e=t==null?void 0:t.fields)!==null&&e!==void 0?e:[]}async getDataUnit(){return new Promise(t=>{this.dataUnit?t(this.dataUnit):this._onDataUnitResolve.push(t)})}async getSelectedRecordsIDsInfo(){return w(this.dataUnit)}async getFieldsWithRmp(){return this._fieldsWithRmp}async getFieldsWithRmPrecision(){return this._fieldsWithRmPrecision}async getRowMetadata(t){return this.doGetRowMetadata(t)}async doGetRowMetadata(t){const e=this.dataUnit.getSelectedRecord();if(!t&&!e)return;const i=t||e,a=typeof i=="string"?i:i.__record__id__;let n=this._metadataByRow.get(a);if(this.dataUnit.isNewRecord(a)&&!n&&(n=await this.handleLoadRowMetadata(e)),!!n)return n.getProp=this.buildGetPropRowMetadata(n),Object.assign({},n)}buildGetPropRowMetadata(t){return(e,i)=>(e==="rm_precision"&&(e=this.resolvePrecisionFromMetadata(i)),g.getProp(t,e))}resolvePrecisionFromMetadata(t){var e,i;if(!t){h.error(this.getMessage("snkDataUnit.fieldNameRequired"));return}const a=(i=(e=this.dataUnit.getField(t))===null||e===void 0?void 0:e.properties)===null||i===void 0?void 0:i.rm_precision;return a?a.split(".").filter((s,r)=>r!==1).join("."):""}getCleanOnCopyFields(){var t;return(t=this.dataUnit.metadata)===null||t===void 0?void 0:t.fields.filter(e=>{var i;return(i=e.properties)===null||i===void 0?void 0:i.cleanOnCopy}).map(e=>e.name)}fillFieldsWithRmp(t){t.fields.forEach(e=>{var i;!((i=e.properties)===null||i===void 0)&&i.rmp&&!this._fieldsWithRmp.includes(e.name)&&this._fieldsWithRmp.push(e.name)})}fillFieldsWithRmPrecision(t){t.fields.forEach(e=>{var i;!((i=e.properties)===null||i===void 0)&&i.rm_precision&&!this._fieldsWithRmPrecision.includes(e.name)&&this._fieldsWithRmPrecision.push(e.name)})}getCacheName(t,e,i){return[t,e,i].join("_")}updateDataStateRmp(t){const e=Object.assign({},t);this.dataState.rowMetadata=e}saveCacheRmd(t){const e=t.__record__metadata__,i=Object.keys(e);i.shift(),i.forEach(a=>{const n=f(t,a),s=this.getCacheName(a,e.provider,n);this._rowMetadataCache.set(s,Object.assign({},e))})}getMetadataByRow(t){var e;if(!(!((e=t.records)===null||e===void 0)&&e.length))return t;if(!this._fieldsWithRmp.length){const a=t.records.map(n=>(delete n.__record__metadata__,n));return Object.assign(Object.assign({},t),{records:a})}const i=t.records.map(a=>{if(!a.__record__metadata__)return a;this.saveCacheRmd(a);const n=Object.assign({},a.__record__metadata__);return n.getProp=this.buildGetPropRowMetadata(n),this._metadataByRow.set(a.__record__id__,n),delete a.__record__metadata__,a});return Object.assign(Object.assign({},t),{records:i})}interceptRecordsAdded(t){if(!this.isAllowed("INSERT")){h.info(this.getMessage("snkDataUnit.forbiddenInsert"));return}return new p(o.RECORDS_ADDED,this.handleLinksWithParent(t.payload))}interceptRecordsCopied(t){if(!this.isAllowed("CLONE")){h.info(this.getMessage("snkDataUnit.forbiddenClone"));return}return new p(o.RECORDS_COPIED,this.handleRecordsCopied(t.payload))}async interceptDataChange(t){var e;const i=(e=this.dataUnit.getSelectedRecord())===null||e===void 0?void 0:e.__record__id__;if(this.isAllowed("UPDATE")||this.dataUnit.isNewRecord(i))return t;if(this._openedAlert){await this.dataUnit.cancelEdition();return}this._openedAlert=!0,await this.dataUnit.cancelEdition(),await h.alert(this.getMessage("snkDataUnit.forbidden"),this.getMessage("snkDataUnit.forbiddenUpdate")),this._openedAlert=!1}async interceptSavingData(t){if(this.dataUnit.isMultipleEdition&&!await this.confirmMultipleSavingData())return;if(!this.beforeSave)return t;const e=this.beforeSave(this.dataUnit);return e instanceof Promise?await e?t:void 0:e?t:void 0}async confirmMultipleSavingData(){const t=this.dataUnit.getSelectionInfo().records,e=this.getMessage("snkDataUnit.multipleUpdateConfirmationTitle"),i=this.getMessage("snkDataUnit.multipleUpdateConfirmationMessage",{size:t.length}),a=this.getMessage("snkDataUnit.confirm.cancel"),n=this.getMessage("snkDataUnit.confirm.updateMultipleConfirm");return await N({title:e,message:i,labelBtnConfirm:n,labelBtnCancel:a,changingFields:this.getChangingFields()})}getChangingFields(){const t=this.dataUnit.buildChangesToSave();if(!(t!=null&&t.length))return[];const e=t[0];return Object.keys(e.updatingFields).map(a=>this.buildChangingField(a,e[a]))}buildChangingField(t,e){const i=this.dataUnit.getField(t).label,a=this.dataUnit.getFormattedValue(t,e);return{label:i,value:a,tabName:this.getFieldTabName(t)}}getFieldTabName(t){var e;const i=(e=this._formFieldsConfig.find(a=>a.name===t))===null||e===void 0?void 0:e.tab;if(i)return typeof i=="string"?i:i.label}interceptDataSaved(t){if(this.afterSave){this.afterSave(this.dataUnit);return}return t}async interceptEditionCanceled(t){var e,i;if(!this.useCancelConfirm||!this.dataState.hasDirtyRecords||!((e=t.payload)===null||e===void 0)&&e.fromParent||!((i=t.payload)===null||i===void 0)&&i.silent)return t;const a=this.getMessage("snkDataUnit.cancelConfirmation");if(a==null)return this.showSuccessMessage(this.getMessage("snkDataUnit.cancelInfo")),t;const n=this.getMessage("snkDataUnit.cancelConfirmationTitle"),s=await h.confirm(n,a);if(s){let r;if(this.dataUnit.isMultipleEdition){const d=this.dataUnit.getSelectionInfo().records;r=this.buildMultipleUpdateMessage(d,!0)}else r=this.getMessage("snkDataUnit.cancelInfo");this.showSuccessMessage(r)}return s?t:void 0}async interceptRemovingRecords(t){var e,i,a;if(!this.isAllowed("REMOVE")){h.info(this.getMessage("snkDataUnit.forbiddenRemove"));return}let n=!1,s=!(!((e=t.payload)===null||e===void 0)&&e.silent)&&this.getMessage("snkDataUnit.removeConfirmation");const r=(i=this.dataUnit)===null||i===void 0?void 0:i.getSelectionInfo();if(!(!((a=t.payload)===null||a===void 0)&&a.silent)&&(r==null?void 0:r.length)>1&&(s=this.getMessage("snkDataUnit.removeAllConfirmation",{size:r.length}),n=!0),!s)return t;const d={canClose:!1,labelCancel:this.getMessage(`snkDataUnit.confirm.${n?"no":"cancel"}`),labelConfirm:this.getMessage(`snkDataUnit.confirm.${n?"yes":"delete"}`),btnConfirmDanger:!1},l=this.getMessage("snkDataUnit.removeConfirmationTitle");return await h.confirm(l,s,null,b.WARN,d)?t:void 0}interceptDataLoaded(t){const e=this.getMetadataByRow(t.payload);return t=new p(o.DATA_LOADED,e),t}interceptMetadataLoaded(t){return this.fillFieldsWithRmp(t.payload),this.fillFieldsWithRmPrecision(t.payload),new p(o.METADATA_LOADED,this.handleDULinksOnMetadataLoaded(t.payload))}async interceptAction(t){switch(t.type){case o.RECORDS_ADDED:return this.interceptRecordsAdded(t);case o.RECORDS_COPIED:return this.interceptRecordsCopied(t);case o.DATA_CHANGED:return await this.handleLoadRowMetadata(t.payload),await this.interceptDataChange(t);case o.CHANGING_DATA:return await this.interceptDataChange(t);case o.SAVING_DATA:return await this.interceptSavingData(t);case o.DATA_SAVED:return this.interceptDataSaved(t);case o.EDITION_CANCELED:return await this.interceptEditionCanceled(t);case o.REMOVING_RECORDS:return await this.interceptRemovingRecords(t);case o.DATA_LOADED:return this.interceptDataLoaded(t);case o.METADATA_LOADED:return this.interceptMetadataLoaded(t);default:return t}}async handleLoadRowMetadata(t){if(!t)return;const i=Object.keys(t).find(a=>this._fieldsWithRmp.includes(a));if(i){const a=this.dataUnit.getField(i).properties.rmp,n=f(t,i);return await this.updateRowMetadata({fieldName:i,fieldValue:n,metadataName:a,updatedFields:t})}}async updateRowMetadata({fieldName:t,fieldValue:e,metadataName:i,updatedFields:a}){const n=this.getCacheName(t,i,e),s=this._rowMetadataCache.get(n);if(s)return this.updateDataStateRmp(s),s;{const d=await new S().loadRowMetadata(this,t,i,a);return this.updateDataStateRmp(d._rmd),this._rowMetadataCache.set(n,Object.assign({},d._rmd)),Object.assign({},d._rmd)}}handleDULinksOnMetadataLoaded(t){const e=Object.assign({},t);return this.processLinks(e),e}handleRecordsCopied(t){let e=[...t];return e=this.handleCleanOnCopy(e),this.handleLinksWithParent(e)}handleLinksWithParent(t){var e,i;const a=(e=this._parentDataUnit)!==null&&e!==void 0?e:(i=this.dataUnit)===null||i===void 0?void 0:i.getParentDataUnit();if(!a)return t;const n=a.getSelectedRecord(),s=a==null?void 0:a.getChildInfo(this.getCleanDataUnitName()),{links:r}=s;return!r||r.length===0?t:t.map(d=>this.buildRecordWithLinkedFields(d,r,n))}buildRecordWithLinkedFields(t,e,i){const a=Object.assign({},t);return e.forEach(n=>{const s=C(this.dataUnit.getField(n.target).dataType,i[n.source]);a[n.target]=s}),a}handleCleanOnCopy(t){const e=this.getCleanOnCopyFields();return e.length>0&&(t=t.map(i=>this.buildCopyWithCleanedFields(i,e))),t}buildCopyWithCleanedFields(t,e){const i=Object.assign({},t);return e.forEach(a=>delete i[a]),i}showSuccessMessage(t){h.info(t,{iconName:"check"})}isAllowed(t){return this._permissions?this._permissions.isSup||this._permissions[t]:!1}async buildDataState(t){var e;const i=this.dataUnit.getSelectionInfo(),a=(this.dataUnit.hasDirtyRecords()||this.dataUnit.hasWaitingChanges())&&(i==null?void 0:i.isEmpty()),n=this.dataUnit.getSelectedRecord();let s=(e=this.dataState)===null||e===void 0?void 0:e.rowMetadata;const r=[o.SELECTION_CHANGED,o.EDITION_CANCELED,o.NEXT_SELECTED,o.PREVIOUS_SELECTED];return n&&(!s||r.includes(t))?s=await this.doGetRowMetadata(n):s&&(s.getProp=this.buildGetPropRowMetadata(s)),new z({insertionMode:this.dataUnit.hasNewRecord(),isStartingInsertionMode:a,hasNext:this.dataUnit.hasNext(),hasPrevious:this.dataUnit.hasPrevious(),copyMode:this.dataUnit.hasCopiedRecord(),isDirty:this.dataUnit.isDirty(),hasDirtyRecords:this.dataUnit.hasDirtyRecords(),selectedRecords:void 0,selectionInfo:i,selectedRecord:n,recordsIsEmpty:this.dataUnit.records.length===0,metadataByRow:this._metadataByRow,rowMetadata:s})}async handleDataSaved(t){var e,i,a;const n=(e=t==null?void 0:t.payload)===null||e===void 0?void 0:e.changes,s=(i=t==null?void 0:t.payload)===null||i===void 0?void 0:i.records,r=await this.handleLoadRowMetadata((a=n==null?void 0:n[0])===null||a===void 0?void 0:a.record);r&&(r.getProp=this.buildGetPropRowMetadata(r));const d=s[0].__record__id__;this._metadataByRow.set(d,r),this.dataState=await this.buildDataState();let l=n[0]._operation.toLowerCase();if(l=="copy"&&(l=c.CLONE),this.canIgnoreOperationMessage(l))return;let m=this.buildOperationMessage(l,s);m!=null&&this.showSuccessMessage(m)}canIgnoreOperationMessage(t){return this.ignoreSaveMessage&&!this.isCloneOrInsertOperation(t)}isCloneOrInsertOperation(t){return[c.CLONE,c.INSERT].includes(t)}buildOperationMessage(t,e){return this.isMultiplesUpdate(t,e)?this.buildMultipleUpdateMessage(e):this.getMessage("snkDataUnit.saveInfo",e[0],t)}buildMultipleUpdateMessage(t,e){const i=`snkDataUnit.${e?"cancelInfo":"saveInfo"}`;return this.getMessage(i,{records:t},c.UPDATE_MULTIPLES)}isMultiplesUpdate(t,e){return t===c.UPDATE&&e.length>1}handleRecordsRemoved(t){var e,i;let a=this.buildRemoveFinishMessage(t);a!=null&&this.showSuccessMessage(a);const n=(i=(e=this.dataUnit.records)===null||e===void 0?void 0:e.length)!==null&&i!==void 0?i:0,s=this.dataUnit.getPaginationInfo();if(s){const r=n>0||s.hasMore?s.currentPage:0;this.dataUnit.gotoPage(r)}}buildRemoveFinishMessage(t){const e=t.payload.records;if(!(!e||!e.length))return(e==null?void 0:e.length)>1?this.getMessage("snkDataUnit.removeAllInfo",{size:e.length}):this.getMessage("snkDataUnit.removeInfo",e)}getMessage(t,e=void 0,i){return e||(e=this.getMessageParams()),i&&(this.messagesBuilder.currentOperation=i),this.messagesBuilder.getMessage(t,e)}getMessageParams(){return this.dataState.selectedRecord}getMessageOperation(){return this.dataState.copyMode?c.CLONE:this.dataState.insertionMode||this.dataState.isStartingInsertionMode?c.INSERT:this.dataState.isDirty?c.UPDATE:c.CLEAN}async getDataUnitParentOrChild(){var t;const e=this.dataUnitName?this.dataUnitName:this.entityName;return this._parentSnkDataUnit?(this._parentDataUnit=await((t=this._parentSnkDataUnit)===null||t===void 0?void 0:t.getDataUnit()),await this._application.getDataUnit(this.entityName,e,this._parentDataUnit,this.configName,this.resourceID)):await this._application.getDataUnit(this.entityName,e,null,this.configName,this.resourceID)}updateMetadataWithRMP(){this.fillFieldsWithRmp(this.dataUnit.metadata),this.fillFieldsWithRmPrecision(this.dataUnit.metadata);const t=this.handleDULinksOnMetadataLoaded(this.dataUnit.metadata);this.dataUnit.metadata=t}async loadDataUnit(){var t,e;if(this.dataUnit==null&&this._application&&this.entityName&&(this.dataUnit=await this.getDataUnitParentOrChild()),this.dataUnit){if(this.dataUnit.pageSize=this.pageSize,this.dataUnit.unsubscribe(this._dataUnitObserver),this.dataUnit.subscribe(this._dataUnitObserver),!((t=this.dataUnit)===null||t===void 0)&&t.metadata&&this.updateMetadataWithRMP(),this.dataUnit.addInterceptor(this),!((e=this.dataUnit.records)===null||e===void 0)&&e.length){const{records:a}=this.getMetadataByRow(this.dataUnit);this.dataUnit.records=a}this.dataState=await this.buildDataState();let i;for(;i=this._onDataUnitResolve.pop();)i(this.dataUnit)}}getParentSnkDataUnit(){let t=this.element;for(;t.parentNode;){if(t.parentNode.nodeName==="SNK-DATA-UNIT")return t.parentNode;t=t.parentNode}}handlerLinkFields(){var t,e,i,a;const n=(t=this._parentDataUnit)!==null&&t!==void 0?t:(e=this.dataUnit)===null||e===void 0?void 0:e.getParentDataUnit();if(!n)return;const s=(i=this.entityName)!==null&&i!==void 0?i:this.getCleanDataUnitName(),r=n.getChildInfo(s);if(!r)return;const d=(a=r==null?void 0:r.links)===null||a===void 0?void 0:a.map(l=>l.target);this.handleDUWithLinks(d)}handleDUWithLinks(t){this.fieldsToLink=t;const e=Object.assign({},this.dataUnit.metadata);this.processLinks(e),this.dataUnit.metadata=e,this.dataUnitFieldsHidded.emit()}processLinks(t){var e;(e=t==null?void 0:t.fields)===null||e===void 0||e.forEach(i=>{var a;!((a=this.fieldsToLink)===null||a===void 0)&&a.includes(i.name)&&(i.visible=!1)})}getCleanDataUnitName(){var t;const e=this.dataUnit.name;if(R.isEmpty(e))return e;const i=this.REGEX_DATAUNIT_NAME.exec(e);return(t=i==null?void 0:i[1])!==null&&t!==void 0?t:e}static getNearestInstance(t){let e=t.parentElement;for(;e;){if(e.tagName.toUpperCase()==="SNK-DATA-UNIT")return e;e=e.parentElement}}instanceMessagesBuilder(){var t;this.messagesBuilder||(this.messagesBuilder=new E((t=this.domainMessagesBuilder)!==null&&t!==void 0?t:this.entityName))}componentWillLoad(){this._application=y.getContextValue("__SNK__APPLICATION__"),this._application.getAllAccess(this.resourceID).then(t=>this._permissions=t),this._parentSnkDataUnit=this.getParentSnkDataUnit(),this.instanceMessagesBuilder()}disconnectedCallback(){this.dataUnit&&this.dataUnit.releaseCallbacks()}async componentDidLoad(){await this.loadDataUnit(),this.handlerLinkFields()}render(){return U(D,null)}get element(){return M(this)}static get watchers(){return{pageSize:["observePageSize"],dataUnitName:["observeDataUnitName"],entityName:["observeEntityName"],dataState:["observeDataState"],dataUnit:["observeDataUnit"],messagesBuilder:["observeMessagesBuilder"]}}};class z{constructor(e){this.copyMode=e.copyMode,this.insertionMode=e.insertionMode,this.isStartingInsertionMode=e.isStartingInsertionMode,this.isDirty=e.isDirty,this.hasDirtyRecords=e.hasDirtyRecords,this.hasNext=e.hasNext,this.hasPrevious=e.hasPrevious,this.selectionInfo=e.selectionInfo,this.selectedRecord=e.selectedRecord,this.recordsIsEmpty=e.recordsIsEmpty,this.metadataByRow=e.metadataByRow,this.rowMetadata=e.rowMetadata}get selectedRecords(){var e;if(console.warn("SnkDataUnit: O método `selectedRecords` foi descontinuado. Use o método `selectionInfo`."),!((e=this.selectionInfo)===null||e===void 0)&&e.isAllRecords())throw new Error("Erro interno: Impossível obter os registros selecionados. A seleção atual é virtual. Use o atributo `selectionInfo`.");return this.selectionInfo.records}}export{Z as snk_data_unit};
//# sourceMappingURL=snk-data-unit.entry-AbycjYYR.js.map

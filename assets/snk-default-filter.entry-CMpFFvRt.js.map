{"version":3,"file":"snk-default-filter.entry-CMpFFvRt.js","sources":["../../node_modules/@sankhyalabs/sankhyablocks/dist/esm/snk-default-filter.entry.js"],"sourcesContent":["import { r as registerInstance, c as createEvent, h, H as Host } from './index-479e1293.js';\nimport { A as ActionDefaultFilter } from './default-filters-50105e43.js';\n\nconst snkDefaultFilterCss = \".sc-snk-default-filter-h{display:flex;justify-content:flex-end}.default_container.sc-snk-default-filter{border:none;background:none;display:flex;align-items:center;gap:var(--space--3xs, 4px);font-family:var(--font-pattern);color:var(--title--primary, #2b3a54);font-size:var(--text--medium, 14px);padding:0;outline:none}.default_container.sc-snk-default-filter ez-icon.sc-snk-default-filter{cursor:pointer}.default_container.sc-snk-default-filter ez-icon.sc-snk-default-filter:hover{color:var(--color--primary-600)}.new_filter.sc-snk-default-filter{cursor:pointer;margin:0 var(--space--3xs, 4px)}.new_filter.sc-snk-default-filter:hover{color:var(--color--primary-600)}\";\n\nconst SnkDefaultFilter = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.actionSelected = createEvent(this, \"actionSelected\", 7);\n    this.OFFSET_HEIGHT = 5;\n    this.getMessage = undefined;\n    this.hasDefaultFilter = false;\n    this._opened = false;\n  }\n  repositionDropDown() {\n    if (!this._refIcon || !this._refDropdown) {\n      return;\n    }\n    const boundingIcon = this._refIcon.getBoundingClientRect();\n    const boundingDropDown = this._refDropdown.getBoundingClientRect();\n    this._refDropdown.style.top = (boundingIcon.y + boundingIcon.height + this.OFFSET_HEIGHT) + \"px\";\n    this._refDropdown.style.left = ((boundingIcon.x + (boundingIcon.width / 2)) - boundingDropDown.width) + \"px\";\n  }\n  toggleDropdown() {\n    this._opened = !this._opened;\n  }\n  closeDropdown(evt) {\n    const target = evt === null || evt === void 0 ? void 0 : evt.target;\n    if (!target) {\n      return;\n    }\n    if (!target.closest(\"#dropdown-parent-demo\")) {\n      this._opened = false;\n    }\n  }\n  buildItems() {\n    return ([\n      {\n        id: ActionDefaultFilter.EDIT,\n        label: this.getMessage('defaultFilter.edit'),\n      },\n      {\n        id: ActionDefaultFilter.REMOVE,\n        label: this.getMessage('defaultFilter.remove'),\n      },\n    ]);\n  }\n  onValueSelected({ detail: item }) {\n    this._opened = false;\n    this.actionSelected.emit(item.id);\n  }\n  openCreateNewFilter() {\n    this.actionSelected.emit(ActionDefaultFilter.CREATE);\n  }\n  componentDidRender() {\n    this.repositionDropDown();\n  }\n  componentWillLoad() {\n    this._items = this.buildItems();\n    document.removeEventListener(\"scroll\", this.repositionDropDown.bind(this));\n    document.addEventListener(\"scroll\", this.repositionDropDown.bind(this));\n  }\n  render() {\n    if (!this.hasDefaultFilter) {\n      return (h(Host, null, h(\"button\", { class: \"default_container new_filter\", onClick: this.openCreateNewFilter.bind(this) }, h(\"span\", null, this.getMessage('defaultFilter.create')))));\n    }\n    return (h(Host, null, h(\"button\", { class: \"default_container\", onClick: this.toggleDropdown.bind(this) }, h(\"span\", null, this.getMessage('defaultFilter.title')), h(\"ez-icon\", { ref: (ref) => this._refIcon = ref, iconName: 'dots-vertical' })), this._opened &&\n      h(\"ez-dropdown\", { ref: (ref) => this._refDropdown = ref, items: this._items, onEzClick: this.onValueSelected.bind(this), onEzOutsideClick: this.closeDropdown.bind(this) })));\n  }\n};\nSnkDefaultFilter.style = snkDefaultFilterCss;\n\nexport { SnkDefaultFilter as snk_default_filter };\n"],"names":["snkDefaultFilterCss","SnkDefaultFilter","hostRef","registerInstance","createEvent","boundingIcon","boundingDropDown","evt","target","ActionDefaultFilter","item","h","Host","ref"],"mappings":"wHAGA,MAAMA,EAAsB,8pBAEtBC,EAAmB,KAAM,CAC7B,YAAYC,EAAS,CACnBC,EAAiB,KAAMD,CAAO,EAC9B,KAAK,eAAiBE,EAAY,KAAM,iBAAkB,CAAC,EAC3D,KAAK,cAAgB,EACrB,KAAK,WAAa,OAClB,KAAK,iBAAmB,GACxB,KAAK,QAAU,EACnB,CACE,oBAAqB,CACnB,GAAI,CAAC,KAAK,UAAY,CAAC,KAAK,aAC1B,OAEF,MAAMC,EAAe,KAAK,SAAS,sBAAuB,EACpDC,EAAmB,KAAK,aAAa,sBAAuB,EAClE,KAAK,aAAa,MAAM,IAAOD,EAAa,EAAIA,EAAa,OAAS,KAAK,cAAiB,KAC5F,KAAK,aAAa,MAAM,KAASA,EAAa,EAAKA,EAAa,MAAQ,EAAMC,EAAiB,MAAS,IAC5G,CACE,gBAAiB,CACf,KAAK,QAAU,CAAC,KAAK,OACzB,CACE,cAAcC,EAAK,CACjB,MAAMC,EAASD,GAAQ,KAAyB,OAASA,EAAI,OACxDC,IAGAA,EAAO,QAAQ,uBAAuB,IACzC,KAAK,QAAU,IAErB,CACE,YAAa,CACX,MAAQ,CACN,CACE,GAAIC,EAAoB,KACxB,MAAO,KAAK,WAAW,oBAAoB,CAC5C,EACD,CACE,GAAIA,EAAoB,OACxB,MAAO,KAAK,WAAW,sBAAsB,CAC9C,CACF,CACL,CACE,gBAAgB,CAAE,OAAQC,GAAQ,CAChC,KAAK,QAAU,GACf,KAAK,eAAe,KAAKA,EAAK,EAAE,CACpC,CACE,qBAAsB,CACpB,KAAK,eAAe,KAAKD,EAAoB,MAAM,CACvD,CACE,oBAAqB,CACnB,KAAK,mBAAoB,CAC7B,CACE,mBAAoB,CAClB,KAAK,OAAS,KAAK,WAAY,EAC/B,SAAS,oBAAoB,SAAU,KAAK,mBAAmB,KAAK,IAAI,CAAC,EACzE,SAAS,iBAAiB,SAAU,KAAK,mBAAmB,KAAK,IAAI,CAAC,CAC1E,CACE,QAAS,CACP,OAAK,KAAK,iBAGFE,EAAEC,EAAM,KAAMD,EAAE,SAAU,CAAE,MAAO,oBAAqB,QAAS,KAAK,eAAe,KAAK,IAAI,CAAG,EAAEA,EAAE,OAAQ,KAAM,KAAK,WAAW,qBAAqB,CAAC,EAAGA,EAAE,UAAW,CAAE,IAAME,GAAQ,KAAK,SAAWA,EAAK,SAAU,eAAe,CAAE,CAAC,EAAG,KAAK,SACxPF,EAAE,cAAe,CAAE,IAAME,GAAQ,KAAK,aAAeA,EAAK,MAAO,KAAK,OAAQ,UAAW,KAAK,gBAAgB,KAAK,IAAI,EAAG,iBAAkB,KAAK,cAAc,KAAK,IAAI,CAAG,CAAA,CAAC,EAHpKF,EAAEC,EAAM,KAAMD,EAAE,SAAU,CAAE,MAAO,+BAAgC,QAAS,KAAK,oBAAoB,KAAK,IAAI,GAAKA,EAAE,OAAQ,KAAM,KAAK,WAAW,sBAAsB,CAAC,CAAC,CAAC,CAI1L,CACA,EACAV,EAAiB,MAAQD","x_google_ignoreList":[0]}
{"version":3,"file":"snk-filter-advanced-mode_2.entry-D2dKysYl.js","sources":["../../node_modules/@sankhyalabs/sankhyablocks/dist/esm/snk-filter-advanced-mode_2.entry.js"],"sourcesContent":["import { r as registerInstance, c as createEvent, h, H as Host } from './index-479e1293.js';\nimport { P as PersonalizedFilterUtils } from './PersonalizedFilterUtils-2db38ff2.js';\nimport '@sankhyalabs/core';\nimport './filter-item-type.enum-d45e026f.js';\nimport './index-8acbae97.js';\n\nconst snkFilterAdvancedModeCss = \".sc-snk-filter-advanced-mode-h{display:block;--snk-personalized-filter--title--color:var(--title--primary, #2B3A54)}.snk-filter-advanced-mode__title.sc-snk-filter-advanced-mode{color:var(--snk-personalized-filter--title--color)}\";\n\nconst SnkFilterAdvancedMode = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.ezExpressionChange = createEvent(this, \"ezExpressionChange\", 7);\n    this.filterAssistent = undefined;\n    this.application = undefined;\n  }\n  getMessage(key, params) {\n    return this.application.messagesBuilder.getMessage(key, params);\n  }\n  render() {\n    var _a;\n    return (h(Host, null, h(\"span\", { class: \"ez-title ez-title--small ez-padding-bottom--small snk-filter-advanced-mode__title\" }, this.getMessage(\"snkPersonalizedFilter.info.applyExpression\")), h(\"ez-text-area\", { rows: 9, label: this.getMessage(\"snkPersonalizedFilter.info.labelExpression\"), value: (_a = this.filterAssistent) === null || _a === void 0 ? void 0 : _a.expression, onEzChange: (evt) => this.ezExpressionChange.emit(evt.detail) })));\n  }\n};\nSnkFilterAdvancedMode.style = snkFilterAdvancedModeCss;\n\nconst snkFilterAssistentModeCss = \".sc-snk-filter-assistent-mode-h{display:flex;flex-direction:column;height:100%;--text-area--font-family:var(--font-pattern, Arial);--text-area__label--floating--top:var(--space--small, 6px);--snk-filter-assistent-mode__container--border-radius:var(--border--radius-medium, 12px);--snk-filter-assistent-mode__container--background:var(--background--medium, #f0f3f7);--snk-filter-assistent-mode__container--margin:var(--space--small, 6px) var(--space--medium, 12px)}.ez-box__container--external.sc-snk-filter-assistent-mode{height:100px;width:100%;overflow-y:auto;background-color:var(--snk-filter-assistent-mode__container--background);border-radius:var(--snk-filter-assistent-mode__container--border-radius)}.ez-box__container--internal.sc-snk-filter-assistent-mode{margin:var(--snk-filter-assistent-mode__container--margin)}.ez-box__container--title.sc-snk-filter-assistent-mode{display:block;user-select:none;font-family:var(--text-area--font-family);font-size:var(--text--extra-small);color:var(--title--primary);top:var(--text-area__label--floating--top)}.ez-box__container--expression.sc-snk-filter-assistent-mode{display:block;font-family:var(--text-area--font-family);font-size:var(--text--medium);color:var(--title--primary);top:var(--text-area__label--floating--top)}.snk-personalized-filter__expression-input--line.sc-snk-filter-assistent-mode{width:100%;height:2px;background-color:var(--snk-personalized-filter--background-color-line);margin-top:var(--snk-personalized-filter--margin-line);margin-bottom:var(--snk-personalized-filter--margin-line)}\";\n\nconst SnkFilterAssistentMode = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.ezChangeFilter = createEvent(this, \"ezChangeFilter\", 7);\n    this.filterAssistent = undefined;\n    this.messagesBuilder = undefined;\n    this.filterId = undefined;\n    this.entityUri = undefined;\n    this.application = undefined;\n    this.isDefaultFilter = false;\n  }\n  getMessage(key, params) {\n    return this.application.messagesBuilder.getMessage(key, params);\n  }\n  async handleFilterGroupChange() {\n    const assistent = await this._mainExpressionGroup.getExpressionGroup();\n    this.filterAssistent = Object.assign(Object.assign({}, this.filterAssistent), { assistent });\n    this.filterAssistent.parameters = PersonalizedFilterUtils.buildVariableParameters(this.filterAssistent.assistent);\n    this.filterAssistent.expression = PersonalizedFilterUtils.buildGroupExpression(this.filterAssistent.assistent);\n    this.ezChangeFilter.emit(this.filterAssistent);\n  }\n  render() {\n    var _a, _b;\n    return (h(Host, null, h(\"div\", { class: \"ez-padding-top--small snk-personalized-filter__group\" }, h(\"snk-expression-group\", { ref: (el) => this._mainExpressionGroup = el, group: (_a = this.filterAssistent) === null || _a === void 0 ? void 0 : _a.assistent, messagesBuilder: this.messagesBuilder, onEzFilterGroupChange: this.handleFilterGroupChange.bind(this), filterId: this.filterId, entityURI: this.entityUri, isDefaultFilter: this.isDefaultFilter })), h(\"div\", { class: \"ez-margin-top--auto\" }, h(\"div\", { class: \"snk-personalized-filter__expression-input--line\" }), h(\"ez-collapsible-box\", { label: this.getMessage(\"snkPersonalizedFilter.info.titleCollapsible\"), headerSize: \"medium\", value: true }, h(\"div\", { class: \"ez-box\" }, h(\"div\", { class: \"ez-box__container--external\" }, h(\"div\", { class: \"ez-box__container--internal\" }, h(\"span\", { class: \"ez-box__container--title\" }, this.getMessage(\"snkPersonalizedFilter.info.labelExpression\")), h(\"span\", { class: \"ez-box__container--expression\" }, (_b = this.filterAssistent) === null || _b === void 0 ? void 0 : _b.expression))))))));\n  }\n};\nSnkFilterAssistentMode.style = snkFilterAssistentModeCss;\n\nexport { SnkFilterAdvancedMode as snk_filter_advanced_mode, SnkFilterAssistentMode as snk_filter_assistent_mode };\n"],"names":["snkFilterAdvancedModeCss","SnkFilterAdvancedMode","hostRef","registerInstance","createEvent","key","params","_a","h","Host","evt","snkFilterAssistentModeCss","SnkFilterAssistentMode","assistent","PersonalizedFilterUtils","_b","el"],"mappings":"0NAMA,MAAMA,EAA2B,uOAE3BC,EAAwB,KAAM,CAClC,YAAYC,EAAS,CACnBC,EAAiB,KAAMD,CAAO,EAC9B,KAAK,mBAAqBE,EAAY,KAAM,qBAAsB,CAAC,EACnE,KAAK,gBAAkB,OACvB,KAAK,YAAc,MACvB,CACE,WAAWC,EAAKC,EAAQ,CACtB,OAAO,KAAK,YAAY,gBAAgB,WAAWD,EAAKC,CAAM,CAClE,CACE,QAAS,CACP,IAAIC,EACJ,OAAQC,EAAEC,EAAM,KAAMD,EAAE,OAAQ,CAAE,MAAO,mFAAmF,EAAI,KAAK,WAAW,4CAA4C,CAAC,EAAGA,EAAE,eAAgB,CAAE,KAAM,EAAG,MAAO,KAAK,WAAW,4CAA4C,EAAG,OAAQD,EAAK,KAAK,mBAAqB,MAAQA,IAAO,OAAS,OAASA,EAAG,WAAY,WAAaG,GAAQ,KAAK,mBAAmB,KAAKA,EAAI,MAAM,CAAC,CAAE,CAAC,CAC9b,CACA,EACAT,EAAsB,MAAQD,EAE9B,MAAMW,EAA4B,2hDAE5BC,EAAyB,KAAM,CACnC,YAAYV,EAAS,CACnBC,EAAiB,KAAMD,CAAO,EAC9B,KAAK,eAAiBE,EAAY,KAAM,iBAAkB,CAAC,EAC3D,KAAK,gBAAkB,OACvB,KAAK,gBAAkB,OACvB,KAAK,SAAW,OAChB,KAAK,UAAY,OACjB,KAAK,YAAc,OACnB,KAAK,gBAAkB,EAC3B,CACE,WAAWC,EAAKC,EAAQ,CACtB,OAAO,KAAK,YAAY,gBAAgB,WAAWD,EAAKC,CAAM,CAClE,CACE,MAAM,yBAA0B,CAC9B,MAAMO,EAAY,MAAM,KAAK,qBAAqB,mBAAoB,EACtE,KAAK,gBAAkB,OAAO,OAAO,OAAO,OAAO,CAAE,EAAE,KAAK,eAAe,EAAG,CAAE,UAAAA,CAAS,CAAE,EAC3F,KAAK,gBAAgB,WAAaC,EAAwB,wBAAwB,KAAK,gBAAgB,SAAS,EAChH,KAAK,gBAAgB,WAAaA,EAAwB,qBAAqB,KAAK,gBAAgB,SAAS,EAC7G,KAAK,eAAe,KAAK,KAAK,eAAe,CACjD,CACE,QAAS,CACP,IAAIP,EAAIQ,EACR,OAAQP,EAAEC,EAAM,KAAMD,EAAE,MAAO,CAAE,MAAO,sDAAsD,EAAIA,EAAE,uBAAwB,CAAE,IAAMQ,GAAO,KAAK,qBAAuBA,EAAI,OAAQT,EAAK,KAAK,mBAAqB,MAAQA,IAAO,OAAS,OAASA,EAAG,UAAW,gBAAiB,KAAK,gBAAiB,sBAAuB,KAAK,wBAAwB,KAAK,IAAI,EAAG,SAAU,KAAK,SAAU,UAAW,KAAK,UAAW,gBAAiB,KAAK,gBAAiB,CAAC,EAAGC,EAAE,MAAO,CAAE,MAAO,qBAAuB,EAAEA,EAAE,MAAO,CAAE,MAAO,iDAAmD,CAAA,EAAGA,EAAE,qBAAsB,CAAE,MAAO,KAAK,WAAW,6CAA6C,EAAG,WAAY,SAAU,MAAO,EAAM,EAAEA,EAAE,MAAO,CAAE,MAAO,QAAU,EAAEA,EAAE,MAAO,CAAE,MAAO,6BAA6B,EAAIA,EAAE,MAAO,CAAE,MAAO,+BAAiCA,EAAE,OAAQ,CAAE,MAAO,0BAA4B,EAAE,KAAK,WAAW,4CAA4C,CAAC,EAAGA,EAAE,OAAQ,CAAE,MAAO,kCAAoCO,EAAK,KAAK,mBAAqB,MAAQA,IAAO,OAAS,OAASA,EAAG,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CACnkC,CACA,EACAH,EAAuB,MAAQD","x_google_ignoreList":[0]}
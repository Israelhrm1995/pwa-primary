{"version":3,"file":"snk-filter-period.entry-BabVuFRP.js","sources":["../../node_modules/@sankhyalabs/sankhyablocks/dist/esm/snk-filter-period.entry.js"],"sourcesContent":["import { r as registerInstance, c as createEvent, h, g as getElement } from './index-479e1293.js';\nimport { ElementIDUtils } from '@sankhyalabs/core';\nimport { F as FilterItemType } from './filter-item-type.enum-d45e026f.js';\nimport { E as EPresentationMode } from './presentationMode-783bbf9d.js';\n\nconst SnkFilterPeriod = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.valueChanged = createEvent(this, \"valueChanged\", 7);\n    this._startDateLabel = 'Inicial';\n    this._endDateLabel = 'Final';\n    this.config = undefined;\n    this.getMessage = undefined;\n    this.value = undefined;\n    this.presentationMode = EPresentationMode.CHIP;\n  }\n  /**\n   * Emitido quando acontece a alteração de valor do componente snk-filter-period\n   */\n  ezChangeListener() {\n    const start = this._startDate.value;\n    const end = this._endDate.value;\n    this.value = (start || end ? { start, end } : undefined);\n    this.valueChanged.emit(this.value);\n  }\n  componentDidLoad() {\n    if (this._element) {\n      ElementIDUtils.addIDInfo(this._element, 'filterContentEditor');\n    }\n  }\n  getDate(prop) {\n    const objValue = this.value ? this.value[prop] : null;\n    if (objValue instanceof Date) {\n      return objValue;\n    }\n    if (typeof objValue === \"string\") {\n      let date = new Date(objValue);\n      date.setMinutes(date.getMinutes() + date.getTimezoneOffset());\n      return date;\n    }\n    return null;\n  }\n  /**\n   * Exibe o componente snk-filter-period\n   */\n  async show() {\n    this._startDate.setFocus();\n  }\n  buildLabel() {\n    if (this.presentationMode === EPresentationMode.CHIP) {\n      return h(\"label\", { class: \"ez-text ez-text--medium ez-text--primary ez-margin--medium\" }, \"at\\u00E9\");\n    }\n  }\n  componentWillLoad() {\n    if (this.getMessage) {\n      this._startDateLabel = this.getMessage('snkFilterBar.labelStart');\n      this._endDateLabel = this.getMessage('snkFilterBar.labelEnd');\n    }\n  }\n  render() {\n    if (!this.config || this.config.type !== FilterItemType.PERIOD) {\n      return undefined;\n    }\n    return (h(\"div\", { class: \"ez-col ez-col--nowrap\" }, h(\"ez-date-input\", { id: `${this.config.id}_start`, class: this.presentationMode === EPresentationMode.MODAL ? 'ez-padding--small' : '', label: this._startDateLabel, ref: ref => this._startDate = ref, value: this.getDate(\"start\") }), this.buildLabel(), h(\"ez-date-input\", { id: `${this.config.id}_end`, class: this.presentationMode === EPresentationMode.MODAL ? 'ez-padding--small' : '', label: this._endDateLabel, ref: ref => this._endDate = ref, value: this.getDate(\"end\") })));\n  }\n  get _element() { return getElement(this); }\n};\n\nexport { SnkFilterPeriod as snk_filter_period };\n"],"names":["SnkFilterPeriod","hostRef","registerInstance","createEvent","EPresentationMode","start","end","ElementIDUtils","prop","objValue","date","h","FilterItemType","ref","getElement"],"mappings":"mPAKK,MAACA,EAAkB,KAAM,CAC5B,YAAYC,EAAS,CACnBC,EAAiB,KAAMD,CAAO,EAC9B,KAAK,aAAeE,EAAY,KAAM,eAAgB,CAAC,EACvD,KAAK,gBAAkB,UACvB,KAAK,cAAgB,QACrB,KAAK,OAAS,OACd,KAAK,WAAa,OAClB,KAAK,MAAQ,OACb,KAAK,iBAAmBC,EAAkB,IAC9C,CAIE,kBAAmB,CACjB,MAAMC,EAAQ,KAAK,WAAW,MACxBC,EAAM,KAAK,SAAS,MAC1B,KAAK,MAASD,GAASC,EAAM,CAAE,MAAAD,EAAO,IAAAC,CAAK,EAAG,OAC9C,KAAK,aAAa,KAAK,KAAK,KAAK,CACrC,CACE,kBAAmB,CACb,KAAK,UACPC,EAAe,UAAU,KAAK,SAAU,qBAAqB,CAEnE,CACE,QAAQC,EAAM,CACZ,MAAMC,EAAW,KAAK,MAAQ,KAAK,MAAMD,CAAI,EAAI,KACjD,GAAIC,aAAoB,KACtB,OAAOA,EAET,GAAI,OAAOA,GAAa,SAAU,CAChC,IAAIC,EAAO,IAAI,KAAKD,CAAQ,EAC5B,OAAAC,EAAK,WAAWA,EAAK,WAAU,EAAKA,EAAK,mBAAmB,EACrDA,CACb,CACI,OAAO,IACX,CAIE,MAAM,MAAO,CACX,KAAK,WAAW,SAAU,CAC9B,CACE,YAAa,CACX,GAAI,KAAK,mBAAqBN,EAAkB,KAC9C,OAAOO,EAAE,QAAS,CAAE,MAAO,4DAA4D,EAAI,KAAU,CAE3G,CACE,mBAAoB,CACd,KAAK,aACP,KAAK,gBAAkB,KAAK,WAAW,yBAAyB,EAChE,KAAK,cAAgB,KAAK,WAAW,uBAAuB,EAElE,CACE,QAAS,CACP,GAAI,GAAC,KAAK,QAAU,KAAK,OAAO,OAASC,EAAe,QAGxD,OAAQD,EAAE,MAAO,CAAE,MAAO,uBAAuB,EAAIA,EAAE,gBAAiB,CAAE,GAAI,GAAG,KAAK,OAAO,EAAE,SAAU,MAAO,KAAK,mBAAqBP,EAAkB,MAAQ,oBAAsB,GAAI,MAAO,KAAK,gBAAiB,IAAKS,GAAO,KAAK,WAAaA,EAAK,MAAO,KAAK,QAAQ,OAAO,CAAC,CAAE,EAAG,KAAK,WAAU,EAAIF,EAAE,gBAAiB,CAAE,GAAI,GAAG,KAAK,OAAO,EAAE,OAAQ,MAAO,KAAK,mBAAqBP,EAAkB,MAAQ,oBAAsB,GAAI,MAAO,KAAK,cAAe,IAAKS,GAAO,KAAK,SAAWA,EAAK,MAAO,KAAK,QAAQ,KAAK,CAAC,CAAE,CAAC,CACthB,CACE,IAAI,UAAW,CAAE,OAAOC,EAAW,IAAI,CAAE,CAC3C","x_google_ignoreList":[0]}
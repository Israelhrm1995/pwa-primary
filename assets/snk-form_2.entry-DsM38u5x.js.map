{"version":3,"file":"snk-form_2.entry-DsM38u5x.js","sources":["../../node_modules/@sankhyalabs/sankhyablocks/dist/esm/snk-form_2.entry.js"],"sourcesContent":["import { r as registerInstance, c as createEvent, h, g as getElement, H as Host } from './index-479e1293.js';\nimport { ElementIDUtils, ObjectUtils, ApplicationContext } from '@sankhyalabs/core';\nimport { S as SnkFormConfigManager } from './SnkFormConfigManager-c1cd9dcd.js';\nimport { R as ResourceIDUtils } from './ResourceIDUtils-a114189a.js';\nimport { buildFormConfigFromDataUnit } from '@sankhyalabs/ezui/dist/collection/utils/form';\nimport { b as buildGuides, a as buildGuidesMap, g as getFieldsToSave, u as updateTabInFieldsFromGroupList, c as buildNewGuideName } from './FormConfigHelper-49fe72ca.js';\nimport { a as TAB_NAMES, G as GROUP_NAMES } from './constants-7b422de0.js';\nimport { ApplicationUtils } from '@sankhyalabs/ezui/dist/collection/utils';\nimport { U as UserConfigType } from './form-config-fetcher-e623539b.js';\nimport './ConfigStorage-cf578768.js';\nimport './DataFetcher-db08cad0.js';\nimport './PrintUtils-3e4ff0f5.js';\nimport '@sankhyalabs/core/dist/dataunit/metadata/UnitMetadata';\nimport './filter-item-type.enum-d45e026f.js';\n\nconst snkFormCss = \".sc-snk-form-h{--snk-form__header--min-height:94px;display:block}.snk-form__form--hidden.sc-snk-form{display:none}\";\n\nconst SnkForm = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.exit = createEvent(this, \"exit\", 7);\n    this.actionClick = createEvent(this, \"actionClick\", 7);\n    this.formItemsReady = createEvent(this, \"formItemsReady\", 7);\n    this._customEditors = new Map();\n    this._dataUnit = undefined;\n    this._dataState = undefined;\n    this._showFormConfig = false;\n    this._configManager = undefined;\n    this.configName = undefined;\n    this.recordsValidator = undefined;\n    this.messagesBuilder = undefined;\n    this.formLegacyConfigName = undefined;\n    this.resourceID = undefined;\n  }\n  /**\n   * Exibe a janela de configurações do formulário.\n   */\n  async showConfig() {\n    this._showFormConfig = true;\n  }\n  /**\n   * Fecha a janela de configurações do formulário.\n   */\n  async hideConfig() {\n    this._showFormConfig = false;\n  }\n  /**\n   * Registra um editor customizado para campos da grade e formulário.\n   */\n  async addCustomEditor(fieldName, customEditor) {\n    if (this._form) {\n      this._form.addCustomEditor(fieldName, customEditor);\n      return;\n    }\n    const newCustomEditors = new Map(this._customEditors);\n    newCustomEditors.set(fieldName, customEditor);\n    this._customEditors = newCustomEditors;\n  }\n  /**\n   * Altera/adiciona uma propriedade nos metadados do campo.\n   */\n  async setFieldProp(fieldName, propName, value) {\n    await this._form.setFieldProp(fieldName, propName, value);\n  }\n  closeConfig() {\n    this.hideConfig();\n  }\n  dataunitReady() {\n    const dataInfo = { dataUnit: this._dataUnit };\n    ElementIDUtils.addIDInfo(this._element, null, dataInfo);\n  }\n  setCustomEditors() {\n    if (!this._form) {\n      return;\n    }\n    for (const [fieldName, customEditor] of this._customEditors) {\n      this._form.addCustomEditor(fieldName, customEditor);\n      this._customEditors.delete(fieldName);\n    }\n  }\n  async componentDidRender() {\n    this.setCustomEditors();\n  }\n  async componentWillLoad() {\n    let parent = this._element.parentElement;\n    while (parent) {\n      if (parent.tagName.toUpperCase() === \"SNK-DATA-UNIT\") {\n        this._snkDataUnit = parent;\n        this._dataUnit = this._snkDataUnit.dataUnit;\n        this._dataState = this._snkDataUnit.dataState;\n        if (this._dataUnit) {\n          this.dataunitReady();\n        }\n        else {\n          this._snkDataUnit.addEventListener(\"dataUnitReady\", (evt) => {\n            this._dataUnit = evt.detail;\n          });\n        }\n        this._snkDataUnit.addEventListener(\"dataStateChange\", this.handleDataStateChange.bind(this));\n        break;\n      }\n      parent = parent.parentElement;\n    }\n    if (this.resourceID == undefined) {\n      this.resourceID = await ResourceIDUtils.getResourceID();\n    }\n    this._configManager = new SnkFormConfigManager(this.configName, this.resourceID, undefined, this._dataUnit);\n    this.addFormLegacyConfig();\n    await this._configManager.loadConfig();\n  }\n  async handleDataStateChange(evt) {\n    var _a;\n    this._dataState = evt.detail;\n    const fieldsWithRmPrecision = await this._snkDataUnit.getFieldsWithRmPrecision();\n    for (const field of fieldsWithRmPrecision || []) {\n      if (!field) {\n        continue;\n      }\n      const rmPrecision = (_a = this._dataState.rowMetadata) === null || _a === void 0 ? void 0 : _a.getProp('rm_precision', field);\n      if (!rmPrecision && rmPrecision !== 0) {\n        continue;\n      }\n      await this.setFieldProp(field, 'precision', rmPrecision);\n      await this.setFieldProp(field, 'prettyPrecision', rmPrecision);\n    }\n  }\n  addFormLegacyConfig() {\n    if (this.formLegacyConfigName) {\n      this._configManager.addFormLegacyConfig(this.formLegacyConfigName);\n    }\n  }\n  render() {\n    if (!this._dataUnit || !this._dataState) {\n      return undefined;\n    }\n    return (h(\"section\", null, h(\"div\", { class: \"ez-row\" }, h(\"div\", { class: \"ez-col ez-col--sd-12\" }, h(\"ez-form\", { ref: (ref) => this._form = ref, key: \"ezForm\" + this._snkDataUnit.entityName, \"data-element-id\": \"embedded\", dataUnit: this._dataUnit, config: this._configManager.getConfig(this._dataUnit), recordsValidator: this.recordsValidator, class: this._showFormConfig ? 'snk-form__form--hidden' : '' }), this._showFormConfig &&\n      h(\"snk-form-config\", { messagesBuilder: this.messagesBuilder, dataUnit: this._dataUnit, configManager: this._configManager, onConfigClose: () => this.closeConfig() })))));\n  }\n  get _element() { return getElement(this); }\n};\nSnkForm.style = snkFormCss;\n\nconst snkFormConfigCss = \".sc-snk-form-config-h{display:flex;flex-direction:column;height:100vh;width:100vw;font-family:var(--font-pattern, \\\"Roboto\\\");background:white;color:#2b3a54;--snk-form-config-container-height:calc(100vh - 95px);outline:none}.sidebarNavigator__container.sc-snk-form-config{height:var(--snk-form-config-container-height);gap:20px;align-items:flex-start}.guide-header.sc-snk-form-config{display:flex;width:100%;padding-bottom:12px;border-bottom:1px solid #dce0e8;height:30px;font-weight:500;font-size:16px}\";\n\nconst SnkFormConfig = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.configClose = createEvent(this, \"configClose\", 7);\n    this.configChange = createEvent(this, \"configChange\", 7);\n    this.guidesMap = new Map();\n    this.availableFields = [];\n    this.guidesList = [];\n    this.groupsList = [];\n    this.selectedGuide = undefined;\n    this._formConfig = {};\n    this.configOptions = [];\n    this.originalConfigSelected = undefined;\n    this.configSelected = undefined;\n    this.hasChanges = false;\n    this.optionConfigChanged = false;\n    this.dataUnit = undefined;\n    this.configManager = undefined;\n    this.ignoreReadOnlyFormFields = undefined;\n    this.messagesBuilder = undefined;\n  }\n  handleFieldConfigChanged() {\n    this.hasChanges = true;\n  }\n  async handleFormConfigOptionSelected({ detail }) {\n    this.configSelected = detail;\n    await this.loadConfigByUser();\n    this.selectedGuide = undefined;\n    this.optionConfigChanged = !ObjectUtils.equals(this.configSelected, this.originalConfigSelected);\n    if (this.configSelected.origin === UserConfigType.DEFAULT) {\n      this.hasChanges = false;\n    }\n  }\n  async handleAddFieldToGuide({ detail: fieldItem }) {\n    var _a;\n    if (!this.selectedGuide) {\n      this.showNoGuideSelectedDialog();\n      return;\n    }\n    this.availableFields = [...this.availableFields.filter(f => f.name !== fieldItem.name)];\n    await ((_a = this.refFieldsLayout) === null || _a === void 0 ? void 0 : _a.addFieldToLayout(fieldItem));\n  }\n  async handleSetFieldAsAvailable({ detail }) {\n    const hasField = this.availableFields.some(f => f.name === detail.name);\n    if (hasField)\n      return;\n    this.availableFields = [...this.availableFields, detail];\n  }\n  async handleRemoveFieldFromAvailable({ detail }) {\n    this.availableFields = this.availableFields.filter(f => f.name !== detail.name);\n  }\n  observeSelectedGuide(guide) {\n    var _a;\n    const guideGroups = (_a = this.guidesMap.get(guide === null || guide === void 0 ? void 0 : guide.name)) !== null && _a !== void 0 ? _a : [];\n    this.groupsList = [...guideGroups];\n  }\n  observeConfigManager() {\n    this.loadFormConfig();\n  }\n  showNoGuideSelectedDialog() {\n    const title = this.getMessage('snkFormConfig.noGuideSelected.title');\n    const message = this.getMessage('snkFormConfig.noGuideSelected.message');\n    ApplicationUtils.alert(title, message);\n  }\n  /**\n   * Conforme mecanismo de mensagens, é possível customizar as mensagens dos blocos de construção\n   * através de um pequeno modulo na estrutura da aplicação:\n   * - Criar um arquivo no seguinte caminho: /messages/appmessages.msg.js.\n   * Para conhecer os detalhes do módulo, vide o arquivo neste projeto \"/src/lib/message/resources/snk-form.msg.ts\"\n   */\n  getMessage(key, params) {\n    return this.messagesBuilder.getMessage(key, params);\n  }\n  async initializeUserConfig() {\n    if (this.configManager == undefined)\n      return;\n    try {\n      const userConfig = await this.configManager.fetchUserAvailableConfigs();\n      this.configOptions = userConfig;\n      const isDefault = this._formConfig != undefined ? this._formConfig.defaultConfiguration : true;\n      const origin = (isDefault ? UserConfigType.DEFAULT : UserConfigType.USER);\n      this.configSelected = userConfig.find((config) => config.origin === origin);\n      this.originalConfigSelected = userConfig.find((config) => config.origin === origin);\n    }\n    catch (error) {\n      console.error('Falha ao buscar configurações de formulário definida pelo usuário.');\n      console.error(error);\n    }\n  }\n  async loadConfigByUser() {\n    if (!this.configManager || !this.configSelected)\n      return;\n    if (this.isConfigDefaultSelected()) {\n      await this.handleLoadDefaultConfig();\n    }\n    else {\n      this.loadFormConfig();\n    }\n  }\n  async handleLoadDefaultConfig() {\n    const defaultConfig = await this.configManager.fetchDefaultConfig();\n    if (defaultConfig) {\n      this.loadFormConfig(defaultConfig);\n      return;\n    }\n    const emptyConfig = this.configManager.getEmptyConfig();\n    if (emptyConfig) {\n      this.loadFormConfig(emptyConfig);\n    }\n  }\n  isConfigDefaultSelected() {\n    return this.configSelected.origin === UserConfigType.DEFAULT;\n  }\n  loadFormConfig(config) {\n    this._formConfig = config ? config : this.getConfig();\n    this.loadGuides();\n    this.initializeAvailableFields();\n  }\n  initializeAvailableFields() {\n    var _a;\n    if (((_a = this._formConfig) === null || _a === void 0 ? void 0 : _a.fields) == undefined)\n      return;\n    const fieldsFormConfig = [...this._formConfig.fields];\n    const fieldsMetadata = this.dataUnit.metadata.fields;\n    this.availableFields = fieldsMetadata.filter(({ name: fieldName, visible: fieldVisible, properties }) => {\n      const hasCfg = fieldsFormConfig.some(({ name: fieldFormName }) => fieldFormName === fieldName);\n      /**\n       * Quando a visibilidade de um campo é alterada pelo dataunit, mas o desenvolvedor deseja que o mesmo continue\n       * sendo apresentado no configurador, precisamos fazer essa tratativa, verificando se o campo não tem configuração\n       */\n      if (!hasCfg && properties.visibleOnConfig === true && !fieldVisible)\n        return properties.visibleOnConfig;\n      return fieldVisible === true && hasCfg === false;\n    });\n  }\n  loadGuides() {\n    var _a;\n    this.guidesList = [...buildGuides(this._formConfig, this.getMessage('snkFormConfig.form.mainArea'))];\n    this.guidesMap = buildGuidesMap((_a = this._formConfig) === null || _a === void 0 ? void 0 : _a.fields, this.guidesList, this.dataUnit, this.getMessage('snkFormConfig.form.tabGeneral'));\n  }\n  getConfig() {\n    let config = this.configManager.getConfig(this.dataUnit, false);\n    if (config.fields && config.fields.length === 0) {\n      config = undefined;\n    }\n    if (config == undefined) {\n      config = buildFormConfigFromDataUnit(this.dataUnit);\n    }\n    return ObjectUtils.copy(config);\n  }\n  handleSelectGuide({ detail: selectedGuide }) {\n    this.selectedGuide = selectedGuide;\n  }\n  handleLayoutChanged({ detail: newGroupList }) {\n    this.hasChanges = true;\n    this.groupsList = [...newGroupList];\n    this.guidesMap.set(this.selectedGuide.name, [...newGroupList]);\n  }\n  getIsDefaultConfig() {\n    var _a;\n    const optionSelected = (_a = this.configSelected) === null || _a === void 0 ? void 0 : _a.origin;\n    return optionSelected === UserConfigType.DEFAULT\n      && this.optionConfigChanged === true\n      && this.hasChanges === false;\n  }\n  getTabsToSave() {\n    return this.guidesList.map(tab => {\n      return {\n        name: tab.name,\n        label: tab.name === TAB_NAMES.main ? tab.name : tab.label,\n        order: tab.name === TAB_NAMES.main ? 0 : tab.order,\n        visible: tab.visible,\n      };\n    });\n  }\n  async handleSaveConfig() {\n    var _a;\n    const savedConfig = await this.configManager.saveConfig(this.buildConfigToSave());\n    this.configSelected = (_a = this.configOptions) === null || _a === void 0 ? void 0 : _a.find((config) => {\n      return config.origin === (this.hasChanges ? UserConfigType.USER : UserConfigType.DEFAULT);\n    });\n    this.originalConfigSelected = this.configSelected;\n    this.hasChanges = false;\n    this.optionConfigChanged = false;\n    ApplicationUtils.info(this.getMessage('snkFormConfig.info.successfullyConfigSaved'), { iconName: 'check' });\n    this.configChange.emit(savedConfig);\n  }\n  buildConfigToSave() {\n    if (this.getIsDefaultConfig()) {\n      const formConfig = this._formConfig;\n      formConfig.defaultConfiguration = true;\n      return formConfig;\n    }\n    const formConfig = ObjectUtils.copy(this._formConfig);\n    formConfig.tabs = this.getTabsToSave();\n    formConfig.fields = getFieldsToSave(this.guidesMap);\n    formConfig.defaultConfiguration = false;\n    return formConfig;\n  }\n  handleAvailableFieldListChanged({ detail: updatedList }) {\n    this.availableFields = [...updatedList];\n  }\n  handleSetFieldListAsAvailable({ detail: updatedList }) {\n    this.availableFields = [...this.availableFields, ...updatedList];\n  }\n  handleGuideDeleted({ detail: guide }) {\n    var _a, _b;\n    const guideName = guide.name;\n    const guideGroups = (_a = this.guidesMap.get(guideName)) !== null && _a !== void 0 ? _a : [];\n    const fieldsToAvailable = [];\n    guideGroups.forEach(group => fieldsToAvailable.push(...group.fields));\n    this.availableFields = [...this.availableFields, ...fieldsToAvailable];\n    this.guidesList = [...this.guidesList.filter(g => g.name !== guideName)];\n    this.guidesMap.delete(guideName);\n    if (((_b = this.selectedGuide) === null || _b === void 0 ? void 0 : _b.name) === guideName) {\n      this.selectedGuide = undefined;\n    }\n    this.hasChanges = true;\n  }\n  handleGuideListChanged({ detail: updatedList }) {\n    this.hasChanges = true;\n    this.guidesList = [...updatedList];\n  }\n  handleGuideRenamed({ detail: updatedName }) {\n    var _a;\n    const guideGroups = (_a = this.guidesMap.get(this.selectedGuide.name)) !== null && _a !== void 0 ? _a : [];\n    const updatedGroups = updateTabInFieldsFromGroupList(guideGroups, updatedName);\n    this.guidesMap.delete(this.selectedGuide.name);\n    this.guidesMap.set(updatedName, updatedGroups);\n    const updatedGuide = {\n      name: updatedName,\n      label: updatedName,\n      visible: this.selectedGuide.visible,\n      order: this.selectedGuide.order,\n    };\n    this.guidesList = [...this.guidesList.map(guide => (guide.name === this.selectedGuide.name) ? updatedGuide : guide)];\n    this.groupsList = [...updatedGroups];\n    this.selectedGuide = updatedGuide;\n    this.hasChanges = true;\n  }\n  handleCreateNewGuide() {\n    const newGuideName = buildNewGuideName(this.guidesList);\n    const newGuide = {\n      name: newGuideName,\n      label: newGuideName,\n      visible: true,\n      order: this.guidesList.length + 1,\n    };\n    const newGuideFixedGroup = {\n      name: GROUP_NAMES.noGroup,\n      fields: [],\n    };\n    this.guidesList = [...this.guidesList, newGuide];\n    this.guidesMap.set(newGuideName, [newGuideFixedGroup]);\n    this.selectedGuide = newGuide;\n    this.hasChanges = true;\n  }\n  getGuideNames() {\n    return [\n      ...this.guidesList.map(g => g.name.toLowerCase()),\n      this.getMessage('snkFormConfig.form.mainArea').toLowerCase(),\n    ];\n  }\n  async componentWillRender() {\n    if (this.messagesBuilder == undefined) {\n      const application = ApplicationContext.getContextValue('__SNK__APPLICATION__');\n      this.messagesBuilder = application.messagesBuilder;\n    }\n  }\n  async componentWillLoad() {\n    this.loadFormConfig();\n    await this.initializeUserConfig();\n  }\n  render() {\n    return (h(Host, null, h(\"config-header\", { configOptions: this.configOptions, selectedConfig: this.configSelected, messagesBuilder: this.messagesBuilder, hasChanges: this.hasChanges, optionConfigChanged: this.optionConfigChanged, onConfigClose: () => this.configClose.emit(), onSaveConfig: async () => await this.handleSaveConfig() }), h(\"div\", { class: \"ez-padding--medium\" }, h(\"div\", { class: \"ez-flex sidebarNavigator__container\" }, h(\"guides-configurator\", { messagesBuilder: this.messagesBuilder, guidesList: this.guidesList, selectedGuide: this.selectedGuide, onGuideSelected: this.handleSelectGuide.bind(this), onGuideListChanged: this.handleGuideListChanged.bind(this), onCreateNewGuide: this.handleCreateNewGuide.bind(this), onGuideDeleted: this.handleGuideDeleted.bind(this) }), h(\"fields-layout\", { ref: ref => this.refFieldsLayout = ref, selectedGuide: this.selectedGuide, guideNames: this.getGuideNames(), groupsList: this.groupsList, messagesBuilder: this.messagesBuilder, dataUnit: this.dataUnit, onGuideRenamed: this.handleGuideRenamed.bind(this), onLayoutChanged: this.handleLayoutChanged.bind(this), onSetFieldListAsAvailable: this.handleSetFieldListAsAvailable.bind(this) }), h(\"fields-selector\", { dataUnit: this.dataUnit, availableFields: this.availableFields, onFieldListChanged: this.handleAvailableFieldListChanged.bind(this) })))));\n  }\n  static get watchers() { return {\n    \"selectedGuide\": [\"observeSelectedGuide\"],\n    \"configManager\": [\"observeConfigManager\"]\n  }; }\n};\nSnkFormConfig.style = snkFormConfigCss;\n\nexport { SnkForm as snk_form, SnkFormConfig as snk_form_config };\n"],"names":["snkFormCss","SnkForm","hostRef","registerInstance","createEvent","fieldName","customEditor","newCustomEditors","propName","value","dataInfo","ElementIDUtils","parent","evt","ResourceIDUtils","SnkFormConfigManager","_a","fieldsWithRmPrecision","field","rmPrecision","h","ref","getElement","snkFormConfigCss","SnkFormConfig","detail","ObjectUtils","UserConfigType","fieldItem","f","guide","guideGroups","title","message","ApplicationUtils","key","params","userConfig","origin","config","error","defaultConfig","emptyConfig","fieldsFormConfig","fieldsMetadata","fieldVisible","properties","hasCfg","fieldFormName","buildGuides","buildGuidesMap","buildFormConfigFromDataUnit","selectedGuide","newGroupList","tab","TAB_NAMES","savedConfig","formConfig","getFieldsToSave","updatedList","_b","guideName","fieldsToAvailable","group","g","updatedName","updatedGroups","updateTabInFieldsFromGroupList","updatedGuide","newGuideName","buildNewGuideName","newGuide","newGuideFixedGroup","GROUP_NAMES","application","ApplicationContext","Host"],"mappings":"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","x_google_ignoreList":[0]}
class h{constructor(s){this._defaultButtons=s}process(s,t,o,n=[],i=[]){var u;this.customButtons=new Map,this.buttons="",this.disabledButtons=[].concat(n),(u=this.getButtonsArray(s,t,o))===null||u===void 0||u.forEach(l=>{let e;if(typeof l=="string")e=l;else{const c=l;this.customButtons.set(c.name,c),e=c.name}i.includes(e)||(this.isEnabled(s,t,e,o,n)||this.disabledButtons.push(e),this.buttons.length>0&&(this.buttons+=","),this.buttons+=e)})}getButtonsArray(s,t,o){const n=this.getButtonsFromKey(s);return t?t.getButtons(s,o,[...n]):n}getButtonsFromKey(s){const t=this._defaultButtons[s];return typeof t=="function"?t():t}isEnabled(s,t,o,n,i){const u=!i.includes(o);return t&&t.isEnabled?t.isEnabled(s,n,o,u):u}}export{h as T};

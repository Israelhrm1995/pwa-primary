{"version":3,"file":"taskbar-processor-3436124c-7XYCPk7j.js","sources":["../../node_modules/@sankhyalabs/sankhyablocks/dist/esm/taskbar-processor-3436124c.js"],"sourcesContent":["class TaskbarProcessor {\n  constructor(defaultButtons) {\n    this._defaultButtons = defaultButtons;\n  }\n  process(taskbarId, taskbarManager, dataState, disabledButtons = [], invisibleButtons = []) {\n    var _a;\n    this.customButtons = new Map();\n    this.buttons = \"\";\n    this.disabledButtons = [].concat(disabledButtons);\n    (_a = this.getButtonsArray(taskbarId, taskbarManager, dataState)) === null || _a === void 0 ? void 0 : _a.forEach(btnDef => {\n      let buttonName;\n      if (typeof btnDef === \"string\") {\n        buttonName = btnDef;\n      }\n      else {\n        const customBtn = btnDef;\n        this.customButtons.set(customBtn.name, customBtn);\n        buttonName = customBtn.name;\n      }\n      if (!invisibleButtons.includes(buttonName)) {\n        if (!this.isEnabled(taskbarId, taskbarManager, buttonName, dataState, disabledButtons)) {\n          this.disabledButtons.push(buttonName);\n        }\n        if (this.buttons.length > 0) {\n          this.buttons += \",\";\n        }\n        this.buttons += buttonName;\n      }\n    });\n  }\n  getButtonsArray(taskbarId, taskbarManager, dataState) {\n    const defaults = this.getButtonsFromKey(taskbarId);\n    if (taskbarManager) {\n      return taskbarManager.getButtons(taskbarId, dataState, [...defaults]);\n    }\n    return defaults;\n  }\n  getButtonsFromKey(taskbarId) {\n    const btnsValue = this._defaultButtons[taskbarId];\n    return typeof btnsValue === 'function' ? btnsValue() : btnsValue;\n  }\n  isEnabled(taskbarId, taskbarManager, buttonName, dataState, disabled) {\n    const originalValue = disabled.includes(buttonName) ? false : true;\n    if (taskbarManager && taskbarManager.isEnabled) {\n      return taskbarManager.isEnabled(taskbarId, dataState, buttonName, originalValue);\n    }\n    return originalValue;\n  }\n}\n\nexport { TaskbarProcessor as T };\n"],"names":["TaskbarProcessor","defaultButtons","taskbarId","taskbarManager","dataState","disabledButtons","invisibleButtons","_a","btnDef","buttonName","customBtn","defaults","btnsValue","disabled","originalValue"],"mappings":"AAAA,MAAMA,CAAiB,CACrB,YAAYC,EAAgB,CAC1B,KAAK,gBAAkBA,CAC3B,CACE,QAAQC,EAAWC,EAAgBC,EAAWC,EAAkB,CAAE,EAAEC,EAAmB,GAAI,CACzF,IAAIC,EACJ,KAAK,cAAgB,IAAI,IACzB,KAAK,QAAU,GACf,KAAK,gBAAkB,GAAG,OAAOF,CAAe,GAC/CE,EAAK,KAAK,gBAAgBL,EAAWC,EAAgBC,CAAS,KAAO,MAAQG,IAAO,QAAkBA,EAAG,QAAQC,GAAU,CAC1H,IAAIC,EACJ,GAAI,OAAOD,GAAW,SACpBC,EAAaD,MAEV,CACH,MAAME,EAAYF,EAClB,KAAK,cAAc,IAAIE,EAAU,KAAMA,CAAS,EAChDD,EAAaC,EAAU,IAC/B,CACWJ,EAAiB,SAASG,CAAU,IAClC,KAAK,UAAUP,EAAWC,EAAgBM,EAAYL,EAAWC,CAAe,GACnF,KAAK,gBAAgB,KAAKI,CAAU,EAElC,KAAK,QAAQ,OAAS,IACxB,KAAK,SAAW,KAElB,KAAK,SAAWA,EAExB,CAAK,CACL,CACE,gBAAgBP,EAAWC,EAAgBC,EAAW,CACpD,MAAMO,EAAW,KAAK,kBAAkBT,CAAS,EACjD,OAAIC,EACKA,EAAe,WAAWD,EAAWE,EAAW,CAAC,GAAGO,CAAQ,CAAC,EAE/DA,CACX,CACE,kBAAkBT,EAAW,CAC3B,MAAMU,EAAY,KAAK,gBAAgBV,CAAS,EAChD,OAAO,OAAOU,GAAc,WAAaA,EAAW,EAAGA,CAC3D,CACE,UAAUV,EAAWC,EAAgBM,EAAYL,EAAWS,EAAU,CACpE,MAAMC,EAAgB,CAAAD,EAAS,SAASJ,CAAU,EAClD,OAAIN,GAAkBA,EAAe,UAC5BA,EAAe,UAAUD,EAAWE,EAAWK,EAAYK,CAAa,EAE1EA,CACX,CACA","x_google_ignoreList":[0]}